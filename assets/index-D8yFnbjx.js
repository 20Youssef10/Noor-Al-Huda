(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();function Qf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rl={exports:{}},Qo={},kl={exports:{}},de={};var ld;function Jh(){if(ld)return de;ld=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,D={};function R(A,F,ue){this.props=A,this.context=F,this.refs=D,this.updater=ue||x}R.prototype.isReactComponent={},R.prototype.setState=function(A,F){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,F,"setState")},R.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function L(){}L.prototype=R.prototype;function $(A,F,ue){this.props=A,this.context=F,this.refs=D,this.updater=ue||x}var B=$.prototype=new L;B.constructor=$,k(B,R.prototype),B.isPureReactComponent=!0;var H=Array.isArray,Y=Object.prototype.hasOwnProperty,W={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function pe(A,F,ue){var fe,he={},ge=null,xe=null;if(F!=null)for(fe in F.ref!==void 0&&(xe=F.ref),F.key!==void 0&&(ge=""+F.key),F)Y.call(F,fe)&&!ne.hasOwnProperty(fe)&&(he[fe]=F[fe]);var Se=arguments.length-2;if(Se===1)he.children=ue;else if(1<Se){for(var Re=Array(Se),at=0;at<Se;at++)Re[at]=arguments[at+2];he.children=Re}if(A&&A.defaultProps)for(fe in Se=A.defaultProps,Se)he[fe]===void 0&&(he[fe]=Se[fe]);return{$$typeof:t,type:A,key:ge,ref:xe,props:he,_owner:W.current}}function ee(A,F){return{$$typeof:t,type:A.type,key:F,ref:A.ref,props:A.props,_owner:A._owner}}function ae(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function _e(A){var F={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ue){return F[ue]})}var Le=/\/+/g;function ce(A,F){return typeof A=="object"&&A!==null&&A.key!=null?_e(""+A.key):F.toString(36)}function Ne(A,F,ue,fe,he){var ge=typeof A;(ge==="undefined"||ge==="boolean")&&(A=null);var xe=!1;if(A===null)xe=!0;else switch(ge){case"string":case"number":xe=!0;break;case"object":switch(A.$$typeof){case t:case e:xe=!0}}if(xe)return xe=A,he=he(xe),A=fe===""?"."+ce(xe,0):fe,H(he)?(ue="",A!=null&&(ue=A.replace(Le,"$&/")+"/"),Ne(he,F,ue,"",function(at){return at})):he!=null&&(ae(he)&&(he=ee(he,ue+(!he.key||xe&&xe.key===he.key?"":(""+he.key).replace(Le,"$&/")+"/")+A)),F.push(he)),1;if(xe=0,fe=fe===""?".":fe+":",H(A))for(var Se=0;Se<A.length;Se++){ge=A[Se];var Re=fe+ce(ge,Se);xe+=Ne(ge,F,ue,Re,he)}else if(Re=S(A),typeof Re=="function")for(A=Re.call(A),Se=0;!(ge=A.next()).done;)ge=ge.value,Re=fe+ce(ge,Se++),xe+=Ne(ge,F,ue,Re,he);else if(ge==="object")throw F=String(A),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return xe}function Xe(A,F,ue){if(A==null)return A;var fe=[],he=0;return Ne(A,fe,"","",function(ge){return F.call(ue,ge,he++)}),fe}function Ce(A){if(A._status===-1){var F=A._result;F=F(),F.then(function(ue){(A._status===0||A._status===-1)&&(A._status=1,A._result=ue)},function(ue){(A._status===0||A._status===-1)&&(A._status=2,A._result=ue)}),A._status===-1&&(A._status=0,A._result=F)}if(A._status===1)return A._result.default;throw A._result}var O={current:null},z={transition:null},oe={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:z,ReactCurrentOwner:W};function Q(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:Xe,forEach:function(A,F,ue){Xe(A,function(){F.apply(this,arguments)},ue)},count:function(A){var F=0;return Xe(A,function(){F++}),F},toArray:function(A){return Xe(A,function(F){return F})||[]},only:function(A){if(!ae(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},de.Component=R,de.Fragment=o,de.Profiler=l,de.PureComponent=$,de.StrictMode=i,de.Suspense=g,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,de.act=Q,de.cloneElement=function(A,F,ue){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var fe=k({},A.props),he=A.key,ge=A.ref,xe=A._owner;if(F!=null){if(F.ref!==void 0&&(ge=F.ref,xe=W.current),F.key!==void 0&&(he=""+F.key),A.type&&A.type.defaultProps)var Se=A.type.defaultProps;for(Re in F)Y.call(F,Re)&&!ne.hasOwnProperty(Re)&&(fe[Re]=F[Re]===void 0&&Se!==void 0?Se[Re]:F[Re])}var Re=arguments.length-2;if(Re===1)fe.children=ue;else if(1<Re){Se=Array(Re);for(var at=0;at<Re;at++)Se[at]=arguments[at+2];fe.children=Se}return{$$typeof:t,type:A.type,key:he,ref:ge,props:fe,_owner:xe}},de.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},de.createElement=pe,de.createFactory=function(A){var F=pe.bind(null,A);return F.type=A,F},de.createRef=function(){return{current:null}},de.forwardRef=function(A){return{$$typeof:p,render:A}},de.isValidElement=ae,de.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:Ce}},de.memo=function(A,F){return{$$typeof:h,type:A,compare:F===void 0?null:F}},de.startTransition=function(A){var F=z.transition;z.transition={};try{A()}finally{z.transition=F}},de.unstable_act=Q,de.useCallback=function(A,F){return O.current.useCallback(A,F)},de.useContext=function(A){return O.current.useContext(A)},de.useDebugValue=function(){},de.useDeferredValue=function(A){return O.current.useDeferredValue(A)},de.useEffect=function(A,F){return O.current.useEffect(A,F)},de.useId=function(){return O.current.useId()},de.useImperativeHandle=function(A,F,ue){return O.current.useImperativeHandle(A,F,ue)},de.useInsertionEffect=function(A,F){return O.current.useInsertionEffect(A,F)},de.useLayoutEffect=function(A,F){return O.current.useLayoutEffect(A,F)},de.useMemo=function(A,F){return O.current.useMemo(A,F)},de.useReducer=function(A,F,ue){return O.current.useReducer(A,F,ue)},de.useRef=function(A){return O.current.useRef(A)},de.useState=function(A){return O.current.useState(A)},de.useSyncExternalStore=function(A,F,ue){return O.current.useSyncExternalStore(A,F,ue)},de.useTransition=function(){return O.current.useTransition()},de.version="18.3.1",de}var ad;function jl(){return ad||(ad=1,kl.exports=Jh()),kl.exports}var ud;function bh(){if(ud)return Qo;ud=1;var t=jl(),e=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,h){var v,E={},S=null,x=null;h!==void 0&&(S=""+h),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(x=g.ref);for(v in g)i.call(g,v)&&!c.hasOwnProperty(v)&&(E[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)E[v]===void 0&&(E[v]=g[v]);return{$$typeof:e,type:p,key:S,ref:x,props:E,_owner:l.current}}return Qo.Fragment=o,Qo.jsx=f,Qo.jsxs=f,Qo}var cd;function Oh(){return cd||(cd=1,Rl.exports=bh()),Rl.exports}var T=Oh(),te=jl();const Wh=Qf(te);var ci={},Pl={exports:{}},lt={},Ml={exports:{}},Dl={};var dd;function Kh(){return dd||(dd=1,(function(t){function e(z,oe){var Q=z.length;z.push(oe);e:for(;0<Q;){var A=Q-1>>>1,F=z[A];if(0<l(F,oe))z[A]=oe,z[Q]=F,Q=A;else break e}}function o(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var oe=z[0],Q=z.pop();if(Q!==oe){z[0]=Q;e:for(var A=0,F=z.length,ue=F>>>1;A<ue;){var fe=2*(A+1)-1,he=z[fe],ge=fe+1,xe=z[ge];if(0>l(he,Q))ge<F&&0>l(xe,he)?(z[A]=xe,z[ge]=Q,A=ge):(z[A]=he,z[fe]=Q,A=fe);else if(ge<F&&0>l(xe,Q))z[A]=xe,z[ge]=Q,A=ge;else break e}}return oe}function l(z,oe){var Q=z.sortIndex-oe.sortIndex;return Q!==0?Q:z.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var g=[],h=[],v=1,E=null,S=3,x=!1,k=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(z){for(var oe=o(h);oe!==null;){if(oe.callback===null)i(h);else if(oe.startTime<=z)i(h),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=o(h)}}function H(z){if(D=!1,B(z),!k)if(o(g)!==null)k=!0,Ce(Y);else{var oe=o(h);oe!==null&&O(H,oe.startTime-z)}}function Y(z,oe){k=!1,D&&(D=!1,L(pe),pe=-1),x=!0;var Q=S;try{for(B(oe),E=o(g);E!==null&&(!(E.expirationTime>oe)||z&&!_e());){var A=E.callback;if(typeof A=="function"){E.callback=null,S=E.priorityLevel;var F=A(E.expirationTime<=oe);oe=t.unstable_now(),typeof F=="function"?E.callback=F:E===o(g)&&i(g),B(oe)}else i(g);E=o(g)}if(E!==null)var ue=!0;else{var fe=o(h);fe!==null&&O(H,fe.startTime-oe),ue=!1}return ue}finally{E=null,S=Q,x=!1}}var W=!1,ne=null,pe=-1,ee=5,ae=-1;function _e(){return!(t.unstable_now()-ae<ee)}function Le(){if(ne!==null){var z=t.unstable_now();ae=z;var oe=!0;try{oe=ne(!0,z)}finally{oe?ce():(W=!1,ne=null)}}else W=!1}var ce;if(typeof $=="function")ce=function(){$(Le)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Xe=Ne.port2;Ne.port1.onmessage=Le,ce=function(){Xe.postMessage(null)}}else ce=function(){R(Le,0)};function Ce(z){ne=z,W||(W=!0,ce())}function O(z,oe){pe=R(function(){z(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){k||x||(k=!0,Ce(Y))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return o(g)},t.unstable_next=function(z){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var Q=S;S=oe;try{return z()}finally{S=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,oe){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=S;S=z;try{return oe()}finally{S=Q}},t.unstable_scheduleCallback=function(z,oe,Q){var A=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?A+Q:A):Q=A,z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,z={id:v++,callback:oe,priorityLevel:z,startTime:Q,expirationTime:F,sortIndex:-1},Q>A?(z.sortIndex=Q,e(h,z),o(g)===null&&z===o(h)&&(D?(L(pe),pe=-1):D=!0,O(H,Q-A))):(z.sortIndex=F,e(g,z),k||x||(k=!0,Ce(Y))),z},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(z){var oe=S;return function(){var Q=S;S=oe;try{return z.apply(this,arguments)}finally{S=Q}}}})(Dl)),Dl}var fd;function Yh(){return fd||(fd=1,Ml.exports=Kh()),Ml.exports}var pd;function Qh(){if(pd)return lt;pd=1;var t=jl(),e=Yh();function o(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function c(n,r){f(n,r),f(n+"Capture",r)}function f(n,r){for(l[n]=r,n=0;n<r.length;n++)i.add(r[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function S(n){return g.call(E,n)?!0:g.call(v,n)?!1:h.test(n)?E[n]=!0:(v[n]=!0,!1)}function x(n,r,s,d){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return d?!1:s!==null?!s.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,r,s,d){if(r===null||typeof r>"u"||x(n,r,s,d))return!0;if(d)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function D(n,r,s,d,m,y,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=s,this.propertyName=n,this.type=r,this.sanitizeURL=y,this.removeEmptyString=_}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){R[n]=new D(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];R[r]=new D(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){R[n]=new D(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){R[n]=new D(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){R[n]=new D(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){R[n]=new D(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){R[n]=new D(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){R[n]=new D(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){R[n]=new D(n,5,!1,n.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function $(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(L,$);R[r]=new D(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(L,$);R[r]=new D(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(L,$);R[r]=new D(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){R[n]=new D(n,1,!1,n.toLowerCase(),null,!1,!1)}),R.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){R[n]=new D(n,1,!1,n.toLowerCase(),null,!0,!0)});function B(n,r,s,d){var m=R.hasOwnProperty(r)?R[r]:null;(m!==null?m.type!==0:d||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(k(r,s,m,d)&&(s=null),d||m===null?S(r)&&(s===null?n.removeAttribute(r):n.setAttribute(r,""+s)):m.mustUseProperty?n[m.propertyName]=s===null?m.type===3?!1:"":s:(r=m.attributeName,d=m.attributeNamespace,s===null?n.removeAttribute(r):(m=m.type,s=m===3||m===4&&s===!0?"":""+s,d?n.setAttributeNS(d,r,s):n.setAttribute(r,s))))}var H=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),W=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),_e=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Xe=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),z=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var Q=Object.assign,A;function F(n){if(A===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);A=r&&r[1]||""}return`
`+A+n}var ue=!1;function fe(n,r){if(!n||ue)return"";ue=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(M){var d=M}Reflect.construct(n,[],r)}else{try{r.call()}catch(M){d=M}n.call(r.prototype)}else{try{throw Error()}catch(M){d=M}n()}}catch(M){if(M&&d&&typeof M.stack=="string"){for(var m=M.stack.split(`
`),y=d.stack.split(`
`),_=m.length-1,C=y.length-1;1<=_&&0<=C&&m[_]!==y[C];)C--;for(;1<=_&&0<=C;_--,C--)if(m[_]!==y[C]){if(_!==1||C!==1)do if(_--,C--,0>C||m[_]!==y[C]){var w=`
`+m[_].replace(" at new "," at ");return n.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",n.displayName)),w}while(1<=_&&0<=C);break}}}finally{ue=!1,Error.prepareStackTrace=s}return(n=n?n.displayName||n.name:"")?F(n):""}function he(n){switch(n.tag){case 5:return F(n.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return n=fe(n.type,!1),n;case 11:return n=fe(n.type.render,!1),n;case 1:return n=fe(n.type,!0),n;default:return""}}function ge(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ne:return"Fragment";case W:return"Portal";case ee:return"Profiler";case pe:return"StrictMode";case ce:return"Suspense";case Ne:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case _e:return(n.displayName||"Context")+".Consumer";case ae:return(n._context.displayName||"Context")+".Provider";case Le:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Xe:return r=n.displayName||null,r!==null?r:ge(n.type)||"Memo";case Ce:r=n._payload,n=n._init;try{return ge(n(r))}catch{}}return null}function xe(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(r);case 8:return r===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Se(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Re(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function at(n){var r=Re(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),d=""+n[r];if(!n.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var m=s.get,y=s.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return m.call(this)},set:function(_){d=""+_,y.call(this,_)}}),Object.defineProperty(n,r,{enumerable:s.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function er(n){n._valueTracker||(n._valueTracker=at(n))}function pa(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),d="";return n&&(d=Re(n)?n.checked?"true":"false":n.value),n=d,n!==s?(r.setValue(n),!0):!1}function tr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Fi(n,r){var s=r.checked;return Q({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??n._wrapperState.initialChecked})}function ma(n,r){var s=r.defaultValue==null?"":r.defaultValue,d=r.checked!=null?r.checked:r.defaultChecked;s=Se(r.value!=null?r.value:s),n._wrapperState={initialChecked:d,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ha(n,r){r=r.checked,r!=null&&B(n,"checked",r,!1)}function Vi(n,r){ha(n,r);var s=Se(r.value),d=r.type;if(s!=null)d==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+s):n.value!==""+s&&(n.value=""+s);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?Gi(n,r.type,s):r.hasOwnProperty("defaultValue")&&Gi(n,r.type,Se(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function ga(n,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var d=r.type;if(!(d!=="submit"&&d!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,s||r===n.value||(n.value=r),n.defaultValue=r}s=n.name,s!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,s!==""&&(n.name=s)}function Gi(n,r,s){(r!=="number"||tr(n.ownerDocument)!==n)&&(s==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+s&&(n.defaultValue=""+s))}var co=Array.isArray;function Pn(n,r,s,d){if(n=n.options,r){r={};for(var m=0;m<s.length;m++)r["$"+s[m]]=!0;for(s=0;s<n.length;s++)m=r.hasOwnProperty("$"+n[s].value),n[s].selected!==m&&(n[s].selected=m),m&&d&&(n[s].defaultSelected=!0)}else{for(s=""+Se(s),r=null,m=0;m<n.length;m++){if(n[m].value===s){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}r!==null||n[m].disabled||(r=n[m])}r!==null&&(r.selected=!0)}}function Hi(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(o(91));return Q({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ya(n,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(o(92));if(co(s)){if(1<s.length)throw Error(o(93));s=s[0]}r=s}r==null&&(r=""),s=r}n._wrapperState={initialValue:Se(s)}}function va(n,r){var s=Se(r.value),d=Se(r.defaultValue);s!=null&&(s=""+s,s!==n.value&&(n.value=s),r.defaultValue==null&&n.defaultValue!==s&&(n.defaultValue=s)),d!=null&&(n.defaultValue=""+d)}function Sa(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function Ea(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qi(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?Ea(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var nr,_a=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,d,m){MSApp.execUnsafeLocalFunction(function(){return n(r,s,d,m)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=nr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function fo(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kp=["Webkit","ms","Moz","O"];Object.keys(po).forEach(function(n){Kp.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),po[r]=po[n]})});function Ta(n,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||po.hasOwnProperty(n)&&po[n]?(""+r).trim():r+"px"}function Ca(n,r){n=n.style;for(var s in r)if(r.hasOwnProperty(s)){var d=s.indexOf("--")===0,m=Ta(s,r[s],d);s==="float"&&(s="cssFloat"),d?n.setProperty(s,m):n[s]=m}}var Yp=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bi(n,r){if(r){if(Yp[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(o(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(o(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(o(61))}if(r.style!=null&&typeof r.style!="object")throw Error(o(62))}}function zi(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $i=null;function Ji(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var bi=null,Mn=null,Dn=null;function xa(n){if(n=Uo(n)){if(typeof bi!="function")throw Error(o(280));var r=n.stateNode;r&&(r=wr(r),bi(n.stateNode,n.type,r))}}function wa(n){Mn?Dn?Dn.push(n):Dn=[n]:Mn=n}function Ia(){if(Mn){var n=Mn,r=Dn;if(Dn=Mn=null,xa(n),r)for(n=0;n<r.length;n++)xa(r[n])}}function Aa(n,r){return n(r)}function Na(){}var Oi=!1;function Ra(n,r,s){if(Oi)return n(r,s);Oi=!0;try{return Aa(n,r,s)}finally{Oi=!1,(Mn!==null||Dn!==null)&&(Na(),Ia())}}function mo(n,r){var s=n.stateNode;if(s===null)return null;var d=wr(s);if(d===null)return null;s=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(o(231,r,typeof s));return s}var Wi=!1;if(p)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{Wi=!1}function Qp(n,r,s,d,m,y,_,C,w){var M=Array.prototype.slice.call(arguments,3);try{r.apply(s,M)}catch(V){this.onError(V)}}var go=!1,or=null,rr=!1,Ki=null,Xp={onError:function(n){go=!0,or=n}};function Zp(n,r,s,d,m,y,_,C,w){go=!1,or=null,Qp.apply(Xp,arguments)}function jp(n,r,s,d,m,y,_,C,w){if(Zp.apply(this,arguments),go){if(go){var M=or;go=!1,or=null}else throw Error(o(198));rr||(rr=!0,Ki=M)}}function gn(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function ka(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function Pa(n){if(gn(n)!==n)throw Error(o(188))}function em(n){var r=n.alternate;if(!r){if(r=gn(n),r===null)throw Error(o(188));return r!==n?null:n}for(var s=n,d=r;;){var m=s.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){s=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===s)return Pa(m),n;if(y===d)return Pa(m),r;y=y.sibling}throw Error(o(188))}if(s.return!==d.return)s=m,d=y;else{for(var _=!1,C=m.child;C;){if(C===s){_=!0,s=m,d=y;break}if(C===d){_=!0,d=m,s=y;break}C=C.sibling}if(!_){for(C=y.child;C;){if(C===s){_=!0,s=y,d=m;break}if(C===d){_=!0,d=y,s=m;break}C=C.sibling}if(!_)throw Error(o(189))}}if(s.alternate!==d)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?n:r}function Ma(n){return n=em(n),n!==null?Da(n):null}function Da(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=Da(n);if(r!==null)return r;n=n.sibling}return null}var La=e.unstable_scheduleCallback,Ua=e.unstable_cancelCallback,tm=e.unstable_shouldYield,nm=e.unstable_requestPaint,Ue=e.unstable_now,om=e.unstable_getCurrentPriorityLevel,Yi=e.unstable_ImmediatePriority,Fa=e.unstable_UserBlockingPriority,ir=e.unstable_NormalPriority,rm=e.unstable_LowPriority,Va=e.unstable_IdlePriority,sr=null,Pt=null;function im(n){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(sr,n,void 0,(n.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:am,sm=Math.log,lm=Math.LN2;function am(n){return n>>>=0,n===0?32:31-(sm(n)/lm|0)|0}var lr=64,ar=4194304;function yo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ur(n,r){var s=n.pendingLanes;if(s===0)return 0;var d=0,m=n.suspendedLanes,y=n.pingedLanes,_=s&268435455;if(_!==0){var C=_&~m;C!==0?d=yo(C):(y&=_,y!==0&&(d=yo(y)))}else _=s&~m,_!==0?d=yo(_):y!==0&&(d=yo(y));if(d===0)return 0;if(r!==0&&r!==d&&(r&m)===0&&(m=d&-d,y=r&-r,m>=y||m===16&&(y&4194240)!==0))return r;if((d&4)!==0&&(d|=s&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=d;0<r;)s=31-_t(r),m=1<<s,d|=n[s],r&=~m;return d}function um(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cm(n,r){for(var s=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes;0<y;){var _=31-_t(y),C=1<<_,w=m[_];w===-1?((C&s)===0||(C&d)!==0)&&(m[_]=um(C,r)):w<=r&&(n.expiredLanes|=C),y&=~C}}function Qi(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ga(){var n=lr;return lr<<=1,(lr&4194240)===0&&(lr=64),n}function Xi(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function vo(n,r,s){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-_t(r),n[r]=s}function dm(n,r){var s=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<s;){var m=31-_t(s),y=1<<m;r[m]=0,d[m]=-1,n[m]=-1,s&=~y}}function Zi(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var d=31-_t(s),m=1<<d;m&r|n[d]&r&&(n[d]|=r),s&=~m}}var Ee=0;function Ha(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var qa,ji,Ba,za,$a,es=!1,cr=[],Wt=null,Kt=null,Yt=null,So=new Map,Eo=new Map,Qt=[],fm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(n,r){switch(n){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":So.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(r.pointerId)}}function _o(n,r,s,d,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:r,domEventName:s,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},r!==null&&(r=Uo(r),r!==null&&ji(r)),n):(n.eventSystemFlags|=d,r=n.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),n)}function pm(n,r,s,d,m){switch(r){case"focusin":return Wt=_o(Wt,n,r,s,d,m),!0;case"dragenter":return Kt=_o(Kt,n,r,s,d,m),!0;case"mouseover":return Yt=_o(Yt,n,r,s,d,m),!0;case"pointerover":var y=m.pointerId;return So.set(y,_o(So.get(y)||null,n,r,s,d,m)),!0;case"gotpointercapture":return y=m.pointerId,Eo.set(y,_o(Eo.get(y)||null,n,r,s,d,m)),!0}return!1}function ba(n){var r=yn(n.target);if(r!==null){var s=gn(r);if(s!==null){if(r=s.tag,r===13){if(r=ka(s),r!==null){n.blockedOn=r,$a(n.priority,function(){Ba(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dr(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=ns(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(s===null){s=n.nativeEvent;var d=new s.constructor(s.type,s);$i=d,s.target.dispatchEvent(d),$i=null}else return r=Uo(s),r!==null&&ji(r),n.blockedOn=s,!1;r.shift()}return!0}function Oa(n,r,s){dr(n)&&s.delete(r)}function mm(){es=!1,Wt!==null&&dr(Wt)&&(Wt=null),Kt!==null&&dr(Kt)&&(Kt=null),Yt!==null&&dr(Yt)&&(Yt=null),So.forEach(Oa),Eo.forEach(Oa)}function To(n,r){n.blockedOn===r&&(n.blockedOn=null,es||(es=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mm)))}function Co(n){function r(m){return To(m,n)}if(0<cr.length){To(cr[0],n);for(var s=1;s<cr.length;s++){var d=cr[s];d.blockedOn===n&&(d.blockedOn=null)}}for(Wt!==null&&To(Wt,n),Kt!==null&&To(Kt,n),Yt!==null&&To(Yt,n),So.forEach(r),Eo.forEach(r),s=0;s<Qt.length;s++)d=Qt[s],d.blockedOn===n&&(d.blockedOn=null);for(;0<Qt.length&&(s=Qt[0],s.blockedOn===null);)ba(s),s.blockedOn===null&&Qt.shift()}var Ln=H.ReactCurrentBatchConfig,fr=!0;function hm(n,r,s,d){var m=Ee,y=Ln.transition;Ln.transition=null;try{Ee=1,ts(n,r,s,d)}finally{Ee=m,Ln.transition=y}}function gm(n,r,s,d){var m=Ee,y=Ln.transition;Ln.transition=null;try{Ee=4,ts(n,r,s,d)}finally{Ee=m,Ln.transition=y}}function ts(n,r,s,d){if(fr){var m=ns(n,r,s,d);if(m===null)Ss(n,r,d,pr,s),Ja(n,d);else if(pm(m,n,r,s,d))d.stopPropagation();else if(Ja(n,d),r&4&&-1<fm.indexOf(n)){for(;m!==null;){var y=Uo(m);if(y!==null&&qa(y),y=ns(n,r,s,d),y===null&&Ss(n,r,d,pr,s),y===m)break;m=y}m!==null&&d.stopPropagation()}else Ss(n,r,d,null,s)}}var pr=null;function ns(n,r,s,d){if(pr=null,n=Ji(d),n=yn(n),n!==null)if(r=gn(n),r===null)n=null;else if(s=r.tag,s===13){if(n=ka(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return pr=n,null}function Wa(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(om()){case Yi:return 1;case Fa:return 4;case ir:case rm:return 16;case Va:return 536870912;default:return 16}default:return 16}}var Xt=null,os=null,mr=null;function Ka(){if(mr)return mr;var n,r=os,s=r.length,d,m="value"in Xt?Xt.value:Xt.textContent,y=m.length;for(n=0;n<s&&r[n]===m[n];n++);var _=s-n;for(d=1;d<=_&&r[s-d]===m[y-d];d++);return mr=m.slice(n,1<d?1-d:void 0)}function hr(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function gr(){return!0}function Ya(){return!1}function ut(n){function r(s,d,m,y,_){this._reactName=s,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(s=n[C],this[C]=s?s(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?gr:Ya,this.isPropagationStopped=Ya,this}return Q(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),r}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=ut(Un),xo=Q({},Un,{view:0,detail:0}),ym=ut(xo),is,ss,wo,yr=Q({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wo&&(wo&&n.type==="mousemove"?(is=n.screenX-wo.screenX,ss=n.screenY-wo.screenY):ss=is=0,wo=n),is)},movementY:function(n){return"movementY"in n?n.movementY:ss}}),Qa=ut(yr),vm=Q({},yr,{dataTransfer:0}),Sm=ut(vm),Em=Q({},xo,{relatedTarget:0}),ls=ut(Em),_m=Q({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),Tm=ut(_m),Cm=Q({},Un,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xm=ut(Cm),wm=Q({},Un,{data:0}),Xa=ut(wm),Im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rm(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Nm[n])?!!r[n]:!1}function as(){return Rm}var km=Q({},xo,{key:function(n){if(n.key){var r=Im[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=hr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Am[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(n){return n.type==="keypress"?hr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pm=ut(km),Mm=Q({},yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Za=ut(Mm),Dm=Q({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),Lm=ut(Dm),Um=Q({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fm=ut(Um),Vm=Q({},yr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Gm=ut(Vm),Hm=[9,13,27,32],us=p&&"CompositionEvent"in window,Io=null;p&&"documentMode"in document&&(Io=document.documentMode);var qm=p&&"TextEvent"in window&&!Io,ja=p&&(!us||Io&&8<Io&&11>=Io),eu=" ",tu=!1;function nu(n,r){switch(n){case"keyup":return Hm.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fn=!1;function Bm(n,r){switch(n){case"compositionend":return ou(r);case"keypress":return r.which!==32?null:(tu=!0,eu);case"textInput":return n=r.data,n===eu&&tu?null:n;default:return null}}function zm(n,r){if(Fn)return n==="compositionend"||!us&&nu(n,r)?(n=Ka(),mr=os=Xt=null,Fn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ja&&r.locale!=="ko"?null:r.data;default:return null}}var $m={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!$m[n.type]:r==="textarea"}function iu(n,r,s,d){wa(d),r=Tr(r,"onChange"),0<r.length&&(s=new rs("onChange","change",null,s,d),n.push({event:s,listeners:r}))}var Ao=null,No=null;function Jm(n){Cu(n,0)}function vr(n){var r=Bn(n);if(pa(r))return n}function bm(n,r){if(n==="change")return r}var su=!1;if(p){var cs;if(p){var ds="oninput"in document;if(!ds){var lu=document.createElement("div");lu.setAttribute("oninput","return;"),ds=typeof lu.oninput=="function"}cs=ds}else cs=!1;su=cs&&(!document.documentMode||9<document.documentMode)}function au(){Ao&&(Ao.detachEvent("onpropertychange",uu),No=Ao=null)}function uu(n){if(n.propertyName==="value"&&vr(No)){var r=[];iu(r,No,n,Ji(n)),Ra(Jm,r)}}function Om(n,r,s){n==="focusin"?(au(),Ao=r,No=s,Ao.attachEvent("onpropertychange",uu)):n==="focusout"&&au()}function Wm(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return vr(No)}function Km(n,r){if(n==="click")return vr(r)}function Ym(n,r){if(n==="input"||n==="change")return vr(r)}function Qm(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Tt=typeof Object.is=="function"?Object.is:Qm;function Ro(n,r){if(Tt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),d=Object.keys(r);if(s.length!==d.length)return!1;for(d=0;d<s.length;d++){var m=s[d];if(!g.call(r,m)||!Tt(n[m],r[m]))return!1}return!0}function cu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function du(n,r){var s=cu(n);n=0;for(var d;s;){if(s.nodeType===3){if(d=n+s.textContent.length,n<=r&&d>=r)return{node:s,offset:r-n};n=d}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cu(s)}}function fu(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?fu(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function pu(){for(var n=window,r=tr();r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=tr(n.document)}return r}function fs(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Xm(n){var r=pu(),s=n.focusedElem,d=n.selectionRange;if(r!==s&&s&&s.ownerDocument&&fu(s.ownerDocument.documentElement,s)){if(d!==null&&fs(s)){if(r=d.start,n=d.end,n===void 0&&(n=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(n,s.value.length);else if(n=(r=s.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var m=s.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!n.extend&&y>d&&(m=d,d=y,y=m),m=du(s,y);var _=du(s,d);m&&_&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),n.removeAllRanges(),y>d?(n.addRange(r),n.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),n.addRange(r)))}}for(r=[],n=s;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)n=r[s],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Zm=p&&"documentMode"in document&&11>=document.documentMode,Vn=null,ps=null,ko=null,ms=!1;function mu(n,r,s){var d=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ms||Vn==null||Vn!==tr(d)||(d=Vn,"selectionStart"in d&&fs(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ko&&Ro(ko,d)||(ko=d,d=Tr(ps,"onSelect"),0<d.length&&(r=new rs("onSelect","select",null,r,s),n.push({event:r,listeners:d}),r.target=Vn)))}function Sr(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var Gn={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},hs={},hu={};p&&(hu=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Er(n){if(hs[n])return hs[n];if(!Gn[n])return n;var r=Gn[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in hu)return hs[n]=r[s];return n}var gu=Er("animationend"),yu=Er("animationiteration"),vu=Er("animationstart"),Su=Er("transitionend"),Eu=new Map,_u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(n,r){Eu.set(n,r),c(r,[n])}for(var gs=0;gs<_u.length;gs++){var ys=_u[gs],jm=ys.toLowerCase(),eh=ys[0].toUpperCase()+ys.slice(1);Zt(jm,"on"+eh)}Zt(gu,"onAnimationEnd"),Zt(yu,"onAnimationIteration"),Zt(vu,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(Su,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),th=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Tu(n,r,s){var d=n.type||"unknown-event";n.currentTarget=s,jp(d,r,void 0,n),n.currentTarget=null}function Cu(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var d=n[s],m=d.event;d=d.listeners;e:{var y=void 0;if(r)for(var _=d.length-1;0<=_;_--){var C=d[_],w=C.instance,M=C.currentTarget;if(C=C.listener,w!==y&&m.isPropagationStopped())break e;Tu(m,C,M),y=w}else for(_=0;_<d.length;_++){if(C=d[_],w=C.instance,M=C.currentTarget,C=C.listener,w!==y&&m.isPropagationStopped())break e;Tu(m,C,M),y=w}}}if(rr)throw n=Ki,rr=!1,Ki=null,n}function Ie(n,r){var s=r[ws];s===void 0&&(s=r[ws]=new Set);var d=n+"__bubble";s.has(d)||(xu(r,n,2,!1),s.add(d))}function vs(n,r,s){var d=0;r&&(d|=4),xu(s,n,d,r)}var _r="_reactListening"+Math.random().toString(36).slice(2);function Mo(n){if(!n[_r]){n[_r]=!0,i.forEach(function(s){s!=="selectionchange"&&(th.has(s)||vs(s,!1,n),vs(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[_r]||(r[_r]=!0,vs("selectionchange",!1,r))}}function xu(n,r,s,d){switch(Wa(r)){case 1:var m=hm;break;case 4:m=gm;break;default:m=ts}s=m.bind(null,r,s,n),m=void 0,!Wi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(r,s,{capture:!0,passive:m}):n.addEventListener(r,s,!0):m!==void 0?n.addEventListener(r,s,{passive:m}):n.addEventListener(r,s,!1)}function Ss(n,r,s,d,m){var y=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var C=d.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(_===4)for(_=d.return;_!==null;){var w=_.tag;if((w===3||w===4)&&(w=_.stateNode.containerInfo,w===m||w.nodeType===8&&w.parentNode===m))return;_=_.return}for(;C!==null;){if(_=yn(C),_===null)return;if(w=_.tag,w===5||w===6){d=y=_;continue e}C=C.parentNode}}d=d.return}Ra(function(){var M=y,V=Ji(s),G=[];e:{var U=Eu.get(n);if(U!==void 0){var b=rs,X=n;switch(n){case"keypress":if(hr(s)===0)break e;case"keydown":case"keyup":b=Pm;break;case"focusin":X="focus",b=ls;break;case"focusout":X="blur",b=ls;break;case"beforeblur":case"afterblur":b=ls;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Lm;break;case gu:case yu:case vu:b=Tm;break;case Su:b=Fm;break;case"scroll":b=ym;break;case"wheel":b=Gm;break;case"copy":case"cut":case"paste":b=xm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Za}var Z=(r&4)!==0,Fe=!Z&&n==="scroll",N=Z?U!==null?U+"Capture":null:U;Z=[];for(var I=M,P;I!==null;){P=I;var q=P.stateNode;if(P.tag===5&&q!==null&&(P=q,N!==null&&(q=mo(I,N),q!=null&&Z.push(Do(I,q,P)))),Fe)break;I=I.return}0<Z.length&&(U=new b(U,X,null,s,V),G.push({event:U,listeners:Z}))}}if((r&7)===0){e:{if(U=n==="mouseover"||n==="pointerover",b=n==="mouseout"||n==="pointerout",U&&s!==$i&&(X=s.relatedTarget||s.fromElement)&&(yn(X)||X[Ft]))break e;if((b||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,b?(X=s.relatedTarget||s.toElement,b=M,X=X?yn(X):null,X!==null&&(Fe=gn(X),X!==Fe||X.tag!==5&&X.tag!==6)&&(X=null)):(b=null,X=M),b!==X)){if(Z=Qa,q="onMouseLeave",N="onMouseEnter",I="mouse",(n==="pointerout"||n==="pointerover")&&(Z=Za,q="onPointerLeave",N="onPointerEnter",I="pointer"),Fe=b==null?U:Bn(b),P=X==null?U:Bn(X),U=new Z(q,I+"leave",b,s,V),U.target=Fe,U.relatedTarget=P,q=null,yn(V)===M&&(Z=new Z(N,I+"enter",X,s,V),Z.target=P,Z.relatedTarget=Fe,q=Z),Fe=q,b&&X)t:{for(Z=b,N=X,I=0,P=Z;P;P=Hn(P))I++;for(P=0,q=N;q;q=Hn(q))P++;for(;0<I-P;)Z=Hn(Z),I--;for(;0<P-I;)N=Hn(N),P--;for(;I--;){if(Z===N||N!==null&&Z===N.alternate)break t;Z=Hn(Z),N=Hn(N)}Z=null}else Z=null;b!==null&&wu(G,U,b,Z,!1),X!==null&&Fe!==null&&wu(G,Fe,X,Z,!0)}}e:{if(U=M?Bn(M):window,b=U.nodeName&&U.nodeName.toLowerCase(),b==="select"||b==="input"&&U.type==="file")var j=bm;else if(ru(U))if(su)j=Ym;else{j=Wm;var re=Om}else(b=U.nodeName)&&b.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(j=Km);if(j&&(j=j(n,M))){iu(G,j,s,V);break e}re&&re(n,U,M),n==="focusout"&&(re=U._wrapperState)&&re.controlled&&U.type==="number"&&Gi(U,"number",U.value)}switch(re=M?Bn(M):window,n){case"focusin":(ru(re)||re.contentEditable==="true")&&(Vn=re,ps=M,ko=null);break;case"focusout":ko=ps=Vn=null;break;case"mousedown":ms=!0;break;case"contextmenu":case"mouseup":case"dragend":ms=!1,mu(G,s,V);break;case"selectionchange":if(Zm)break;case"keydown":case"keyup":mu(G,s,V)}var ie;if(us)e:{switch(n){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Fn?nu(n,s)&&(se="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(se="onCompositionStart");se&&(ja&&s.locale!=="ko"&&(Fn||se!=="onCompositionStart"?se==="onCompositionEnd"&&Fn&&(ie=Ka()):(Xt=V,os="value"in Xt?Xt.value:Xt.textContent,Fn=!0)),re=Tr(M,se),0<re.length&&(se=new Xa(se,n,null,s,V),G.push({event:se,listeners:re}),ie?se.data=ie:(ie=ou(s),ie!==null&&(se.data=ie)))),(ie=qm?Bm(n,s):zm(n,s))&&(M=Tr(M,"onBeforeInput"),0<M.length&&(V=new Xa("onBeforeInput","beforeinput",null,s,V),G.push({event:V,listeners:M}),V.data=ie))}Cu(G,r)})}function Do(n,r,s){return{instance:n,listener:r,currentTarget:s}}function Tr(n,r){for(var s=r+"Capture",d=[];n!==null;){var m=n,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=mo(n,s),y!=null&&d.unshift(Do(n,y,m)),y=mo(n,r),y!=null&&d.push(Do(n,y,m))),n=n.return}return d}function Hn(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function wu(n,r,s,d,m){for(var y=r._reactName,_=[];s!==null&&s!==d;){var C=s,w=C.alternate,M=C.stateNode;if(w!==null&&w===d)break;C.tag===5&&M!==null&&(C=M,m?(w=mo(s,y),w!=null&&_.unshift(Do(s,w,C))):m||(w=mo(s,y),w!=null&&_.push(Do(s,w,C)))),s=s.return}_.length!==0&&n.push({event:r,listeners:_})}var nh=/\r\n?/g,oh=/\u0000|\uFFFD/g;function Iu(n){return(typeof n=="string"?n:""+n).replace(nh,`
`).replace(oh,"")}function Cr(n,r,s){if(r=Iu(r),Iu(n)!==r&&s)throw Error(o(425))}function xr(){}var Es=null,_s=null;function Ts(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cs=typeof setTimeout=="function"?setTimeout:void 0,rh=typeof clearTimeout=="function"?clearTimeout:void 0,Au=typeof Promise=="function"?Promise:void 0,ih=typeof queueMicrotask=="function"?queueMicrotask:typeof Au<"u"?function(n){return Au.resolve(null).then(n).catch(sh)}:Cs;function sh(n){setTimeout(function(){throw n})}function xs(n,r){var s=r,d=0;do{var m=s.nextSibling;if(n.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(d===0){n.removeChild(m),Co(r);return}d--}else s!=="$"&&s!=="$?"&&s!=="$!"||d++;s=m}while(s);Co(r)}function jt(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Nu(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return n;r--}else s==="/$"&&r++}n=n.previousSibling}return null}var qn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+qn,Lo="__reactProps$"+qn,Ft="__reactContainer$"+qn,ws="__reactEvents$"+qn,lh="__reactListeners$"+qn,ah="__reactHandles$"+qn;function yn(n){var r=n[Mt];if(r)return r;for(var s=n.parentNode;s;){if(r=s[Ft]||s[Mt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=Nu(n);n!==null;){if(s=n[Mt])return s;n=Nu(n)}return r}n=s,s=n.parentNode}return null}function Uo(n){return n=n[Mt]||n[Ft],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Bn(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(o(33))}function wr(n){return n[Lo]||null}var Is=[],zn=-1;function en(n){return{current:n}}function Ae(n){0>zn||(n.current=Is[zn],Is[zn]=null,zn--)}function we(n,r){zn++,Is[zn]=n.current,n.current=r}var tn={},Oe=en(tn),nt=en(!1),vn=tn;function $n(n,r){var s=n.type.contextTypes;if(!s)return tn;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===r)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in s)m[y]=r[y];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=m),m}function ot(n){return n=n.childContextTypes,n!=null}function Ir(){Ae(nt),Ae(Oe)}function Ru(n,r,s){if(Oe.current!==tn)throw Error(o(168));we(Oe,r),we(nt,s)}function ku(n,r,s){var d=n.stateNode;if(r=r.childContextTypes,typeof d.getChildContext!="function")return s;d=d.getChildContext();for(var m in d)if(!(m in r))throw Error(o(108,xe(n)||"Unknown",m));return Q({},s,d)}function Ar(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||tn,vn=Oe.current,we(Oe,n),we(nt,nt.current),!0}function Pu(n,r,s){var d=n.stateNode;if(!d)throw Error(o(169));s?(n=ku(n,r,vn),d.__reactInternalMemoizedMergedChildContext=n,Ae(nt),Ae(Oe),we(Oe,n)):Ae(nt),we(nt,s)}var Vt=null,Nr=!1,As=!1;function Mu(n){Vt===null?Vt=[n]:Vt.push(n)}function uh(n){Nr=!0,Mu(n)}function nn(){if(!As&&Vt!==null){As=!0;var n=0,r=Ee;try{var s=Vt;for(Ee=1;n<s.length;n++){var d=s[n];do d=d(!0);while(d!==null)}Vt=null,Nr=!1}catch(m){throw Vt!==null&&(Vt=Vt.slice(n+1)),La(Yi,nn),m}finally{Ee=r,As=!1}}return null}var Jn=[],bn=0,Rr=null,kr=0,pt=[],mt=0,Sn=null,Gt=1,Ht="";function En(n,r){Jn[bn++]=kr,Jn[bn++]=Rr,Rr=n,kr=r}function Du(n,r,s){pt[mt++]=Gt,pt[mt++]=Ht,pt[mt++]=Sn,Sn=n;var d=Gt;n=Ht;var m=32-_t(d)-1;d&=~(1<<m),s+=1;var y=32-_t(r)+m;if(30<y){var _=m-m%5;y=(d&(1<<_)-1).toString(32),d>>=_,m-=_,Gt=1<<32-_t(r)+m|s<<m|d,Ht=y+n}else Gt=1<<y|s<<m|d,Ht=n}function Ns(n){n.return!==null&&(En(n,1),Du(n,1,0))}function Rs(n){for(;n===Rr;)Rr=Jn[--bn],Jn[bn]=null,kr=Jn[--bn],Jn[bn]=null;for(;n===Sn;)Sn=pt[--mt],pt[mt]=null,Ht=pt[--mt],pt[mt]=null,Gt=pt[--mt],pt[mt]=null}var ct=null,dt=null,ke=!1,Ct=null;function Lu(n,r){var s=vt(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=n,r=n.deletions,r===null?(n.deletions=[s],n.flags|=16):r.push(s)}function Uu(n,r){switch(n.tag){case 5:var s=n.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,ct=n,dt=jt(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,ct=n,dt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=Sn!==null?{id:Gt,overflow:Ht}:null,n.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=vt(18,null,null,0),s.stateNode=r,s.return=n,n.child=s,ct=n,dt=null,!0):!1;default:return!1}}function ks(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ps(n){if(ke){var r=dt;if(r){var s=r;if(!Uu(n,r)){if(ks(n))throw Error(o(418));r=jt(s.nextSibling);var d=ct;r&&Uu(n,r)?Lu(d,s):(n.flags=n.flags&-4097|2,ke=!1,ct=n)}}else{if(ks(n))throw Error(o(418));n.flags=n.flags&-4097|2,ke=!1,ct=n}}}function Fu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ct=n}function Pr(n){if(n!==ct)return!1;if(!ke)return Fu(n),ke=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Ts(n.type,n.memoizedProps)),r&&(r=dt)){if(ks(n))throw Vu(),Error(o(418));for(;r;)Lu(n,r),r=jt(r.nextSibling)}if(Fu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"){if(r===0){dt=jt(n.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}n=n.nextSibling}dt=null}}else dt=ct?jt(n.stateNode.nextSibling):null;return!0}function Vu(){for(var n=dt;n;)n=jt(n.nextSibling)}function On(){dt=ct=null,ke=!1}function Ms(n){Ct===null?Ct=[n]:Ct.push(n)}var ch=H.ReactCurrentBatchConfig;function Fo(n,r,s){if(n=s.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(o(309));var d=s.stateNode}if(!d)throw Error(o(147,n));var m=d,y=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===y?r.ref:(r=function(_){var C=m.refs;_===null?delete C[y]:C[y]=_},r._stringRef=y,r)}if(typeof n!="string")throw Error(o(284));if(!s._owner)throw Error(o(290,n))}return n}function Mr(n,r){throw n=Object.prototype.toString.call(r),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Gu(n){var r=n._init;return r(n._payload)}function Hu(n){function r(N,I){if(n){var P=N.deletions;P===null?(N.deletions=[I],N.flags|=16):P.push(I)}}function s(N,I){if(!n)return null;for(;I!==null;)r(N,I),I=I.sibling;return null}function d(N,I){for(N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function m(N,I){return N=dn(N,I),N.index=0,N.sibling=null,N}function y(N,I,P){return N.index=P,n?(P=N.alternate,P!==null?(P=P.index,P<I?(N.flags|=2,I):P):(N.flags|=2,I)):(N.flags|=1048576,I)}function _(N){return n&&N.alternate===null&&(N.flags|=2),N}function C(N,I,P,q){return I===null||I.tag!==6?(I=Cl(P,N.mode,q),I.return=N,I):(I=m(I,P),I.return=N,I)}function w(N,I,P,q){var j=P.type;return j===ne?V(N,I,P.props.children,q,P.key):I!==null&&(I.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ce&&Gu(j)===I.type)?(q=m(I,P.props),q.ref=Fo(N,I,P),q.return=N,q):(q=ni(P.type,P.key,P.props,null,N.mode,q),q.ref=Fo(N,I,P),q.return=N,q)}function M(N,I,P,q){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=xl(P,N.mode,q),I.return=N,I):(I=m(I,P.children||[]),I.return=N,I)}function V(N,I,P,q,j){return I===null||I.tag!==7?(I=Nn(P,N.mode,q,j),I.return=N,I):(I=m(I,P),I.return=N,I)}function G(N,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Cl(""+I,N.mode,P),I.return=N,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Y:return P=ni(I.type,I.key,I.props,null,N.mode,P),P.ref=Fo(N,null,I),P.return=N,P;case W:return I=xl(I,N.mode,P),I.return=N,I;case Ce:var q=I._init;return G(N,q(I._payload),P)}if(co(I)||oe(I))return I=Nn(I,N.mode,P,null),I.return=N,I;Mr(N,I)}return null}function U(N,I,P,q){var j=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return j!==null?null:C(N,I,""+P,q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:return P.key===j?w(N,I,P,q):null;case W:return P.key===j?M(N,I,P,q):null;case Ce:return j=P._init,U(N,I,j(P._payload),q)}if(co(P)||oe(P))return j!==null?null:V(N,I,P,q,null);Mr(N,P)}return null}function b(N,I,P,q,j){if(typeof q=="string"&&q!==""||typeof q=="number")return N=N.get(P)||null,C(I,N,""+q,j);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:return N=N.get(q.key===null?P:q.key)||null,w(I,N,q,j);case W:return N=N.get(q.key===null?P:q.key)||null,M(I,N,q,j);case Ce:var re=q._init;return b(N,I,P,re(q._payload),j)}if(co(q)||oe(q))return N=N.get(P)||null,V(I,N,q,j,null);Mr(I,q)}return null}function X(N,I,P,q){for(var j=null,re=null,ie=I,se=I=0,ze=null;ie!==null&&se<P.length;se++){ie.index>se?(ze=ie,ie=null):ze=ie.sibling;var ye=U(N,ie,P[se],q);if(ye===null){ie===null&&(ie=ze);break}n&&ie&&ye.alternate===null&&r(N,ie),I=y(ye,I,se),re===null?j=ye:re.sibling=ye,re=ye,ie=ze}if(se===P.length)return s(N,ie),ke&&En(N,se),j;if(ie===null){for(;se<P.length;se++)ie=G(N,P[se],q),ie!==null&&(I=y(ie,I,se),re===null?j=ie:re.sibling=ie,re=ie);return ke&&En(N,se),j}for(ie=d(N,ie);se<P.length;se++)ze=b(ie,N,se,P[se],q),ze!==null&&(n&&ze.alternate!==null&&ie.delete(ze.key===null?se:ze.key),I=y(ze,I,se),re===null?j=ze:re.sibling=ze,re=ze);return n&&ie.forEach(function(fn){return r(N,fn)}),ke&&En(N,se),j}function Z(N,I,P,q){var j=oe(P);if(typeof j!="function")throw Error(o(150));if(P=j.call(P),P==null)throw Error(o(151));for(var re=j=null,ie=I,se=I=0,ze=null,ye=P.next();ie!==null&&!ye.done;se++,ye=P.next()){ie.index>se?(ze=ie,ie=null):ze=ie.sibling;var fn=U(N,ie,ye.value,q);if(fn===null){ie===null&&(ie=ze);break}n&&ie&&fn.alternate===null&&r(N,ie),I=y(fn,I,se),re===null?j=fn:re.sibling=fn,re=fn,ie=ze}if(ye.done)return s(N,ie),ke&&En(N,se),j;if(ie===null){for(;!ye.done;se++,ye=P.next())ye=G(N,ye.value,q),ye!==null&&(I=y(ye,I,se),re===null?j=ye:re.sibling=ye,re=ye);return ke&&En(N,se),j}for(ie=d(N,ie);!ye.done;se++,ye=P.next())ye=b(ie,N,se,ye.value,q),ye!==null&&(n&&ye.alternate!==null&&ie.delete(ye.key===null?se:ye.key),I=y(ye,I,se),re===null?j=ye:re.sibling=ye,re=ye);return n&&ie.forEach(function($h){return r(N,$h)}),ke&&En(N,se),j}function Fe(N,I,P,q){if(typeof P=="object"&&P!==null&&P.type===ne&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:e:{for(var j=P.key,re=I;re!==null;){if(re.key===j){if(j=P.type,j===ne){if(re.tag===7){s(N,re.sibling),I=m(re,P.props.children),I.return=N,N=I;break e}}else if(re.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ce&&Gu(j)===re.type){s(N,re.sibling),I=m(re,P.props),I.ref=Fo(N,re,P),I.return=N,N=I;break e}s(N,re);break}else r(N,re);re=re.sibling}P.type===ne?(I=Nn(P.props.children,N.mode,q,P.key),I.return=N,N=I):(q=ni(P.type,P.key,P.props,null,N.mode,q),q.ref=Fo(N,I,P),q.return=N,N=q)}return _(N);case W:e:{for(re=P.key;I!==null;){if(I.key===re)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){s(N,I.sibling),I=m(I,P.children||[]),I.return=N,N=I;break e}else{s(N,I);break}else r(N,I);I=I.sibling}I=xl(P,N.mode,q),I.return=N,N=I}return _(N);case Ce:return re=P._init,Fe(N,I,re(P._payload),q)}if(co(P))return X(N,I,P,q);if(oe(P))return Z(N,I,P,q);Mr(N,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,I!==null&&I.tag===6?(s(N,I.sibling),I=m(I,P),I.return=N,N=I):(s(N,I),I=Cl(P,N.mode,q),I.return=N,N=I),_(N)):s(N,I)}return Fe}var Wn=Hu(!0),qu=Hu(!1),Dr=en(null),Lr=null,Kn=null,Ds=null;function Ls(){Ds=Kn=Lr=null}function Us(n){var r=Dr.current;Ae(Dr),n._currentValue=r}function Fs(n,r,s){for(;n!==null;){var d=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),n===s)break;n=n.return}}function Yn(n,r){Lr=n,Ds=Kn=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(rt=!0),n.firstContext=null)}function ht(n){var r=n._currentValue;if(Ds!==n)if(n={context:n,memoizedValue:r,next:null},Kn===null){if(Lr===null)throw Error(o(308));Kn=n,Lr.dependencies={lanes:0,firstContext:n}}else Kn=Kn.next=n;return r}var _n=null;function Vs(n){_n===null?_n=[n]:_n.push(n)}function Bu(n,r,s,d){var m=r.interleaved;return m===null?(s.next=s,Vs(r)):(s.next=m.next,m.next=s),r.interleaved=s,qt(n,d)}function qt(n,r){n.lanes|=r;var s=n.alternate;for(s!==null&&(s.lanes|=r),s=n,n=n.return;n!==null;)n.childLanes|=r,s=n.alternate,s!==null&&(s.childLanes|=r),s=n,n=n.return;return s.tag===3?s.stateNode:null}var on=!1;function Gs(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zu(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Bt(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function rn(n,r,s){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(me&2)!==0){var m=d.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),d.pending=r,qt(n,s)}return m=d.interleaved,m===null?(r.next=r,Vs(d)):(r.next=m.next,m.next=r),d.interleaved=r,qt(n,s)}function Ur(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var d=r.lanes;d&=n.pendingLanes,s|=d,r.lanes=s,Zi(n,s)}}function $u(n,r){var s=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,s===d)){var m=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var _={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};y===null?m=y=_:y=y.next=_,s=s.next}while(s!==null);y===null?m=y=r:y=y.next=r}else m=y=r;s={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}function Fr(n,r,s,d){var m=n.updateQueue;on=!1;var y=m.firstBaseUpdate,_=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var w=C,M=w.next;w.next=null,_===null?y=M:_.next=M,_=w;var V=n.alternate;V!==null&&(V=V.updateQueue,C=V.lastBaseUpdate,C!==_&&(C===null?V.firstBaseUpdate=M:C.next=M,V.lastBaseUpdate=w))}if(y!==null){var G=m.baseState;_=0,V=M=w=null,C=y;do{var U=C.lane,b=C.eventTime;if((d&U)===U){V!==null&&(V=V.next={eventTime:b,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var X=n,Z=C;switch(U=r,b=s,Z.tag){case 1:if(X=Z.payload,typeof X=="function"){G=X.call(b,G,U);break e}G=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=Z.payload,U=typeof X=="function"?X.call(b,G,U):X,U==null)break e;G=Q({},G,U);break e;case 2:on=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,U=m.effects,U===null?m.effects=[C]:U.push(C))}else b={eventTime:b,lane:U,tag:C.tag,payload:C.payload,callback:C.callback,next:null},V===null?(M=V=b,w=G):V=V.next=b,_|=U;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;U=C,C=U.next,U.next=null,m.lastBaseUpdate=U,m.shared.pending=null}}while(!0);if(V===null&&(w=G),m.baseState=w,m.firstBaseUpdate=M,m.lastBaseUpdate=V,r=m.shared.interleaved,r!==null){m=r;do _|=m.lane,m=m.next;while(m!==r)}else y===null&&(m.shared.lanes=0);xn|=_,n.lanes=_,n.memoizedState=G}}function Ju(n,r,s){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var d=n[r],m=d.callback;if(m!==null){if(d.callback=null,d=s,typeof m!="function")throw Error(o(191,m));m.call(d)}}}var Vo={},Dt=en(Vo),Go=en(Vo),Ho=en(Vo);function Tn(n){if(n===Vo)throw Error(o(174));return n}function Hs(n,r){switch(we(Ho,r),we(Go,n),we(Dt,Vo),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:qi(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=qi(r,n)}Ae(Dt),we(Dt,r)}function Qn(){Ae(Dt),Ae(Go),Ae(Ho)}function bu(n){Tn(Ho.current);var r=Tn(Dt.current),s=qi(r,n.type);r!==s&&(we(Go,n),we(Dt,s))}function qs(n){Go.current===n&&(Ae(Dt),Ae(Go))}var Pe=en(0);function Vr(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Bs=[];function zs(){for(var n=0;n<Bs.length;n++)Bs[n]._workInProgressVersionPrimary=null;Bs.length=0}var Gr=H.ReactCurrentDispatcher,$s=H.ReactCurrentBatchConfig,Cn=0,Me=null,Ge=null,qe=null,Hr=!1,qo=!1,Bo=0,dh=0;function We(){throw Error(o(321))}function Js(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!Tt(n[s],r[s]))return!1;return!0}function bs(n,r,s,d,m,y){if(Cn=y,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Gr.current=n===null||n.memoizedState===null?hh:gh,n=s(d,m),qo){y=0;do{if(qo=!1,Bo=0,25<=y)throw Error(o(301));y+=1,qe=Ge=null,r.updateQueue=null,Gr.current=yh,n=s(d,m)}while(qo)}if(Gr.current=zr,r=Ge!==null&&Ge.next!==null,Cn=0,qe=Ge=Me=null,Hr=!1,r)throw Error(o(300));return n}function Os(){var n=Bo!==0;return Bo=0,n}function Lt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Me.memoizedState=qe=n:qe=qe.next=n,qe}function gt(){if(Ge===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=Ge.next;var r=qe===null?Me.memoizedState:qe.next;if(r!==null)qe=r,Ge=n;else{if(n===null)throw Error(o(310));Ge=n,n={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},qe===null?Me.memoizedState=qe=n:qe=qe.next=n}return qe}function zo(n,r){return typeof r=="function"?r(n):r}function Ws(n){var r=gt(),s=r.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var d=Ge,m=d.baseQueue,y=s.pending;if(y!==null){if(m!==null){var _=m.next;m.next=y.next,y.next=_}d.baseQueue=m=y,s.pending=null}if(m!==null){y=m.next,d=d.baseState;var C=_=null,w=null,M=y;do{var V=M.lane;if((Cn&V)===V)w!==null&&(w=w.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),d=M.hasEagerState?M.eagerState:n(d,M.action);else{var G={lane:V,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};w===null?(C=w=G,_=d):w=w.next=G,Me.lanes|=V,xn|=V}M=M.next}while(M!==null&&M!==y);w===null?_=d:w.next=C,Tt(d,r.memoizedState)||(rt=!0),r.memoizedState=d,r.baseState=_,r.baseQueue=w,s.lastRenderedState=d}if(n=s.interleaved,n!==null){m=n;do y=m.lane,Me.lanes|=y,xn|=y,m=m.next;while(m!==n)}else m===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Ks(n){var r=gt(),s=r.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var d=s.dispatch,m=s.pending,y=r.memoizedState;if(m!==null){s.pending=null;var _=m=m.next;do y=n(y,_.action),_=_.next;while(_!==m);Tt(y,r.memoizedState)||(rt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),s.lastRenderedState=y}return[y,d]}function Ou(){}function Wu(n,r){var s=Me,d=gt(),m=r(),y=!Tt(d.memoizedState,m);if(y&&(d.memoizedState=m,rt=!0),d=d.queue,Ys(Qu.bind(null,s,d,n),[n]),d.getSnapshot!==r||y||qe!==null&&qe.memoizedState.tag&1){if(s.flags|=2048,$o(9,Yu.bind(null,s,d,m,r),void 0,null),Be===null)throw Error(o(349));(Cn&30)!==0||Ku(s,r,m)}return m}function Ku(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=Me.updateQueue,r===null?(r={lastEffect:null,stores:null},Me.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function Yu(n,r,s,d){r.value=s,r.getSnapshot=d,Xu(r)&&Zu(n)}function Qu(n,r,s){return s(function(){Xu(r)&&Zu(n)})}function Xu(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!Tt(n,s)}catch{return!0}}function Zu(n){var r=qt(n,1);r!==null&&At(r,n,1,-1)}function ju(n){var r=Lt();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:n},r.queue=n,n=n.dispatch=mh.bind(null,Me,n),[r.memoizedState,n]}function $o(n,r,s,d){return n={tag:n,create:r,destroy:s,deps:d,next:null},r=Me.updateQueue,r===null?(r={lastEffect:null,stores:null},Me.updateQueue=r,r.lastEffect=n.next=n):(s=r.lastEffect,s===null?r.lastEffect=n.next=n:(d=s.next,s.next=n,n.next=d,r.lastEffect=n)),n}function ec(){return gt().memoizedState}function qr(n,r,s,d){var m=Lt();Me.flags|=n,m.memoizedState=$o(1|r,s,void 0,d===void 0?null:d)}function Br(n,r,s,d){var m=gt();d=d===void 0?null:d;var y=void 0;if(Ge!==null){var _=Ge.memoizedState;if(y=_.destroy,d!==null&&Js(d,_.deps)){m.memoizedState=$o(r,s,y,d);return}}Me.flags|=n,m.memoizedState=$o(1|r,s,y,d)}function tc(n,r){return qr(8390656,8,n,r)}function Ys(n,r){return Br(2048,8,n,r)}function nc(n,r){return Br(4,2,n,r)}function oc(n,r){return Br(4,4,n,r)}function rc(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function ic(n,r,s){return s=s!=null?s.concat([n]):null,Br(4,4,rc.bind(null,r,n),s)}function Qs(){}function sc(n,r){var s=gt();r=r===void 0?null:r;var d=s.memoizedState;return d!==null&&r!==null&&Js(r,d[1])?d[0]:(s.memoizedState=[n,r],n)}function lc(n,r){var s=gt();r=r===void 0?null:r;var d=s.memoizedState;return d!==null&&r!==null&&Js(r,d[1])?d[0]:(n=n(),s.memoizedState=[n,r],n)}function ac(n,r,s){return(Cn&21)===0?(n.baseState&&(n.baseState=!1,rt=!0),n.memoizedState=s):(Tt(s,r)||(s=Ga(),Me.lanes|=s,xn|=s,n.baseState=!0),r)}function fh(n,r){var s=Ee;Ee=s!==0&&4>s?s:4,n(!0);var d=$s.transition;$s.transition={};try{n(!1),r()}finally{Ee=s,$s.transition=d}}function uc(){return gt().memoizedState}function ph(n,r,s){var d=un(n);if(s={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null},cc(n))dc(r,s);else if(s=Bu(n,r,s,d),s!==null){var m=je();At(s,n,d,m),fc(s,r,d)}}function mh(n,r,s){var d=un(n),m={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null};if(cc(n))dc(r,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,C=y(_,s);if(m.hasEagerState=!0,m.eagerState=C,Tt(C,_)){var w=r.interleaved;w===null?(m.next=m,Vs(r)):(m.next=w.next,w.next=m),r.interleaved=m;return}}catch{}s=Bu(n,r,m,d),s!==null&&(m=je(),At(s,n,d,m),fc(s,r,d))}}function cc(n){var r=n.alternate;return n===Me||r!==null&&r===Me}function dc(n,r){qo=Hr=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function fc(n,r,s){if((s&4194240)!==0){var d=r.lanes;d&=n.pendingLanes,s|=d,r.lanes=s,Zi(n,s)}}var zr={readContext:ht,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},hh={readContext:ht,useCallback:function(n,r){return Lt().memoizedState=[n,r===void 0?null:r],n},useContext:ht,useEffect:tc,useImperativeHandle:function(n,r,s){return s=s!=null?s.concat([n]):null,qr(4194308,4,rc.bind(null,r,n),s)},useLayoutEffect:function(n,r){return qr(4194308,4,n,r)},useInsertionEffect:function(n,r){return qr(4,2,n,r)},useMemo:function(n,r){var s=Lt();return r=r===void 0?null:r,n=n(),s.memoizedState=[n,r],n},useReducer:function(n,r,s){var d=Lt();return r=s!==void 0?s(r):r,d.memoizedState=d.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},d.queue=n,n=n.dispatch=ph.bind(null,Me,n),[d.memoizedState,n]},useRef:function(n){var r=Lt();return n={current:n},r.memoizedState=n},useState:ju,useDebugValue:Qs,useDeferredValue:function(n){return Lt().memoizedState=n},useTransition:function(){var n=ju(!1),r=n[0];return n=fh.bind(null,n[1]),Lt().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,s){var d=Me,m=Lt();if(ke){if(s===void 0)throw Error(o(407));s=s()}else{if(s=r(),Be===null)throw Error(o(349));(Cn&30)!==0||Ku(d,r,s)}m.memoizedState=s;var y={value:s,getSnapshot:r};return m.queue=y,tc(Qu.bind(null,d,y,n),[n]),d.flags|=2048,$o(9,Yu.bind(null,d,y,s,r),void 0,null),s},useId:function(){var n=Lt(),r=Be.identifierPrefix;if(ke){var s=Ht,d=Gt;s=(d&~(1<<32-_t(d)-1)).toString(32)+s,r=":"+r+"R"+s,s=Bo++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=dh++,r=":"+r+"r"+s.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},gh={readContext:ht,useCallback:sc,useContext:ht,useEffect:Ys,useImperativeHandle:ic,useInsertionEffect:nc,useLayoutEffect:oc,useMemo:lc,useReducer:Ws,useRef:ec,useState:function(){return Ws(zo)},useDebugValue:Qs,useDeferredValue:function(n){var r=gt();return ac(r,Ge.memoizedState,n)},useTransition:function(){var n=Ws(zo)[0],r=gt().memoizedState;return[n,r]},useMutableSource:Ou,useSyncExternalStore:Wu,useId:uc,unstable_isNewReconciler:!1},yh={readContext:ht,useCallback:sc,useContext:ht,useEffect:Ys,useImperativeHandle:ic,useInsertionEffect:nc,useLayoutEffect:oc,useMemo:lc,useReducer:Ks,useRef:ec,useState:function(){return Ks(zo)},useDebugValue:Qs,useDeferredValue:function(n){var r=gt();return Ge===null?r.memoizedState=n:ac(r,Ge.memoizedState,n)},useTransition:function(){var n=Ks(zo)[0],r=gt().memoizedState;return[n,r]},useMutableSource:Ou,useSyncExternalStore:Wu,useId:uc,unstable_isNewReconciler:!1};function xt(n,r){if(n&&n.defaultProps){r=Q({},r),n=n.defaultProps;for(var s in n)r[s]===void 0&&(r[s]=n[s]);return r}return r}function Xs(n,r,s,d){r=n.memoizedState,s=s(d,r),s=s==null?r:Q({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var $r={isMounted:function(n){return(n=n._reactInternals)?gn(n)===n:!1},enqueueSetState:function(n,r,s){n=n._reactInternals;var d=je(),m=un(n),y=Bt(d,m);y.payload=r,s!=null&&(y.callback=s),r=rn(n,y,m),r!==null&&(At(r,n,m,d),Ur(r,n,m))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var d=je(),m=un(n),y=Bt(d,m);y.tag=1,y.payload=r,s!=null&&(y.callback=s),r=rn(n,y,m),r!==null&&(At(r,n,m,d),Ur(r,n,m))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=je(),d=un(n),m=Bt(s,d);m.tag=2,r!=null&&(m.callback=r),r=rn(n,m,d),r!==null&&(At(r,n,d,s),Ur(r,n,d))}};function pc(n,r,s,d,m,y,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,y,_):r.prototype&&r.prototype.isPureReactComponent?!Ro(s,d)||!Ro(m,y):!0}function mc(n,r,s){var d=!1,m=tn,y=r.contextType;return typeof y=="object"&&y!==null?y=ht(y):(m=ot(r)?vn:Oe.current,d=r.contextTypes,y=(d=d!=null)?$n(n,m):tn),r=new r(s,y),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=$r,n.stateNode=r,r._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=y),r}function hc(n,r,s,d){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,d),r.state!==n&&$r.enqueueReplaceState(r,r.state,null)}function Zs(n,r,s,d){var m=n.stateNode;m.props=s,m.state=n.memoizedState,m.refs={},Gs(n);var y=r.contextType;typeof y=="object"&&y!==null?m.context=ht(y):(y=ot(r)?vn:Oe.current,m.context=$n(n,y)),m.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Xs(n,r,y,s),m.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(r=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),r!==m.state&&$r.enqueueReplaceState(m,m.state,null),Fr(n,s,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function Xn(n,r){try{var s="",d=r;do s+=he(d),d=d.return;while(d);var m=s}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:n,source:r,stack:m,digest:null}}function js(n,r,s){return{value:n,source:null,stack:s??null,digest:r??null}}function el(n,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var vh=typeof WeakMap=="function"?WeakMap:Map;function gc(n,r,s){s=Bt(-1,s),s.tag=3,s.payload={element:null};var d=r.value;return s.callback=function(){Qr||(Qr=!0,hl=d),el(n,r)},s}function yc(n,r,s){s=Bt(-1,s),s.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=r.value;s.payload=function(){return d(m)},s.callback=function(){el(n,r)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(s.callback=function(){el(n,r),typeof d!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),s}function vc(n,r,s){var d=n.pingCache;if(d===null){d=n.pingCache=new vh;var m=new Set;d.set(r,m)}else m=d.get(r),m===void 0&&(m=new Set,d.set(r,m));m.has(s)||(m.add(s),n=Mh.bind(null,n,r,s),r.then(n,n))}function Sc(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Ec(n,r,s,d,m){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=Bt(-1,1),r.tag=2,rn(s,r,1))),s.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var Sh=H.ReactCurrentOwner,rt=!1;function Ze(n,r,s,d){r.child=n===null?qu(r,null,s,d):Wn(r,n.child,s,d)}function _c(n,r,s,d,m){s=s.render;var y=r.ref;return Yn(r,m),d=bs(n,r,s,d,y,m),s=Os(),n!==null&&!rt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~m,zt(n,r,m)):(ke&&s&&Ns(r),r.flags|=1,Ze(n,r,d,m),r.child)}function Tc(n,r,s,d,m){if(n===null){var y=s.type;return typeof y=="function"&&!Tl(y)&&y.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=y,Cc(n,r,y,d,m)):(n=ni(s.type,null,d,r,r.mode,m),n.ref=r.ref,n.return=r,r.child=n)}if(y=n.child,(n.lanes&m)===0){var _=y.memoizedProps;if(s=s.compare,s=s!==null?s:Ro,s(_,d)&&n.ref===r.ref)return zt(n,r,m)}return r.flags|=1,n=dn(y,d),n.ref=r.ref,n.return=r,r.child=n}function Cc(n,r,s,d,m){if(n!==null){var y=n.memoizedProps;if(Ro(y,d)&&n.ref===r.ref)if(rt=!1,r.pendingProps=d=y,(n.lanes&m)!==0)(n.flags&131072)!==0&&(rt=!0);else return r.lanes=n.lanes,zt(n,r,m)}return tl(n,r,s,d,m)}function xc(n,r,s){var d=r.pendingProps,m=d.children,y=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(jn,ft),ft|=s;else{if((s&1073741824)===0)return n=y!==null?y.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,we(jn,ft),ft|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:s,we(jn,ft),ft|=d}else y!==null?(d=y.baseLanes|s,r.memoizedState=null):d=s,we(jn,ft),ft|=d;return Ze(n,r,m,s),r.child}function wc(n,r){var s=r.ref;(n===null&&s!==null||n!==null&&n.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function tl(n,r,s,d,m){var y=ot(s)?vn:Oe.current;return y=$n(r,y),Yn(r,m),s=bs(n,r,s,d,y,m),d=Os(),n!==null&&!rt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~m,zt(n,r,m)):(ke&&d&&Ns(r),r.flags|=1,Ze(n,r,s,m),r.child)}function Ic(n,r,s,d,m){if(ot(s)){var y=!0;Ar(r)}else y=!1;if(Yn(r,m),r.stateNode===null)br(n,r),mc(r,s,d),Zs(r,s,d,m),d=!0;else if(n===null){var _=r.stateNode,C=r.memoizedProps;_.props=C;var w=_.context,M=s.contextType;typeof M=="object"&&M!==null?M=ht(M):(M=ot(s)?vn:Oe.current,M=$n(r,M));var V=s.getDerivedStateFromProps,G=typeof V=="function"||typeof _.getSnapshotBeforeUpdate=="function";G||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==d||w!==M)&&hc(r,_,d,M),on=!1;var U=r.memoizedState;_.state=U,Fr(r,d,_,m),w=r.memoizedState,C!==d||U!==w||nt.current||on?(typeof V=="function"&&(Xs(r,s,V,d),w=r.memoizedState),(C=on||pc(r,s,C,d,U,w,M))?(G||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=w),_.props=d,_.state=w,_.context=M,d=C):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{_=r.stateNode,zu(n,r),C=r.memoizedProps,M=r.type===r.elementType?C:xt(r.type,C),_.props=M,G=r.pendingProps,U=_.context,w=s.contextType,typeof w=="object"&&w!==null?w=ht(w):(w=ot(s)?vn:Oe.current,w=$n(r,w));var b=s.getDerivedStateFromProps;(V=typeof b=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==G||U!==w)&&hc(r,_,d,w),on=!1,U=r.memoizedState,_.state=U,Fr(r,d,_,m);var X=r.memoizedState;C!==G||U!==X||nt.current||on?(typeof b=="function"&&(Xs(r,s,b,d),X=r.memoizedState),(M=on||pc(r,s,M,d,U,X,w)||!1)?(V||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,X,w),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,X,w)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&U===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&U===n.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=X),_.props=d,_.state=X,_.context=w,d=M):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&U===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&U===n.memoizedState||(r.flags|=1024),d=!1)}return nl(n,r,s,d,y,m)}function nl(n,r,s,d,m,y){wc(n,r);var _=(r.flags&128)!==0;if(!d&&!_)return m&&Pu(r,s,!1),zt(n,r,y);d=r.stateNode,Sh.current=r;var C=_&&typeof s.getDerivedStateFromError!="function"?null:d.render();return r.flags|=1,n!==null&&_?(r.child=Wn(r,n.child,null,y),r.child=Wn(r,null,C,y)):Ze(n,r,C,y),r.memoizedState=d.state,m&&Pu(r,s,!0),r.child}function Ac(n){var r=n.stateNode;r.pendingContext?Ru(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Ru(n,r.context,!1),Hs(n,r.containerInfo)}function Nc(n,r,s,d,m){return On(),Ms(m),r.flags|=256,Ze(n,r,s,d),r.child}var ol={dehydrated:null,treeContext:null,retryLane:0};function rl(n){return{baseLanes:n,cachePool:null,transitions:null}}function Rc(n,r,s){var d=r.pendingProps,m=Pe.current,y=!1,_=(r.flags&128)!==0,C;if((C=_)||(C=n!==null&&n.memoizedState===null?!1:(m&2)!==0),C?(y=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),we(Pe,m&1),n===null)return Ps(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=d.children,n=d.fallback,y?(d=r.mode,y=r.child,_={mode:"hidden",children:_},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=_):y=oi(_,d,0,null),n=Nn(n,d,s,null),y.return=r,n.return=r,y.sibling=n,r.child=y,r.child.memoizedState=rl(s),r.memoizedState=ol,n):il(r,_));if(m=n.memoizedState,m!==null&&(C=m.dehydrated,C!==null))return Eh(n,r,_,d,C,m,s);if(y){y=d.fallback,_=r.mode,m=n.child,C=m.sibling;var w={mode:"hidden",children:d.children};return(_&1)===0&&r.child!==m?(d=r.child,d.childLanes=0,d.pendingProps=w,r.deletions=null):(d=dn(m,w),d.subtreeFlags=m.subtreeFlags&14680064),C!==null?y=dn(C,y):(y=Nn(y,_,s,null),y.flags|=2),y.return=r,d.return=r,d.sibling=y,r.child=d,d=y,y=r.child,_=n.child.memoizedState,_=_===null?rl(s):{baseLanes:_.baseLanes|s,cachePool:null,transitions:_.transitions},y.memoizedState=_,y.childLanes=n.childLanes&~s,r.memoizedState=ol,d}return y=n.child,n=y.sibling,d=dn(y,{mode:"visible",children:d.children}),(r.mode&1)===0&&(d.lanes=s),d.return=r,d.sibling=null,n!==null&&(s=r.deletions,s===null?(r.deletions=[n],r.flags|=16):s.push(n)),r.child=d,r.memoizedState=null,d}function il(n,r){return r=oi({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Jr(n,r,s,d){return d!==null&&Ms(d),Wn(r,n.child,null,s),n=il(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Eh(n,r,s,d,m,y,_){if(s)return r.flags&256?(r.flags&=-257,d=js(Error(o(422))),Jr(n,r,_,d)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(y=d.fallback,m=r.mode,d=oi({mode:"visible",children:d.children},m,0,null),y=Nn(y,m,_,null),y.flags|=2,d.return=r,y.return=r,d.sibling=y,r.child=d,(r.mode&1)!==0&&Wn(r,n.child,null,_),r.child.memoizedState=rl(_),r.memoizedState=ol,y);if((r.mode&1)===0)return Jr(n,r,_,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var C=d.dgst;return d=C,y=Error(o(419)),d=js(y,d,void 0),Jr(n,r,_,d)}if(C=(_&n.childLanes)!==0,rt||C){if(d=Be,d!==null){switch(_&-_){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|_))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,qt(n,m),At(d,n,m,-1))}return _l(),d=js(Error(o(421))),Jr(n,r,_,d)}return m.data==="$?"?(r.flags|=128,r.child=n.child,r=Dh.bind(null,n),m._reactRetry=r,null):(n=y.treeContext,dt=jt(m.nextSibling),ct=r,ke=!0,Ct=null,n!==null&&(pt[mt++]=Gt,pt[mt++]=Ht,pt[mt++]=Sn,Gt=n.id,Ht=n.overflow,Sn=r),r=il(r,d.children),r.flags|=4096,r)}function kc(n,r,s){n.lanes|=r;var d=n.alternate;d!==null&&(d.lanes|=r),Fs(n.return,r,s)}function sl(n,r,s,d,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:s,tailMode:m}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=s,y.tailMode=m)}function Pc(n,r,s){var d=r.pendingProps,m=d.revealOrder,y=d.tail;if(Ze(n,r,d.children,s),d=Pe.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&kc(n,s,r);else if(n.tag===19)kc(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(we(Pe,d),(r.mode&1)===0)r.memoizedState=null;else switch(m){case"forwards":for(s=r.child,m=null;s!==null;)n=s.alternate,n!==null&&Vr(n)===null&&(m=s),s=s.sibling;s=m,s===null?(m=r.child,r.child=null):(m=s.sibling,s.sibling=null),sl(r,!1,m,s,y);break;case"backwards":for(s=null,m=r.child,r.child=null;m!==null;){if(n=m.alternate,n!==null&&Vr(n)===null){r.child=m;break}n=m.sibling,m.sibling=s,s=m,m=n}sl(r,!0,s,null,y);break;case"together":sl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function br(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function zt(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),xn|=r.lanes,(s&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(o(153));if(r.child!==null){for(n=r.child,s=dn(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=dn(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function _h(n,r,s){switch(r.tag){case 3:Ac(r),On();break;case 5:bu(r);break;case 1:ot(r.type)&&Ar(r);break;case 4:Hs(r,r.stateNode.containerInfo);break;case 10:var d=r.type._context,m=r.memoizedProps.value;we(Dr,d._currentValue),d._currentValue=m;break;case 13:if(d=r.memoizedState,d!==null)return d.dehydrated!==null?(we(Pe,Pe.current&1),r.flags|=128,null):(s&r.child.childLanes)!==0?Rc(n,r,s):(we(Pe,Pe.current&1),n=zt(n,r,s),n!==null?n.sibling:null);we(Pe,Pe.current&1);break;case 19:if(d=(s&r.childLanes)!==0,(n.flags&128)!==0){if(d)return Pc(n,r,s);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),we(Pe,Pe.current),d)break;return null;case 22:case 23:return r.lanes=0,xc(n,r,s)}return zt(n,r,s)}var Mc,ll,Dc,Lc;Mc=function(n,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)n.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},ll=function(){},Dc=function(n,r,s,d){var m=n.memoizedProps;if(m!==d){n=r.stateNode,Tn(Dt.current);var y=null;switch(s){case"input":m=Fi(n,m),d=Fi(n,d),y=[];break;case"select":m=Q({},m,{value:void 0}),d=Q({},d,{value:void 0}),y=[];break;case"textarea":m=Hi(n,m),d=Hi(n,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=xr)}Bi(s,d);var _;s=null;for(M in m)if(!d.hasOwnProperty(M)&&m.hasOwnProperty(M)&&m[M]!=null)if(M==="style"){var C=m[M];for(_ in C)C.hasOwnProperty(_)&&(s||(s={}),s[_]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(l.hasOwnProperty(M)?y||(y=[]):(y=y||[]).push(M,null));for(M in d){var w=d[M];if(C=m?.[M],d.hasOwnProperty(M)&&w!==C&&(w!=null||C!=null))if(M==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||w&&w.hasOwnProperty(_)||(s||(s={}),s[_]="");for(_ in w)w.hasOwnProperty(_)&&C[_]!==w[_]&&(s||(s={}),s[_]=w[_])}else s||(y||(y=[]),y.push(M,s)),s=w;else M==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,C=C?C.__html:void 0,w!=null&&C!==w&&(y=y||[]).push(M,w)):M==="children"?typeof w!="string"&&typeof w!="number"||(y=y||[]).push(M,""+w):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(l.hasOwnProperty(M)?(w!=null&&M==="onScroll"&&Ie("scroll",n),y||C===w||(y=[])):(y=y||[]).push(M,w))}s&&(y=y||[]).push("style",s);var M=y;(r.updateQueue=M)&&(r.flags|=4)}},Lc=function(n,r,s,d){s!==d&&(r.flags|=4)};function Jo(n,r){if(!ke)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Ke(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,d=0;if(r)for(var m=n.child;m!==null;)s|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)s|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=s,r}function Th(n,r,s){var d=r.pendingProps;switch(Rs(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(r),null;case 1:return ot(r.type)&&Ir(),Ke(r),null;case 3:return d=r.stateNode,Qn(),Ae(nt),Ae(Oe),zs(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Pr(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ct!==null&&(vl(Ct),Ct=null))),ll(n,r),Ke(r),null;case 5:qs(r);var m=Tn(Ho.current);if(s=r.type,n!==null&&r.stateNode!=null)Dc(n,r,s,d,m),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!d){if(r.stateNode===null)throw Error(o(166));return Ke(r),null}if(n=Tn(Dt.current),Pr(r)){d=r.stateNode,s=r.type;var y=r.memoizedProps;switch(d[Mt]=r,d[Lo]=y,n=(r.mode&1)!==0,s){case"dialog":Ie("cancel",d),Ie("close",d);break;case"iframe":case"object":case"embed":Ie("load",d);break;case"video":case"audio":for(m=0;m<Po.length;m++)Ie(Po[m],d);break;case"source":Ie("error",d);break;case"img":case"image":case"link":Ie("error",d),Ie("load",d);break;case"details":Ie("toggle",d);break;case"input":ma(d,y),Ie("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ie("invalid",d);break;case"textarea":ya(d,y),Ie("invalid",d)}Bi(s,y),m=null;for(var _ in y)if(y.hasOwnProperty(_)){var C=y[_];_==="children"?typeof C=="string"?d.textContent!==C&&(y.suppressHydrationWarning!==!0&&Cr(d.textContent,C,n),m=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&Cr(d.textContent,C,n),m=["children",""+C]):l.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&Ie("scroll",d)}switch(s){case"input":er(d),ga(d,y,!0);break;case"textarea":er(d),Sa(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=xr)}d=m,r.updateQueue=d,d!==null&&(r.flags|=4)}else{_=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ea(s)),n==="http://www.w3.org/1999/xhtml"?s==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=_.createElement(s,{is:d.is}):(n=_.createElement(s),s==="select"&&(_=n,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):n=_.createElementNS(n,s),n[Mt]=r,n[Lo]=d,Mc(n,r,!1,!1),r.stateNode=n;e:{switch(_=zi(s,d),s){case"dialog":Ie("cancel",n),Ie("close",n),m=d;break;case"iframe":case"object":case"embed":Ie("load",n),m=d;break;case"video":case"audio":for(m=0;m<Po.length;m++)Ie(Po[m],n);m=d;break;case"source":Ie("error",n),m=d;break;case"img":case"image":case"link":Ie("error",n),Ie("load",n),m=d;break;case"details":Ie("toggle",n),m=d;break;case"input":ma(n,d),m=Fi(n,d),Ie("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=Q({},d,{value:void 0}),Ie("invalid",n);break;case"textarea":ya(n,d),m=Hi(n,d),Ie("invalid",n);break;default:m=d}Bi(s,m),C=m;for(y in C)if(C.hasOwnProperty(y)){var w=C[y];y==="style"?Ca(n,w):y==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&_a(n,w)):y==="children"?typeof w=="string"?(s!=="textarea"||w!=="")&&fo(n,w):typeof w=="number"&&fo(n,""+w):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(l.hasOwnProperty(y)?w!=null&&y==="onScroll"&&Ie("scroll",n):w!=null&&B(n,y,w,_))}switch(s){case"input":er(n),ga(n,d,!1);break;case"textarea":er(n),Sa(n);break;case"option":d.value!=null&&n.setAttribute("value",""+Se(d.value));break;case"select":n.multiple=!!d.multiple,y=d.value,y!=null?Pn(n,!!d.multiple,y,!1):d.defaultValue!=null&&Pn(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=xr)}switch(s){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ke(r),null;case 6:if(n&&r.stateNode!=null)Lc(n,r,n.memoizedProps,d);else{if(typeof d!="string"&&r.stateNode===null)throw Error(o(166));if(s=Tn(Ho.current),Tn(Dt.current),Pr(r)){if(d=r.stateNode,s=r.memoizedProps,d[Mt]=r,(y=d.nodeValue!==s)&&(n=ct,n!==null))switch(n.tag){case 3:Cr(d.nodeValue,s,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Cr(d.nodeValue,s,(n.mode&1)!==0)}y&&(r.flags|=4)}else d=(s.nodeType===9?s:s.ownerDocument).createTextNode(d),d[Mt]=r,r.stateNode=d}return Ke(r),null;case 13:if(Ae(Pe),d=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ke&&dt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Vu(),On(),r.flags|=98560,y=!1;else if(y=Pr(r),d!==null&&d.dehydrated!==null){if(n===null){if(!y)throw Error(o(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(o(317));y[Mt]=r}else On(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ke(r),y=!1}else Ct!==null&&(vl(Ct),Ct=null),y=!0;if(!y)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=s,r):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Pe.current&1)!==0?He===0&&(He=3):_l())),r.updateQueue!==null&&(r.flags|=4),Ke(r),null);case 4:return Qn(),ll(n,r),n===null&&Mo(r.stateNode.containerInfo),Ke(r),null;case 10:return Us(r.type._context),Ke(r),null;case 17:return ot(r.type)&&Ir(),Ke(r),null;case 19:if(Ae(Pe),y=r.memoizedState,y===null)return Ke(r),null;if(d=(r.flags&128)!==0,_=y.rendering,_===null)if(d)Jo(y,!1);else{if(He!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=Vr(n),_!==null){for(r.flags|=128,Jo(y,!1),d=_.updateQueue,d!==null&&(r.updateQueue=d,r.flags|=4),r.subtreeFlags=0,d=s,s=r.child;s!==null;)y=s,n=d,y.flags&=14680066,_=y.alternate,_===null?(y.childLanes=0,y.lanes=n,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=_.childLanes,y.lanes=_.lanes,y.child=_.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=_.memoizedProps,y.memoizedState=_.memoizedState,y.updateQueue=_.updateQueue,y.type=_.type,n=_.dependencies,y.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),s=s.sibling;return we(Pe,Pe.current&1|2),r.child}n=n.sibling}y.tail!==null&&Ue()>eo&&(r.flags|=128,d=!0,Jo(y,!1),r.lanes=4194304)}else{if(!d)if(n=Vr(_),n!==null){if(r.flags|=128,d=!0,s=n.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),Jo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!ke)return Ke(r),null}else 2*Ue()-y.renderingStartTime>eo&&s!==1073741824&&(r.flags|=128,d=!0,Jo(y,!1),r.lanes=4194304);y.isBackwards?(_.sibling=r.child,r.child=_):(s=y.last,s!==null?s.sibling=_:r.child=_,y.last=_)}return y.tail!==null?(r=y.tail,y.rendering=r,y.tail=r.sibling,y.renderingStartTime=Ue(),r.sibling=null,s=Pe.current,we(Pe,d?s&1|2:s&1),r):(Ke(r),null);case 22:case 23:return El(),d=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(r.flags|=8192),d&&(r.mode&1)!==0?(ft&1073741824)!==0&&(Ke(r),r.subtreeFlags&6&&(r.flags|=8192)):Ke(r),null;case 24:return null;case 25:return null}throw Error(o(156,r.tag))}function Ch(n,r){switch(Rs(r),r.tag){case 1:return ot(r.type)&&Ir(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Qn(),Ae(nt),Ae(Oe),zs(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return qs(r),null;case 13:if(Ae(Pe),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(o(340));On()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ae(Pe),null;case 4:return Qn(),null;case 10:return Us(r.type._context),null;case 22:case 23:return El(),null;case 24:return null;default:return null}}var Or=!1,Ye=!1,xh=typeof WeakSet=="function"?WeakSet:Set,K=null;function Zn(n,r){var s=n.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(d){De(n,r,d)}else s.current=null}function al(n,r,s){try{s()}catch(d){De(n,r,d)}}var Uc=!1;function wh(n,r){if(Es=fr,n=pu(),fs(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var d=s.getSelection&&s.getSelection();if(d&&d.rangeCount!==0){s=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var _=0,C=-1,w=-1,M=0,V=0,G=n,U=null;t:for(;;){for(var b;G!==s||m!==0&&G.nodeType!==3||(C=_+m),G!==y||d!==0&&G.nodeType!==3||(w=_+d),G.nodeType===3&&(_+=G.nodeValue.length),(b=G.firstChild)!==null;)U=G,G=b;for(;;){if(G===n)break t;if(U===s&&++M===m&&(C=_),U===y&&++V===d&&(w=_),(b=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=b}s=C===-1||w===-1?null:{start:C,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(_s={focusedElem:n,selectionRange:s},fr=!1,K=r;K!==null;)if(r=K,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,K=n;else for(;K!==null;){r=K;try{var X=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var Z=X.memoizedProps,Fe=X.memoizedState,N=r.stateNode,I=N.getSnapshotBeforeUpdate(r.elementType===r.type?Z:xt(r.type,Z),Fe);N.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var P=r.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(q){De(r,r.return,q)}if(n=r.sibling,n!==null){n.return=r.return,K=n;break}K=r.return}return X=Uc,Uc=!1,X}function bo(n,r,s){var d=r.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var y=m.destroy;m.destroy=void 0,y!==void 0&&al(r,s,y)}m=m.next}while(m!==d)}}function Wr(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var d=s.create;s.destroy=d()}s=s.next}while(s!==r)}}function ul(n){var r=n.ref;if(r!==null){var s=n.stateNode;n.tag,n=s,typeof r=="function"?r(n):r.current=n}}function Fc(n){var r=n.alternate;r!==null&&(n.alternate=null,Fc(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Mt],delete r[Lo],delete r[ws],delete r[lh],delete r[ah])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Vc(n){return n.tag===5||n.tag===3||n.tag===4}function Gc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Vc(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function cl(n,r,s){var d=n.tag;if(d===5||d===6)n=n.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(n,r):s.insertBefore(n,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(n,s)):(r=s,r.appendChild(n)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=xr));else if(d!==4&&(n=n.child,n!==null))for(cl(n,r,s),n=n.sibling;n!==null;)cl(n,r,s),n=n.sibling}function dl(n,r,s){var d=n.tag;if(d===5||d===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(dl(n,r,s),n=n.sibling;n!==null;)dl(n,r,s),n=n.sibling}var Je=null,wt=!1;function sn(n,r,s){for(s=s.child;s!==null;)Hc(n,r,s),s=s.sibling}function Hc(n,r,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(sr,s)}catch{}switch(s.tag){case 5:Ye||Zn(s,r);case 6:var d=Je,m=wt;Je=null,sn(n,r,s),Je=d,wt=m,Je!==null&&(wt?(n=Je,s=s.stateNode,n.nodeType===8?n.parentNode.removeChild(s):n.removeChild(s)):Je.removeChild(s.stateNode));break;case 18:Je!==null&&(wt?(n=Je,s=s.stateNode,n.nodeType===8?xs(n.parentNode,s):n.nodeType===1&&xs(n,s),Co(n)):xs(Je,s.stateNode));break;case 4:d=Je,m=wt,Je=s.stateNode.containerInfo,wt=!0,sn(n,r,s),Je=d,wt=m;break;case 0:case 11:case 14:case 15:if(!Ye&&(d=s.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,_=y.destroy;y=y.tag,_!==void 0&&((y&2)!==0||(y&4)!==0)&&al(s,r,_),m=m.next}while(m!==d)}sn(n,r,s);break;case 1:if(!Ye&&(Zn(s,r),d=s.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=s.memoizedProps,d.state=s.memoizedState,d.componentWillUnmount()}catch(C){De(s,r,C)}sn(n,r,s);break;case 21:sn(n,r,s);break;case 22:s.mode&1?(Ye=(d=Ye)||s.memoizedState!==null,sn(n,r,s),Ye=d):sn(n,r,s);break;default:sn(n,r,s)}}function qc(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var s=n.stateNode;s===null&&(s=n.stateNode=new xh),r.forEach(function(d){var m=Lh.bind(null,n,d);s.has(d)||(s.add(d),d.then(m,m))})}}function It(n,r){var s=r.deletions;if(s!==null)for(var d=0;d<s.length;d++){var m=s[d];try{var y=n,_=r,C=_;e:for(;C!==null;){switch(C.tag){case 5:Je=C.stateNode,wt=!1;break e;case 3:Je=C.stateNode.containerInfo,wt=!0;break e;case 4:Je=C.stateNode.containerInfo,wt=!0;break e}C=C.return}if(Je===null)throw Error(o(160));Hc(y,_,m),Je=null,wt=!1;var w=m.alternate;w!==null&&(w.return=null),m.return=null}catch(M){De(m,r,M)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Bc(r,n),r=r.sibling}function Bc(n,r){var s=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(It(r,n),Ut(n),d&4){try{bo(3,n,n.return),Wr(3,n)}catch(Z){De(n,n.return,Z)}try{bo(5,n,n.return)}catch(Z){De(n,n.return,Z)}}break;case 1:It(r,n),Ut(n),d&512&&s!==null&&Zn(s,s.return);break;case 5:if(It(r,n),Ut(n),d&512&&s!==null&&Zn(s,s.return),n.flags&32){var m=n.stateNode;try{fo(m,"")}catch(Z){De(n,n.return,Z)}}if(d&4&&(m=n.stateNode,m!=null)){var y=n.memoizedProps,_=s!==null?s.memoizedProps:y,C=n.type,w=n.updateQueue;if(n.updateQueue=null,w!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&ha(m,y),zi(C,_);var M=zi(C,y);for(_=0;_<w.length;_+=2){var V=w[_],G=w[_+1];V==="style"?Ca(m,G):V==="dangerouslySetInnerHTML"?_a(m,G):V==="children"?fo(m,G):B(m,V,G,M)}switch(C){case"input":Vi(m,y);break;case"textarea":va(m,y);break;case"select":var U=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var b=y.value;b!=null?Pn(m,!!y.multiple,b,!1):U!==!!y.multiple&&(y.defaultValue!=null?Pn(m,!!y.multiple,y.defaultValue,!0):Pn(m,!!y.multiple,y.multiple?[]:"",!1))}m[Lo]=y}catch(Z){De(n,n.return,Z)}}break;case 6:if(It(r,n),Ut(n),d&4){if(n.stateNode===null)throw Error(o(162));m=n.stateNode,y=n.memoizedProps;try{m.nodeValue=y}catch(Z){De(n,n.return,Z)}}break;case 3:if(It(r,n),Ut(n),d&4&&s!==null&&s.memoizedState.isDehydrated)try{Co(r.containerInfo)}catch(Z){De(n,n.return,Z)}break;case 4:It(r,n),Ut(n);break;case 13:It(r,n),Ut(n),m=n.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(ml=Ue())),d&4&&qc(n);break;case 22:if(V=s!==null&&s.memoizedState!==null,n.mode&1?(Ye=(M=Ye)||V,It(r,n),Ye=M):It(r,n),Ut(n),d&8192){if(M=n.memoizedState!==null,(n.stateNode.isHidden=M)&&!V&&(n.mode&1)!==0)for(K=n,V=n.child;V!==null;){for(G=K=V;K!==null;){switch(U=K,b=U.child,U.tag){case 0:case 11:case 14:case 15:bo(4,U,U.return);break;case 1:Zn(U,U.return);var X=U.stateNode;if(typeof X.componentWillUnmount=="function"){d=U,s=U.return;try{r=d,X.props=r.memoizedProps,X.state=r.memoizedState,X.componentWillUnmount()}catch(Z){De(d,s,Z)}}break;case 5:Zn(U,U.return);break;case 22:if(U.memoizedState!==null){Jc(G);continue}}b!==null?(b.return=U,K=b):Jc(G)}V=V.sibling}e:for(V=null,G=n;;){if(G.tag===5){if(V===null){V=G;try{m=G.stateNode,M?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=G.stateNode,w=G.memoizedProps.style,_=w!=null&&w.hasOwnProperty("display")?w.display:null,C.style.display=Ta("display",_))}catch(Z){De(n,n.return,Z)}}}else if(G.tag===6){if(V===null)try{G.stateNode.nodeValue=M?"":G.memoizedProps}catch(Z){De(n,n.return,Z)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===n)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===n)break e;for(;G.sibling===null;){if(G.return===null||G.return===n)break e;V===G&&(V=null),G=G.return}V===G&&(V=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:It(r,n),Ut(n),d&4&&qc(n);break;case 21:break;default:It(r,n),Ut(n)}}function Ut(n){var r=n.flags;if(r&2){try{e:{for(var s=n.return;s!==null;){if(Vc(s)){var d=s;break e}s=s.return}throw Error(o(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(fo(m,""),d.flags&=-33);var y=Gc(n);dl(n,y,m);break;case 3:case 4:var _=d.stateNode.containerInfo,C=Gc(n);cl(n,C,_);break;default:throw Error(o(161))}}catch(w){De(n,n.return,w)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Ih(n,r,s){K=n,zc(n)}function zc(n,r,s){for(var d=(n.mode&1)!==0;K!==null;){var m=K,y=m.child;if(m.tag===22&&d){var _=m.memoizedState!==null||Or;if(!_){var C=m.alternate,w=C!==null&&C.memoizedState!==null||Ye;C=Or;var M=Ye;if(Or=_,(Ye=w)&&!M)for(K=m;K!==null;)_=K,w=_.child,_.tag===22&&_.memoizedState!==null?bc(m):w!==null?(w.return=_,K=w):bc(m);for(;y!==null;)K=y,zc(y),y=y.sibling;K=m,Or=C,Ye=M}$c(n)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,K=y):$c(n)}}function $c(n){for(;K!==null;){var r=K;if((r.flags&8772)!==0){var s=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Ye||Wr(5,r);break;case 1:var d=r.stateNode;if(r.flags&4&&!Ye)if(s===null)d.componentDidMount();else{var m=r.elementType===r.type?s.memoizedProps:xt(r.type,s.memoizedProps);d.componentDidUpdate(m,s.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=r.updateQueue;y!==null&&Ju(r,y,d);break;case 3:var _=r.updateQueue;if(_!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}Ju(r,_,s)}break;case 5:var C=r.stateNode;if(s===null&&r.flags&4){s=C;var w=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&s.focus();break;case"img":w.src&&(s.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var M=r.alternate;if(M!==null){var V=M.memoizedState;if(V!==null){var G=V.dehydrated;G!==null&&Co(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Ye||r.flags&512&&ul(r)}catch(U){De(r,r.return,U)}}if(r===n){K=null;break}if(s=r.sibling,s!==null){s.return=r.return,K=s;break}K=r.return}}function Jc(n){for(;K!==null;){var r=K;if(r===n){K=null;break}var s=r.sibling;if(s!==null){s.return=r.return,K=s;break}K=r.return}}function bc(n){for(;K!==null;){var r=K;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{Wr(4,r)}catch(w){De(r,s,w)}break;case 1:var d=r.stateNode;if(typeof d.componentDidMount=="function"){var m=r.return;try{d.componentDidMount()}catch(w){De(r,m,w)}}var y=r.return;try{ul(r)}catch(w){De(r,y,w)}break;case 5:var _=r.return;try{ul(r)}catch(w){De(r,_,w)}}}catch(w){De(r,r.return,w)}if(r===n){K=null;break}var C=r.sibling;if(C!==null){C.return=r.return,K=C;break}K=r.return}}var Ah=Math.ceil,Kr=H.ReactCurrentDispatcher,fl=H.ReactCurrentOwner,yt=H.ReactCurrentBatchConfig,me=0,Be=null,Ve=null,be=0,ft=0,jn=en(0),He=0,Oo=null,xn=0,Yr=0,pl=0,Wo=null,it=null,ml=0,eo=1/0,$t=null,Qr=!1,hl=null,ln=null,Xr=!1,an=null,Zr=0,Ko=0,gl=null,jr=-1,ei=0;function je(){return(me&6)!==0?Ue():jr!==-1?jr:jr=Ue()}function un(n){return(n.mode&1)===0?1:(me&2)!==0&&be!==0?be&-be:ch.transition!==null?(ei===0&&(ei=Ga()),ei):(n=Ee,n!==0||(n=window.event,n=n===void 0?16:Wa(n.type)),n)}function At(n,r,s,d){if(50<Ko)throw Ko=0,gl=null,Error(o(185));vo(n,s,d),((me&2)===0||n!==Be)&&(n===Be&&((me&2)===0&&(Yr|=s),He===4&&cn(n,be)),st(n,d),s===1&&me===0&&(r.mode&1)===0&&(eo=Ue()+500,Nr&&nn()))}function st(n,r){var s=n.callbackNode;cm(n,r);var d=ur(n,n===Be?be:0);if(d===0)s!==null&&Ua(s),n.callbackNode=null,n.callbackPriority=0;else if(r=d&-d,n.callbackPriority!==r){if(s!=null&&Ua(s),r===1)n.tag===0?uh(Wc.bind(null,n)):Mu(Wc.bind(null,n)),ih(function(){(me&6)===0&&nn()}),s=null;else{switch(Ha(d)){case 1:s=Yi;break;case 4:s=Fa;break;case 16:s=ir;break;case 536870912:s=Va;break;default:s=ir}s=td(s,Oc.bind(null,n))}n.callbackPriority=r,n.callbackNode=s}}function Oc(n,r){if(jr=-1,ei=0,(me&6)!==0)throw Error(o(327));var s=n.callbackNode;if(to()&&n.callbackNode!==s)return null;var d=ur(n,n===Be?be:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||r)r=ti(n,d);else{r=d;var m=me;me|=2;var y=Yc();(Be!==n||be!==r)&&($t=null,eo=Ue()+500,In(n,r));do try{kh();break}catch(C){Kc(n,C)}while(!0);Ls(),Kr.current=y,me=m,Ve!==null?r=0:(Be=null,be=0,r=He)}if(r!==0){if(r===2&&(m=Qi(n),m!==0&&(d=m,r=yl(n,m))),r===1)throw s=Oo,In(n,0),cn(n,d),st(n,Ue()),s;if(r===6)cn(n,d);else{if(m=n.current.alternate,(d&30)===0&&!Nh(m)&&(r=ti(n,d),r===2&&(y=Qi(n),y!==0&&(d=y,r=yl(n,y))),r===1))throw s=Oo,In(n,0),cn(n,d),st(n,Ue()),s;switch(n.finishedWork=m,n.finishedLanes=d,r){case 0:case 1:throw Error(o(345));case 2:An(n,it,$t);break;case 3:if(cn(n,d),(d&130023424)===d&&(r=ml+500-Ue(),10<r)){if(ur(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){je(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=Cs(An.bind(null,n,it,$t),r);break}An(n,it,$t);break;case 4:if(cn(n,d),(d&4194240)===d)break;for(r=n.eventTimes,m=-1;0<d;){var _=31-_t(d);y=1<<_,_=r[_],_>m&&(m=_),d&=~y}if(d=m,d=Ue()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Ah(d/1960))-d,10<d){n.timeoutHandle=Cs(An.bind(null,n,it,$t),d);break}An(n,it,$t);break;case 5:An(n,it,$t);break;default:throw Error(o(329))}}}return st(n,Ue()),n.callbackNode===s?Oc.bind(null,n):null}function yl(n,r){var s=Wo;return n.current.memoizedState.isDehydrated&&(In(n,r).flags|=256),n=ti(n,r),n!==2&&(r=it,it=s,r!==null&&vl(r)),n}function vl(n){it===null?it=n:it.push.apply(it,n)}function Nh(n){for(var r=n;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var d=0;d<s.length;d++){var m=s[d],y=m.getSnapshot;m=m.value;try{if(!Tt(y(),m))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function cn(n,r){for(r&=~pl,r&=~Yr,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var s=31-_t(r),d=1<<s;n[s]=-1,r&=~d}}function Wc(n){if((me&6)!==0)throw Error(o(327));to();var r=ur(n,0);if((r&1)===0)return st(n,Ue()),null;var s=ti(n,r);if(n.tag!==0&&s===2){var d=Qi(n);d!==0&&(r=d,s=yl(n,d))}if(s===1)throw s=Oo,In(n,0),cn(n,r),st(n,Ue()),s;if(s===6)throw Error(o(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,An(n,it,$t),st(n,Ue()),null}function Sl(n,r){var s=me;me|=1;try{return n(r)}finally{me=s,me===0&&(eo=Ue()+500,Nr&&nn())}}function wn(n){an!==null&&an.tag===0&&(me&6)===0&&to();var r=me;me|=1;var s=yt.transition,d=Ee;try{if(yt.transition=null,Ee=1,n)return n()}finally{Ee=d,yt.transition=s,me=r,(me&6)===0&&nn()}}function El(){ft=jn.current,Ae(jn)}function In(n,r){n.finishedWork=null,n.finishedLanes=0;var s=n.timeoutHandle;if(s!==-1&&(n.timeoutHandle=-1,rh(s)),Ve!==null)for(s=Ve.return;s!==null;){var d=s;switch(Rs(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ir();break;case 3:Qn(),Ae(nt),Ae(Oe),zs();break;case 5:qs(d);break;case 4:Qn();break;case 13:Ae(Pe);break;case 19:Ae(Pe);break;case 10:Us(d.type._context);break;case 22:case 23:El()}s=s.return}if(Be=n,Ve=n=dn(n.current,null),be=ft=r,He=0,Oo=null,pl=Yr=xn=0,it=Wo=null,_n!==null){for(r=0;r<_n.length;r++)if(s=_n[r],d=s.interleaved,d!==null){s.interleaved=null;var m=d.next,y=s.pending;if(y!==null){var _=y.next;y.next=m,d.next=_}s.pending=d}_n=null}return n}function Kc(n,r){do{var s=Ve;try{if(Ls(),Gr.current=zr,Hr){for(var d=Me.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Hr=!1}if(Cn=0,qe=Ge=Me=null,qo=!1,Bo=0,fl.current=null,s===null||s.return===null){He=1,Oo=r,Ve=null;break}e:{var y=n,_=s.return,C=s,w=r;if(r=be,C.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var M=w,V=C,G=V.tag;if((V.mode&1)===0&&(G===0||G===11||G===15)){var U=V.alternate;U?(V.updateQueue=U.updateQueue,V.memoizedState=U.memoizedState,V.lanes=U.lanes):(V.updateQueue=null,V.memoizedState=null)}var b=Sc(_);if(b!==null){b.flags&=-257,Ec(b,_,C,y,r),b.mode&1&&vc(y,M,r),r=b,w=M;var X=r.updateQueue;if(X===null){var Z=new Set;Z.add(w),r.updateQueue=Z}else X.add(w);break e}else{if((r&1)===0){vc(y,M,r),_l();break e}w=Error(o(426))}}else if(ke&&C.mode&1){var Fe=Sc(_);if(Fe!==null){(Fe.flags&65536)===0&&(Fe.flags|=256),Ec(Fe,_,C,y,r),Ms(Xn(w,C));break e}}y=w=Xn(w,C),He!==4&&(He=2),Wo===null?Wo=[y]:Wo.push(y),y=_;do{switch(y.tag){case 3:y.flags|=65536,r&=-r,y.lanes|=r;var N=gc(y,w,r);$u(y,N);break e;case 1:C=w;var I=y.type,P=y.stateNode;if((y.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(ln===null||!ln.has(P)))){y.flags|=65536,r&=-r,y.lanes|=r;var q=yc(y,C,r);$u(y,q);break e}}y=y.return}while(y!==null)}Xc(s)}catch(j){r=j,Ve===s&&s!==null&&(Ve=s=s.return);continue}break}while(!0)}function Yc(){var n=Kr.current;return Kr.current=zr,n===null?zr:n}function _l(){(He===0||He===3||He===2)&&(He=4),Be===null||(xn&268435455)===0&&(Yr&268435455)===0||cn(Be,be)}function ti(n,r){var s=me;me|=2;var d=Yc();(Be!==n||be!==r)&&($t=null,In(n,r));do try{Rh();break}catch(m){Kc(n,m)}while(!0);if(Ls(),me=s,Kr.current=d,Ve!==null)throw Error(o(261));return Be=null,be=0,He}function Rh(){for(;Ve!==null;)Qc(Ve)}function kh(){for(;Ve!==null&&!tm();)Qc(Ve)}function Qc(n){var r=ed(n.alternate,n,ft);n.memoizedProps=n.pendingProps,r===null?Xc(n):Ve=r,fl.current=null}function Xc(n){var r=n;do{var s=r.alternate;if(n=r.return,(r.flags&32768)===0){if(s=Th(s,r,ft),s!==null){Ve=s;return}}else{if(s=Ch(s,r),s!==null){s.flags&=32767,Ve=s;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{He=6,Ve=null;return}}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);He===0&&(He=5)}function An(n,r,s){var d=Ee,m=yt.transition;try{yt.transition=null,Ee=1,Ph(n,r,s,d)}finally{yt.transition=m,Ee=d}return null}function Ph(n,r,s,d){do to();while(an!==null);if((me&6)!==0)throw Error(o(327));s=n.finishedWork;var m=n.finishedLanes;if(s===null)return null;if(n.finishedWork=null,n.finishedLanes=0,s===n.current)throw Error(o(177));n.callbackNode=null,n.callbackPriority=0;var y=s.lanes|s.childLanes;if(dm(n,y),n===Be&&(Ve=Be=null,be=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Xr||(Xr=!0,td(ir,function(){return to(),null})),y=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||y){y=yt.transition,yt.transition=null;var _=Ee;Ee=1;var C=me;me|=4,fl.current=null,wh(n,s),Bc(s,n),Xm(_s),fr=!!Es,_s=Es=null,n.current=s,Ih(s),nm(),me=C,Ee=_,yt.transition=y}else n.current=s;if(Xr&&(Xr=!1,an=n,Zr=m),y=n.pendingLanes,y===0&&(ln=null),im(s.stateNode),st(n,Ue()),r!==null)for(d=n.onRecoverableError,s=0;s<r.length;s++)m=r[s],d(m.value,{componentStack:m.stack,digest:m.digest});if(Qr)throw Qr=!1,n=hl,hl=null,n;return(Zr&1)!==0&&n.tag!==0&&to(),y=n.pendingLanes,(y&1)!==0?n===gl?Ko++:(Ko=0,gl=n):Ko=0,nn(),null}function to(){if(an!==null){var n=Ha(Zr),r=yt.transition,s=Ee;try{if(yt.transition=null,Ee=16>n?16:n,an===null)var d=!1;else{if(n=an,an=null,Zr=0,(me&6)!==0)throw Error(o(331));var m=me;for(me|=4,K=n.current;K!==null;){var y=K,_=y.child;if((K.flags&16)!==0){var C=y.deletions;if(C!==null){for(var w=0;w<C.length;w++){var M=C[w];for(K=M;K!==null;){var V=K;switch(V.tag){case 0:case 11:case 15:bo(8,V,y)}var G=V.child;if(G!==null)G.return=V,K=G;else for(;K!==null;){V=K;var U=V.sibling,b=V.return;if(Fc(V),V===M){K=null;break}if(U!==null){U.return=b,K=U;break}K=b}}}var X=y.alternate;if(X!==null){var Z=X.child;if(Z!==null){X.child=null;do{var Fe=Z.sibling;Z.sibling=null,Z=Fe}while(Z!==null)}}K=y}}if((y.subtreeFlags&2064)!==0&&_!==null)_.return=y,K=_;else e:for(;K!==null;){if(y=K,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:bo(9,y,y.return)}var N=y.sibling;if(N!==null){N.return=y.return,K=N;break e}K=y.return}}var I=n.current;for(K=I;K!==null;){_=K;var P=_.child;if((_.subtreeFlags&2064)!==0&&P!==null)P.return=_,K=P;else e:for(_=I;K!==null;){if(C=K,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Wr(9,C)}}catch(j){De(C,C.return,j)}if(C===_){K=null;break e}var q=C.sibling;if(q!==null){q.return=C.return,K=q;break e}K=C.return}}if(me=m,nn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(sr,n)}catch{}d=!0}return d}finally{Ee=s,yt.transition=r}}return!1}function Zc(n,r,s){r=Xn(s,r),r=gc(n,r,1),n=rn(n,r,1),r=je(),n!==null&&(vo(n,1,r),st(n,r))}function De(n,r,s){if(n.tag===3)Zc(n,n,s);else for(;r!==null;){if(r.tag===3){Zc(r,n,s);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ln===null||!ln.has(d))){n=Xn(s,n),n=yc(r,n,1),r=rn(r,n,1),n=je(),r!==null&&(vo(r,1,n),st(r,n));break}}r=r.return}}function Mh(n,r,s){var d=n.pingCache;d!==null&&d.delete(r),r=je(),n.pingedLanes|=n.suspendedLanes&s,Be===n&&(be&s)===s&&(He===4||He===3&&(be&130023424)===be&&500>Ue()-ml?In(n,0):pl|=s),st(n,r)}function jc(n,r){r===0&&((n.mode&1)===0?r=1:(r=ar,ar<<=1,(ar&130023424)===0&&(ar=4194304)));var s=je();n=qt(n,r),n!==null&&(vo(n,r,s),st(n,s))}function Dh(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),jc(n,s)}function Lh(n,r){var s=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(s=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(o(314))}d!==null&&d.delete(r),jc(n,s)}var ed;ed=function(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps||nt.current)rt=!0;else{if((n.lanes&s)===0&&(r.flags&128)===0)return rt=!1,_h(n,r,s);rt=(n.flags&131072)!==0}else rt=!1,ke&&(r.flags&1048576)!==0&&Du(r,kr,r.index);switch(r.lanes=0,r.tag){case 2:var d=r.type;br(n,r),n=r.pendingProps;var m=$n(r,Oe.current);Yn(r,s),m=bs(null,r,d,n,m,s);var y=Os();return r.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,ot(d)?(y=!0,Ar(r)):y=!1,r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Gs(r),m.updater=$r,r.stateNode=m,m._reactInternals=r,Zs(r,d,n,s),r=nl(null,r,d,!0,y,s)):(r.tag=0,ke&&y&&Ns(r),Ze(null,r,m,s),r=r.child),r;case 16:d=r.elementType;e:{switch(br(n,r),n=r.pendingProps,m=d._init,d=m(d._payload),r.type=d,m=r.tag=Fh(d),n=xt(d,n),m){case 0:r=tl(null,r,d,n,s);break e;case 1:r=Ic(null,r,d,n,s);break e;case 11:r=_c(null,r,d,n,s);break e;case 14:r=Tc(null,r,d,xt(d.type,n),s);break e}throw Error(o(306,d,""))}return r;case 0:return d=r.type,m=r.pendingProps,m=r.elementType===d?m:xt(d,m),tl(n,r,d,m,s);case 1:return d=r.type,m=r.pendingProps,m=r.elementType===d?m:xt(d,m),Ic(n,r,d,m,s);case 3:e:{if(Ac(r),n===null)throw Error(o(387));d=r.pendingProps,y=r.memoizedState,m=y.element,zu(n,r),Fr(r,d,null,s);var _=r.memoizedState;if(d=_.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){m=Xn(Error(o(423)),r),r=Nc(n,r,d,s,m);break e}else if(d!==m){m=Xn(Error(o(424)),r),r=Nc(n,r,d,s,m);break e}else for(dt=jt(r.stateNode.containerInfo.firstChild),ct=r,ke=!0,Ct=null,s=qu(r,null,d,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(On(),d===m){r=zt(n,r,s);break e}Ze(n,r,d,s)}r=r.child}return r;case 5:return bu(r),n===null&&Ps(r),d=r.type,m=r.pendingProps,y=n!==null?n.memoizedProps:null,_=m.children,Ts(d,m)?_=null:y!==null&&Ts(d,y)&&(r.flags|=32),wc(n,r),Ze(n,r,_,s),r.child;case 6:return n===null&&Ps(r),null;case 13:return Rc(n,r,s);case 4:return Hs(r,r.stateNode.containerInfo),d=r.pendingProps,n===null?r.child=Wn(r,null,d,s):Ze(n,r,d,s),r.child;case 11:return d=r.type,m=r.pendingProps,m=r.elementType===d?m:xt(d,m),_c(n,r,d,m,s);case 7:return Ze(n,r,r.pendingProps,s),r.child;case 8:return Ze(n,r,r.pendingProps.children,s),r.child;case 12:return Ze(n,r,r.pendingProps.children,s),r.child;case 10:e:{if(d=r.type._context,m=r.pendingProps,y=r.memoizedProps,_=m.value,we(Dr,d._currentValue),d._currentValue=_,y!==null)if(Tt(y.value,_)){if(y.children===m.children&&!nt.current){r=zt(n,r,s);break e}}else for(y=r.child,y!==null&&(y.return=r);y!==null;){var C=y.dependencies;if(C!==null){_=y.child;for(var w=C.firstContext;w!==null;){if(w.context===d){if(y.tag===1){w=Bt(-1,s&-s),w.tag=2;var M=y.updateQueue;if(M!==null){M=M.shared;var V=M.pending;V===null?w.next=w:(w.next=V.next,V.next=w),M.pending=w}}y.lanes|=s,w=y.alternate,w!==null&&(w.lanes|=s),Fs(y.return,s,r),C.lanes|=s;break}w=w.next}}else if(y.tag===10)_=y.type===r.type?null:y.child;else if(y.tag===18){if(_=y.return,_===null)throw Error(o(341));_.lanes|=s,C=_.alternate,C!==null&&(C.lanes|=s),Fs(_,s,r),_=y.sibling}else _=y.child;if(_!==null)_.return=y;else for(_=y;_!==null;){if(_===r){_=null;break}if(y=_.sibling,y!==null){y.return=_.return,_=y;break}_=_.return}y=_}Ze(n,r,m.children,s),r=r.child}return r;case 9:return m=r.type,d=r.pendingProps.children,Yn(r,s),m=ht(m),d=d(m),r.flags|=1,Ze(n,r,d,s),r.child;case 14:return d=r.type,m=xt(d,r.pendingProps),m=xt(d.type,m),Tc(n,r,d,m,s);case 15:return Cc(n,r,r.type,r.pendingProps,s);case 17:return d=r.type,m=r.pendingProps,m=r.elementType===d?m:xt(d,m),br(n,r),r.tag=1,ot(d)?(n=!0,Ar(r)):n=!1,Yn(r,s),mc(r,d,m),Zs(r,d,m,s),nl(null,r,d,!0,n,s);case 19:return Pc(n,r,s);case 22:return xc(n,r,s)}throw Error(o(156,r.tag))};function td(n,r){return La(n,r)}function Uh(n,r,s,d){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(n,r,s,d){return new Uh(n,r,s,d)}function Tl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fh(n){if(typeof n=="function")return Tl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Le)return 11;if(n===Xe)return 14}return 2}function dn(n,r){var s=n.alternate;return s===null?(s=vt(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&14680064,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s}function ni(n,r,s,d,m,y){var _=2;if(d=n,typeof n=="function")Tl(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case ne:return Nn(s.children,m,y,r);case pe:_=8,m|=8;break;case ee:return n=vt(12,s,r,m|2),n.elementType=ee,n.lanes=y,n;case ce:return n=vt(13,s,r,m),n.elementType=ce,n.lanes=y,n;case Ne:return n=vt(19,s,r,m),n.elementType=Ne,n.lanes=y,n;case O:return oi(s,m,y,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ae:_=10;break e;case _e:_=9;break e;case Le:_=11;break e;case Xe:_=14;break e;case Ce:_=16,d=null;break e}throw Error(o(130,n==null?n:typeof n,""))}return r=vt(_,s,r,m),r.elementType=n,r.type=d,r.lanes=y,r}function Nn(n,r,s,d){return n=vt(7,n,d,r),n.lanes=s,n}function oi(n,r,s,d){return n=vt(22,n,d,r),n.elementType=O,n.lanes=s,n.stateNode={isHidden:!1},n}function Cl(n,r,s){return n=vt(6,n,null,r),n.lanes=s,n}function xl(n,r,s){return r=vt(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Vh(n,r,s,d,m){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function wl(n,r,s,d,m,y,_,C,w){return n=new Vh(n,r,s,C,w),r===1?(r=1,y===!0&&(r|=8)):r=0,y=vt(3,null,null,r),n.current=y,y.stateNode=n,y.memoizedState={element:d,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gs(y),n}function Gh(n,r,s){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:d==null?null:""+d,children:n,containerInfo:r,implementation:s}}function nd(n){if(!n)return tn;n=n._reactInternals;e:{if(gn(n)!==n||n.tag!==1)throw Error(o(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(ot(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(o(171))}if(n.tag===1){var s=n.type;if(ot(s))return ku(n,s,r)}return r}function od(n,r,s,d,m,y,_,C,w){return n=wl(s,d,!0,n,m,y,_,C,w),n.context=nd(null),s=n.current,d=je(),m=un(s),y=Bt(d,m),y.callback=r??null,rn(s,y,m),n.current.lanes=m,vo(n,m,d),st(n,d),n}function ri(n,r,s,d){var m=r.current,y=je(),_=un(m);return s=nd(s),r.context===null?r.context=s:r.pendingContext=s,r=Bt(y,_),r.payload={element:n},d=d===void 0?null:d,d!==null&&(r.callback=d),n=rn(m,r,_),n!==null&&(At(n,m,_,y),Ur(n,m,_)),_}function ii(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function rd(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function Il(n,r){rd(n,r),(n=n.alternate)&&rd(n,r)}function Hh(){return null}var id=typeof reportError=="function"?reportError:function(n){console.error(n)};function Al(n){this._internalRoot=n}si.prototype.render=Al.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(o(409));ri(n,r,null,null)},si.prototype.unmount=Al.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;wn(function(){ri(null,n,null,null)}),r[Ft]=null}};function si(n){this._internalRoot=n}si.prototype.unstable_scheduleHydration=function(n){if(n){var r=za();n={blockedOn:null,target:n,priority:r};for(var s=0;s<Qt.length&&r!==0&&r<Qt[s].priority;s++);Qt.splice(s,0,n),s===0&&ba(n)}};function Nl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function li(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function sd(){}function qh(n,r,s,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var M=ii(_);y.call(M)}}var _=od(r,d,n,0,null,!1,!1,"",sd);return n._reactRootContainer=_,n[Ft]=_.current,Mo(n.nodeType===8?n.parentNode:n),wn(),_}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var C=d;d=function(){var M=ii(w);C.call(M)}}var w=wl(n,0,!1,null,null,!1,!1,"",sd);return n._reactRootContainer=w,n[Ft]=w.current,Mo(n.nodeType===8?n.parentNode:n),wn(function(){ri(r,w,s,d)}),w}function ai(n,r,s,d,m){var y=s._reactRootContainer;if(y){var _=y;if(typeof m=="function"){var C=m;m=function(){var w=ii(_);C.call(w)}}ri(r,_,n,m)}else _=qh(s,r,n,m,d);return ii(_)}qa=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var s=yo(r.pendingLanes);s!==0&&(Zi(r,s|1),st(r,Ue()),(me&6)===0&&(eo=Ue()+500,nn()))}break;case 13:wn(function(){var d=qt(n,1);if(d!==null){var m=je();At(d,n,1,m)}}),Il(n,1)}},ji=function(n){if(n.tag===13){var r=qt(n,134217728);if(r!==null){var s=je();At(r,n,134217728,s)}Il(n,134217728)}},Ba=function(n){if(n.tag===13){var r=un(n),s=qt(n,r);if(s!==null){var d=je();At(s,n,r,d)}Il(n,r)}},za=function(){return Ee},$a=function(n,r){var s=Ee;try{return Ee=n,r()}finally{Ee=s}},bi=function(n,r,s){switch(r){case"input":if(Vi(n,s),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var d=s[r];if(d!==n&&d.form===n.form){var m=wr(d);if(!m)throw Error(o(90));pa(d),Vi(d,m)}}}break;case"textarea":va(n,s);break;case"select":r=s.value,r!=null&&Pn(n,!!s.multiple,r,!1)}},Aa=Sl,Na=wn;var Bh={usingClientEntryPoint:!1,Events:[Uo,Bn,wr,wa,Ia,Sl]},Yo={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zh={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ma(n),n===null?null:n.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||Hh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ui.isDisabled&&ui.supportsFiber)try{sr=ui.inject(zh),Pt=ui}catch{}}return lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bh,lt.createPortal=function(n,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nl(r))throw Error(o(200));return Gh(n,r,null,s)},lt.createRoot=function(n,r){if(!Nl(n))throw Error(o(299));var s=!1,d="",m=id;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),r=wl(n,1,!1,null,null,s,!1,d,m),n[Ft]=r.current,Mo(n.nodeType===8?n.parentNode:n),new Al(r)},lt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=Ma(r),n=n===null?null:n.stateNode,n},lt.flushSync=function(n){return wn(n)},lt.hydrate=function(n,r,s){if(!li(r))throw Error(o(200));return ai(null,n,r,!0,s)},lt.hydrateRoot=function(n,r,s){if(!Nl(n))throw Error(o(405));var d=s!=null&&s.hydratedSources||null,m=!1,y="",_=id;if(s!=null&&(s.unstable_strictMode===!0&&(m=!0),s.identifierPrefix!==void 0&&(y=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),r=od(r,null,n,1,s??null,m,!1,y,_),n[Ft]=r.current,Mo(n),d)for(n=0;n<d.length;n++)s=d[n],m=s._getVersion,m=m(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,m]:r.mutableSourceEagerHydrationData.push(s,m);return new si(r)},lt.render=function(n,r,s){if(!li(r))throw Error(o(200));return ai(null,n,r,!1,s)},lt.unmountComponentAtNode=function(n){if(!li(n))throw Error(o(40));return n._reactRootContainer?(wn(function(){ai(null,null,n,!1,function(){n._reactRootContainer=null,n[Ft]=null})}),!0):!1},lt.unstable_batchedUpdates=Sl,lt.unstable_renderSubtreeIntoContainer=function(n,r,s,d){if(!li(s))throw Error(o(200));if(n==null||n._reactInternals===void 0)throw Error(o(38));return ai(n,r,s,!1,d)},lt.version="18.3.1-next-f1338f8080-20240426",lt}var md;function Xh(){if(md)return Pl.exports;md=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pl.exports=Qh(),Pl.exports}var hd;function Zh(){if(hd)return ci;hd=1;var t=Xh();return ci.createRoot=t.createRoot,ci.hydrateRoot=t.hydrateRoot,ci}var jh=Zh();const eg=Qf(jh);var tg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ng=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),og=(t,e)=>{const o=te.forwardRef(({color:i="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:f,children:p,...g},h)=>te.createElement("svg",{ref:h,...tg,width:l,height:l,stroke:i,strokeWidth:f?Number(c)*24/Number(l):c,className:`lucide lucide-${ng(t)}`,...g},[...e.map(([v,E])=>te.createElement(v,E)),...(Array.isArray(p)?p:[p])||[]]));return o.displayName=`${t}`,o};var Te=og;const rg=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ea=Te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),ig=Te("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),sg=Te("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),lg=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ag=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ug=Te("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),ta=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),cg=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Xf=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),dg=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),fg=Te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),pg=Te("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),na=Te("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),mg=Te("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),hg=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),gg=Te("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Zf=Te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),yg=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),vg=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Sg=Te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Eg=Te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),_g=Te("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Ll=Te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Tg=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),jf=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Cg=Te("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Ei=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var xg={};let wg,Ig;function Ag(){return{geminiUrl:wg,vertexUrl:Ig}}function Ng(t,e,o,i){var l,c;if(!t?.baseUrl){const f=Ag();return e?(l=f.vertexUrl)!==null&&l!==void 0?l:o:(c=f.geminiUrl)!==null&&c!==void 0?c:i}return t.baseUrl}class bt{}function J(t,e){const o=/\{([^}]+)\}/g;return t.replace(o,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const c=e[l];return c!=null?String(c):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function u(t,e,o){for(let c=0;c<e.length-1;c++){const f=e[c];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in t))if(Array.isArray(o))t[p]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(t[p])){const g=t[p];if(Array.isArray(o))for(let h=0;h<g.length;h++){const v=g[h];u(v,e.slice(c+1),o[h])}else for(const h of g)u(h,e.slice(c+1),o)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in t||(t[p]=[{}]);const g=t[p];u(g[0],e.slice(c+1),o);return}(!t[f]||typeof t[f]!="object")&&(t[f]={}),t=t[f]}const i=e[e.length-1],l=t[i];if(l!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===l)return;if(typeof l=="object"&&typeof o=="object"&&l!==null&&o!==null)Object.assign(l,o);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(t,o):t[i]=o}function a(t,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return o;const l=e[i];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in t){const f=t[c];return Array.isArray(f)?f.map(p=>a(p,e.slice(i+1),o)):o}else return o}else t=t[l]}return t}catch(i){if(i instanceof TypeError)return o;throw i}}function Rg(t,e){for(const[o,i]of Object.entries(e)){const l=o.split("."),c=i.split("."),f=new Set;let p=-1;for(let g=0;g<l.length;g++)if(l[g]==="*"){p=g;break}if(p!==-1&&c.length>p)for(let g=p;g<c.length;g++){const h=c[g];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&f.add(h)}Gl(t,l,c,0,f)}}function Gl(t,e,o,i,l){if(i>=e.length||typeof t!="object"||t===null)return;const c=e[i];if(c.endsWith("[]")){const f=c.slice(0,-2),p=t;if(f in p&&Array.isArray(p[f]))for(const g of p[f])Gl(g,e,o,i+1,l)}else if(c==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const f=t,p=Object.keys(f).filter(h=>!h.startsWith("_")&&!l.has(h)),g={};for(const h of p)g[h]=f[h];for(const[h,v]of Object.entries(g)){const E=[];for(const S of o.slice(i))S==="*"?E.push(h):E.push(S);u(f,E,v)}for(const h of p)delete f[h]}}else{const f=t;c in f&&Gl(f[c],e,o,i+1,l)}}function oa(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function kg(t){const e={},o=a(t,["operationName"]);o!=null&&u(e,["operationName"],o);const i=a(t,["resourceName"]);return i!=null&&u(e,["_url","resourceName"],i),e}function Pg(t){const e={},o=a(t,["name"]);o!=null&&u(e,["name"],o);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const c=a(t,["error"]);c!=null&&u(e,["error"],c);const f=a(t,["response","generateVideoResponse"]);return f!=null&&u(e,["response"],Dg(f)),e}function Mg(t){const e={},o=a(t,["name"]);o!=null&&u(e,["name"],o);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const c=a(t,["error"]);c!=null&&u(e,["error"],c);const f=a(t,["response"]);return f!=null&&u(e,["response"],Lg(f)),e}function Dg(t){const e={},o=a(t,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>Ug(f))),u(e,["generatedVideos"],c)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&u(e,["raiMediaFilteredReasons"],l),e}function Lg(t){const e={},o=a(t,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>Fg(f))),u(e,["generatedVideos"],c)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&u(e,["raiMediaFilteredReasons"],l),e}function Ug(t){const e={},o=a(t,["video"]);return o!=null&&u(e,["video"],zg(o)),e}function Fg(t){const e={},o=a(t,["_self"]);return o!=null&&u(e,["video"],$g(o)),e}function Vg(t){const e={},o=a(t,["operationName"]);return o!=null&&u(e,["_url","operationName"],o),e}function Gg(t){const e={},o=a(t,["operationName"]);return o!=null&&u(e,["_url","operationName"],o),e}function Hg(t){const e={},o=a(t,["name"]);o!=null&&u(e,["name"],o);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const c=a(t,["error"]);c!=null&&u(e,["error"],c);const f=a(t,["response"]);return f!=null&&u(e,["response"],qg(f)),e}function qg(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["parent"]);i!=null&&u(e,["parent"],i);const l=a(t,["documentName"]);return l!=null&&u(e,["documentName"],l),e}function ep(t){const e={},o=a(t,["name"]);o!=null&&u(e,["name"],o);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const c=a(t,["error"]);c!=null&&u(e,["error"],c);const f=a(t,["response"]);return f!=null&&u(e,["response"],Bg(f)),e}function Bg(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["parent"]);i!=null&&u(e,["parent"],i);const l=a(t,["documentName"]);return l!=null&&u(e,["documentName"],l),e}function zg(t){const e={},o=a(t,["uri"]);o!=null&&u(e,["uri"],o);const i=a(t,["encodedVideo"]);i!=null&&u(e,["videoBytes"],oa(i));const l=a(t,["encoding"]);return l!=null&&u(e,["mimeType"],l),e}function $g(t){const e={},o=a(t,["gcsUri"]);o!=null&&u(e,["uri"],o);const i=a(t,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],oa(i));const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}var gd;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gd||(gd={}));var yd;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(yd||(yd={}));var vd;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(vd||(vd={}));var pn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(pn||(pn={}));var Sd;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Sd||(Sd={}));var Ed;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ed||(Ed={}));var _d;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_d||(_d={}));var Td;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Td||(Td={}));var Cd;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Cd||(Cd={}));var xd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(xd||(xd={}));var wd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(wd||(wd={}));var Id;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Id||(Id={}));var Ad;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ad||(Ad={}));var Nd;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Nd||(Nd={}));var Rd;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Rd||(Rd={}));var kd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(kd||(kd={}));var Pd;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Pd||(Pd={}));var Md;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Md||(Md={}));var Dd;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Dd||(Dd={}));var Ld;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Ld||(Ld={}));var Ud;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ud||(Ud={}));var _i;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(_i||(_i={}));var Fd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Fd||(Fd={}));var Vd;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Vd||(Vd={}));var Gd;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Gd||(Gd={}));var Hl;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Hl||(Hl={}));var Hd;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Hd||(Hd={}));var qd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(qd||(qd={}));var Bd;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Bd||(Bd={}));var zd;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(zd||(zd={}));var $d;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($d||($d={}));var Jd;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Jd||(Jd={}));var bd;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bd||(bd={}));var Od;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Od||(Od={}));var Wd;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Wd||(Wd={}));var Kd;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Kd||(Kd={}));var Yd;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Yd||(Yd={}));var Qd;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Qd||(Qd={}));var Xd;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Xd||(Xd={}));var Zd;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Zd||(Zd={}));var jd;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(jd||(jd={}));var ef;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ef||(ef={}));var tf;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(tf||(tf={}));var nf;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(nf||(nf={}));var of;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(of||(of={}));var rf;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(rf||(rf={}));var sf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(sf||(sf={}));var lf;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(lf||(lf={}));var af;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(af||(af={}));var uf;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(uf||(uf={}));var cf;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(cf||(cf={}));var df;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(df||(df={}));var ff;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ff||(ff={}));var pf;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(pf||(pf={}));var oo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(oo||(oo={}));class ql{constructor(e){const o={};for(const i of e.headers.entries())o[i[0]]=i[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xo{get text(){var e,o,i,l,c,f,p,g;if(((l=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const S of(g=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[x,k]of Object.entries(S))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(k!==null||k!==void 0)&&E.push(x);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,h+=S.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,o,i,l,c,f,p,g;if(((l=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(g=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[S,x]of Object.entries(E))S!=="inlineData"&&(x!==null||x!==void 0)&&v.push(S);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,o,i,l,c,f,p,g;if(((l=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(g=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(h?.length!==0)return h}get executableCode(){var e,o,i,l,c,f,p,g,h;if(((l=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,o,i,l,c,f,p,g,h;if(((l=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.output}}class mf{}class hf{}class Jg{}class bg{}class Og{}class Wg{}class gf{}class yf{}class vf{}class Kg{}class Ti{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const i=new Ti;let l;const c=e;return o?l=Mg(c):l=Pg(c),Object.assign(i,l),i}}class Sf{}class Ef{}class _f{}class Tf{}class Yg{}class Qg{}class Xg{}class ra{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const i=new ra,c=Hg(e);return Object.assign(i,c),i}}class Zg{}class jg{}class ey{}class Cf{}class ty{get text(){var e,o,i;let l="",c=!1;const f=[];for(const p of(i=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&i!==void 0?i:[]){for(const[g,h]of Object.entries(p))g!=="text"&&g!=="thought"&&h!==null&&f.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,l+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?l:void 0}get data(){var e,o,i;let l="";const c=[];for(const f of(i=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&i!==void 0?i:[]){for(const[p,g]of Object.entries(f))p!=="inlineData"&&g!==null&&c.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(l+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class ny{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ia{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const i=new ia,c=ep(e);return Object.assign(i,c),i}}function ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function tp(t,e){const o=ve(t,e);return o?o.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}`:o.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${o}`:o:""}function np(t){return Array.isArray(t)?t.map(e=>Ci(e)):[Ci(t)]}function Ci(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function op(t){const e=Ci(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function rp(t){const e=Ci(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function xf(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ip(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>xf(e)):[xf(t)]}function Bl(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function wf(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function If(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Qe(t){if(t==null)throw new Error("ContentUnion is required");return Bl(t)?t:{role:"user",parts:ip(t)}}function sa(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const i=Qe(o);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const o=Qe(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>Qe(o)):[Qe(e)]}function St(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(wf(t)||If(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qe(t)]}const e=[],o=[],i=Bl(t[0]);for(const l of t){const c=Bl(l);if(c!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(l);else{if(wf(l)||If(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return i||e.push({role:"user",parts:ip(o)}),e}function oy(t,e){t.includes("null")&&(e.nullable=!0);const o=t.filter(i=>i!=="null");if(o.length===1)e.type=Object.values(pn).includes(o[0].toUpperCase())?o[0].toUpperCase():pn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of o)e.anyOf.push({type:Object.values(pn).includes(i.toUpperCase())?i.toUpperCase():pn.TYPE_UNSPECIFIED})}}function io(t){const e={},o=["items"],i=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&oy(t.type,e);for(const[f,p]of Object.entries(t))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(pn).includes(p.toUpperCase())?p.toUpperCase():pn.TYPE_UNSPECIFIED}else if(o.includes(f))e[f]=io(p);else if(i.includes(f)){const g=[];for(const h of p){if(h.type=="null"){e.nullable=!0;continue}g.push(io(h))}e[f]=g}else if(l.includes(f)){const g={};for(const[h,v]of Object.entries(p))g[h]=io(v);e[f]=g}else{if(f==="additionalProperties")continue;e[f]=p}return e}function la(t){return io(t)}function aa(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ua(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function lo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=io(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=io(e.response));return t}function ao(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of t)e.push(o);return e}function ry(t,e,o,i=1){const l=!e.startsWith(`${o}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}/${e}`:e:l?`${o}/${e}`:e}function Ot(t,e){if(typeof e!="string")throw new Error("name must be a string");return ry(t,e,"cachedContents")}function sp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function mn(t){return oa(t)}function iy(t){return t!=null&&typeof t=="object"&&"name"in t}function sy(t){return t!=null&&typeof t=="object"&&"video"in t}function ly(t){return t!=null&&typeof t=="object"&&"uri"in t}function lp(t){var e;let o;if(iy(t)&&(o=t.name),!(ly(t)&&(o=t.uri,o===void 0))&&!(sy(t)&&(o=(e=t.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof t=="string"&&(o=t),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function ap(t,e){let o;return t.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function up(t){for(const e of["models","tunedModels","publisherModels"])if(ay(t,e))return t[e];return[]}function ay(t,e){return t!==null&&typeof t=="object"&&e in t}function uy(t,e={}){const o=t,i={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(i.responseJsonSchema=o.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function cy(t,e={}){const o=[],i=new Set;for(const l of t){const c=l.name;if(i.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);i.add(c);const f=uy(l,e);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function cp(t,e){let o;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const i=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,l=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(t.isVertexAI()){if(l>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function dy(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function dp(t){if(typeof t!="object"||t===null)return{};const e=t,o=e.inlinedResponses;if(typeof o!="object"||o===null)return t;const l=o.inlinedResponses;if(!Array.isArray(l)||l.length===0)return t;let c=!1;for(const f of l){if(typeof f!="object"||f===null)continue;const g=f.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){c=!0;break}}return c&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function uo(t,e){const o=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function fp(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function fy(t){const e={},o=a(t,["responsesFile"]);o!=null&&u(e,["fileName"],o);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Oy(f))),u(e,["inlinedResponses"],c)}const l=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["inlinedEmbedContentResponses"],c)}return e}function py(t){const e={},o=a(t,["predictionsFormat"]);o!=null&&u(e,["format"],o);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&u(e,["gcsUri"],i);const l=a(t,["bigqueryDestination","outputUri"]);return l!=null&&u(e,["bigqueryUri"],l),e}function my(t){const e={},o=a(t,["format"]);o!=null&&u(e,["predictionsFormat"],o);const i=a(t,["gcsUri"]);i!=null&&u(e,["gcsDestination","outputUriPrefix"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&u(e,["bigqueryDestination","outputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function vi(t){const e={},o=a(t,["name"]);o!=null&&u(e,["name"],o);const i=a(t,["metadata","displayName"]);i!=null&&u(e,["displayName"],i);const l=a(t,["metadata","state"]);l!=null&&u(e,["state"],fp(l));const c=a(t,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const f=a(t,["metadata","endTime"]);f!=null&&u(e,["endTime"],f);const p=a(t,["metadata","updateTime"]);p!=null&&u(e,["updateTime"],p);const g=a(t,["metadata","model"]);g!=null&&u(e,["model"],g);const h=a(t,["metadata","output"]);return h!=null&&u(e,["dest"],fy(dp(h))),e}function zl(t){const e={},o=a(t,["name"]);o!=null&&u(e,["name"],o);const i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const l=a(t,["state"]);l!=null&&u(e,["state"],fp(l));const c=a(t,["error"]);c!=null&&u(e,["error"],c);const f=a(t,["createTime"]);f!=null&&u(e,["createTime"],f);const p=a(t,["startTime"]);p!=null&&u(e,["startTime"],p);const g=a(t,["endTime"]);g!=null&&u(e,["endTime"],g);const h=a(t,["updateTime"]);h!=null&&u(e,["updateTime"],h);const v=a(t,["model"]);v!=null&&u(e,["model"],v);const E=a(t,["inputConfig"]);E!=null&&u(e,["src"],hy(E));const S=a(t,["outputConfig"]);S!=null&&u(e,["dest"],py(dp(S)));const x=a(t,["completionStats"]);return x!=null&&u(e,["completionStats"],x),e}function hy(t){const e={},o=a(t,["instancesFormat"]);o!=null&&u(e,["format"],o);const i=a(t,["gcsSource","uris"]);i!=null&&u(e,["gcsUri"],i);const l=a(t,["bigquerySource","inputUri"]);return l!=null&&u(e,["bigqueryUri"],l),e}function gy(t,e){const o={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&u(o,["fileName"],i);const l=a(e,["inlinedRequests"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>by(t,f))),u(o,["requests","requests"],c)}return o}function yy(t){const e={},o=a(t,["format"]);o!=null&&u(e,["instancesFormat"],o);const i=a(t,["gcsUri"]);i!=null&&u(e,["gcsSource","uris"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&u(e,["bigquerySource","inputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function vy(t){const e={},o=a(t,["data"]);if(o!=null&&u(e,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Sy(t,e){const o={},i=a(e,["name"]);return i!=null&&u(o,["_url","name"],uo(t,i)),o}function Ey(t,e){const o={},i=a(e,["name"]);return i!=null&&u(o,["_url","name"],uo(t,i)),o}function _y(t){const e={},o=a(t,["content"]);o!=null&&u(e,["content"],o);const i=a(t,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],Ty(i));const l=a(t,["tokenCount"]);l!=null&&u(e,["tokenCount"],l);const c=a(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const f=a(t,["avgLogprobs"]);f!=null&&u(e,["avgLogprobs"],f);const p=a(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const g=a(t,["index"]);g!=null&&u(e,["index"],g);const h=a(t,["logprobsResult"]);h!=null&&u(e,["logprobsResult"],h);const v=a(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(x=>x)),u(e,["safetyRatings"],S)}const E=a(t,["urlContextMetadata"]);return E!=null&&u(e,["urlContextMetadata"],E),e}function Ty(t){const e={},o=a(t,["citationSources"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["citations"],i)}return e}function pp(t){const e={},o=a(t,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>jy(c))),u(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function Cy(t,e){const o={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&u(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function xy(t,e){const o={},i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const l=a(t,["dest"]);return e!==void 0&&l!=null&&u(e,["outputConfig"],my(dy(l))),o}function Af(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["src"]);l!=null&&u(o,["batch","inputConfig"],gy(t,cp(t,l)));const c=a(e,["config"]);return c!=null&&Cy(c,o),o}function wy(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["model"],ve(t,i));const l=a(e,["src"]);l!=null&&u(o,["inputConfig"],yy(cp(t,l)));const c=a(e,["config"]);return c!=null&&xy(c,o),o}function Iy(t,e){const o={},i=a(t,["displayName"]);return e!==void 0&&i!=null&&u(e,["batch","displayName"],i),o}function Ay(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["src"]);l!=null&&u(o,["batch","inputConfig"],Ly(t,l));const c=a(e,["config"]);return c!=null&&Iy(c,o),o}function Ny(t,e){const o={},i=a(e,["name"]);return i!=null&&u(o,["_url","name"],uo(t,i)),o}function Ry(t,e){const o={},i=a(e,["name"]);return i!=null&&u(o,["_url","name"],uo(t,i)),o}function ky(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const c=a(t,["error"]);return c!=null&&u(e,["error"],c),e}function Py(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const c=a(t,["error"]);return c!=null&&u(e,["error"],c),e}function My(t,e){const o={},i=a(e,["contents"]);if(i!=null){let c=sa(t,i);Array.isArray(c)&&(c=c.map(f=>f)),u(o,["requests[]","request","content"],c)}const l=a(e,["config"]);return l!=null&&(u(o,["_self"],Dy(l,o)),Rg(o,{"requests[].*":"requests[].request.*"})),o}function Dy(t,e){const o={},i=a(t,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&u(e,["requests[]","title"],l);const c=a(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Ly(t,e){const o={},i=a(e,["fileName"]);i!=null&&u(o,["file_name"],i);const l=a(e,["inlinedRequests"]);return l!=null&&u(o,["requests"],My(t,l)),o}function Uy(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Fy(t){const e={},o=a(t,["id"]);o!=null&&u(e,["id"],o);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const l=a(t,["name"]);if(l!=null&&u(e,["name"],l),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Vy(t){const e={},o=a(t,["allowedFunctionNames"]);o!=null&&u(e,["allowedFunctionNames"],o);const i=a(t,["mode"]);if(i!=null&&u(e,["mode"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Gy(t,e,o){const i={},l=a(e,["systemInstruction"]);o!==void 0&&l!=null&&u(o,["systemInstruction"],pp(Qe(l)));const c=a(e,["temperature"]);c!=null&&u(i,["temperature"],c);const f=a(e,["topP"]);f!=null&&u(i,["topP"],f);const p=a(e,["topK"]);p!=null&&u(i,["topK"],p);const g=a(e,["candidateCount"]);g!=null&&u(i,["candidateCount"],g);const h=a(e,["maxOutputTokens"]);h!=null&&u(i,["maxOutputTokens"],h);const v=a(e,["stopSequences"]);v!=null&&u(i,["stopSequences"],v);const E=a(e,["responseLogprobs"]);E!=null&&u(i,["responseLogprobs"],E);const S=a(e,["logprobs"]);S!=null&&u(i,["logprobs"],S);const x=a(e,["presencePenalty"]);x!=null&&u(i,["presencePenalty"],x);const k=a(e,["frequencyPenalty"]);k!=null&&u(i,["frequencyPenalty"],k);const D=a(e,["seed"]);D!=null&&u(i,["seed"],D);const R=a(e,["responseMimeType"]);R!=null&&u(i,["responseMimeType"],R);const L=a(e,["responseSchema"]);L!=null&&u(i,["responseSchema"],la(L));const $=a(e,["responseJsonSchema"]);if($!=null&&u(i,["responseJsonSchema"],$),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=a(e,["safetySettings"]);if(o!==void 0&&B!=null){let ce=B;Array.isArray(ce)&&(ce=ce.map(Ne=>ev(Ne))),u(o,["safetySettings"],ce)}const H=a(e,["tools"]);if(o!==void 0&&H!=null){let ce=ao(H);Array.isArray(ce)&&(ce=ce.map(Ne=>nv(lo(Ne)))),u(o,["tools"],ce)}const Y=a(e,["toolConfig"]);if(o!==void 0&&Y!=null&&u(o,["toolConfig"],tv(Y)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=a(e,["cachedContent"]);o!==void 0&&W!=null&&u(o,["cachedContent"],Ot(t,W));const ne=a(e,["responseModalities"]);ne!=null&&u(i,["responseModalities"],ne);const pe=a(e,["mediaResolution"]);pe!=null&&u(i,["mediaResolution"],pe);const ee=a(e,["speechConfig"]);if(ee!=null&&u(i,["speechConfig"],aa(ee)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=a(e,["thinkingConfig"]);ae!=null&&u(i,["thinkingConfig"],ae);const _e=a(e,["imageConfig"]);_e!=null&&u(i,["imageConfig"],Jy(_e));const Le=a(e,["enableEnhancedCivicAnswers"]);return Le!=null&&u(i,["enableEnhancedCivicAnswers"],Le),i}function Hy(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["candidates"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(h=>_y(h))),u(e,["candidates"],g)}const l=a(t,["modelVersion"]);l!=null&&u(e,["modelVersion"],l);const c=a(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const f=a(t,["responseId"]);f!=null&&u(e,["responseId"],f);const p=a(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function qy(t,e){const o={},i=a(e,["name"]);return i!=null&&u(o,["_url","name"],uo(t,i)),o}function By(t,e){const o={},i=a(e,["name"]);return i!=null&&u(o,["_url","name"],uo(t,i)),o}function zy(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=a(t,["enableWidget"]);return o!=null&&u(e,["enableWidget"],o),e}function $y(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=a(t,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],o),e}function Jy(t){const e={},o=a(t,["aspectRatio"]);o!=null&&u(e,["aspectRatio"],o);const i=a(t,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function by(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["request","model"],ve(t,i));const l=a(e,["contents"]);if(l!=null){let p=St(l);Array.isArray(p)&&(p=p.map(g=>pp(g))),u(o,["request","contents"],p)}const c=a(e,["metadata"]);c!=null&&u(o,["metadata"],c);const f=a(e,["config"]);return f!=null&&u(o,["request","generationConfig"],Gy(t,f,a(o,["request"],{}))),o}function Oy(t){const e={},o=a(t,["response"]);o!=null&&u(e,["response"],Hy(o));const i=a(t,["error"]);return i!=null&&u(e,["error"],i),e}function Wy(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);if(e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Ky(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const c=a(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),o}function Yy(t){const e={},o=a(t,["config"]);return o!=null&&Wy(o,e),e}function Qy(t){const e={},o=a(t,["config"]);return o!=null&&Ky(o,e),e}function Xy(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const l=a(t,["operations"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>vi(f))),u(e,["batchJobs"],c)}return e}function Zy(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const l=a(t,["batchPredictionJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>zl(f))),u(e,["batchJobs"],c)}return e}function jy(t){const e={},o=a(t,["mediaResolution"]);o!=null&&u(e,["mediaResolution"],o);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const l=a(t,["executableCode"]);l!=null&&u(e,["executableCode"],l);const c=a(t,["fileData"]);c!=null&&u(e,["fileData"],Uy(c));const f=a(t,["functionCall"]);f!=null&&u(e,["functionCall"],Fy(f));const p=a(t,["functionResponse"]);p!=null&&u(e,["functionResponse"],p);const g=a(t,["inlineData"]);g!=null&&u(e,["inlineData"],vy(g));const h=a(t,["text"]);h!=null&&u(e,["text"],h);const v=a(t,["thought"]);v!=null&&u(e,["thought"],v);const E=a(t,["thoughtSignature"]);E!=null&&u(e,["thoughtSignature"],E);const S=a(t,["videoMetadata"]);return S!=null&&u(e,["videoMetadata"],S),e}function ev(t){const e={},o=a(t,["category"]);if(o!=null&&u(e,["category"],o),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(t,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function tv(t){const e={},o=a(t,["retrievalConfig"]);o!=null&&u(e,["retrievalConfig"],o);const i=a(t,["functionCallingConfig"]);return i!=null&&u(e,["functionCallingConfig"],Vy(i)),e}function nv(t){const e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const l=a(t,["codeExecution"]);if(l!=null&&u(e,["codeExecution"],l),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=a(t,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),u(e,["functionDeclarations"],v)}const f=a(t,["googleMaps"]);f!=null&&u(e,["googleMaps"],zy(f));const p=a(t,["googleSearch"]);p!=null&&u(e,["googleSearch"],$y(p));const g=a(t,["googleSearchRetrieval"]);g!=null&&u(e,["googleSearchRetrieval"],g);const h=a(t,["urlContext"]);return h!=null&&u(e,["urlContext"],h),e}var Jt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Jt||(Jt={}));class kn{constructor(e,o,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,i,l)}init(e,o,i){var l,c;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!i||Object.keys(i).length===0?f={config:{}}:typeof i=="object"?f=Object.assign({},i):f=i,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(l=f.config)===null||l===void 0?void 0:l.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class ov extends bt{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new kn(Jt.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Af(this.apiClient,e),i=o._url,l=J("{model}:batchGenerateContent",i),p=o.batch.inputConfig.requests,g=p.requests,h=[];for(const v of g){const E=Object.assign({},v);if(E.systemInstruction){const S=E.systemInstruction;delete E.systemInstruction;const x=E.request;x.systemInstruction=S,E.request=x}h.push(E)}return p.requests=h,delete o.config,delete o._url,delete o._query,{path:l,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const i=o?Object.assign({},o):{},l=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${l}`),i.dest===void 0){const c=this.getGcsUri(e),f=this.getBigqueryUri(e);if(c)c.endsWith(".jsonl")?i.dest=`${c.slice(0,-6)}/dest`:i.dest=`${c}_dest_${l}`;else if(f)i.dest=`${f}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=wy(this.apiClient,e);return p=J("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>zl(v))}else{const h=Af(this.apiClient,e);return p=J("{model}:batchGenerateContent",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>vi(v))}}async createEmbeddingsInternal(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ay(this.apiClient,e);return c=J("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>vi(g))}}async get(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=By(this.apiClient,e);return p=J("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>zl(v))}else{const h=qy(this.apiClient,e);return p=J("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>vi(v))}}async cancel(e){var o,i,l,c;let f="",p={};if(this.apiClient.isVertexAI()){const g=Ey(this.apiClient,e);f=J("batchPredictionJobs/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const g=Sy(this.apiClient,e);f=J("batches/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=Qy(e);return p=J("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Zy(v),S=new Cf;return Object.assign(S,E),S})}else{const h=Yy(e);return p=J("batches",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Xy(v),S=new Cf;return Object.assign(S,E),S})}}async delete(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=Ry(this.apiClient,e);return p=J("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Py(v))}else{const h=Ny(this.apiClient,e);return p=J("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>ky(v))}}}function rv(t){const e={},o=a(t,["data"]);if(o!=null&&u(e,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Nf(t){const e={},o=a(t,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Av(c))),u(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function iv(t,e){const o={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&u(e,["expireTime"],l);const c=a(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const f=a(t,["contents"]);if(e!==void 0&&f!=null){let v=St(f);Array.isArray(v)&&(v=v.map(E=>Nf(E))),u(e,["contents"],v)}const p=a(t,["systemInstruction"]);e!==void 0&&p!=null&&u(e,["systemInstruction"],Nf(Qe(p)));const g=a(t,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(E=>Rv(E))),u(e,["tools"],v)}const h=a(t,["toolConfig"]);if(e!==void 0&&h!=null&&u(e,["toolConfig"],Nv(h)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function sv(t,e){const o={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&u(e,["expireTime"],l);const c=a(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const f=a(t,["contents"]);if(e!==void 0&&f!=null){let E=St(f);Array.isArray(E)&&(E=E.map(S=>S)),u(e,["contents"],E)}const p=a(t,["systemInstruction"]);e!==void 0&&p!=null&&u(e,["systemInstruction"],Qe(p));const g=a(t,["tools"]);if(e!==void 0&&g!=null){let E=g;Array.isArray(E)&&(E=E.map(S=>kv(S))),u(e,["tools"],E)}const h=a(t,["toolConfig"]);e!==void 0&&h!=null&&u(e,["toolConfig"],h);const v=a(t,["kmsKeyName"]);return e!==void 0&&v!=null&&u(e,["encryption_spec","kmsKeyName"],v),o}function lv(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["model"],tp(t,i));const l=a(e,["config"]);return l!=null&&iv(l,o),o}function av(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["model"],tp(t,i));const l=a(e,["config"]);return l!=null&&sv(l,o),o}function uv(t,e){const o={},i=a(e,["name"]);return i!=null&&u(o,["_url","name"],Ot(t,i)),o}function cv(t,e){const o={},i=a(e,["name"]);return i!=null&&u(o,["_url","name"],Ot(t,i)),o}function dv(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function fv(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function pv(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function mv(t){const e={},o=a(t,["id"]);o!=null&&u(e,["id"],o);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const l=a(t,["name"]);if(l!=null&&u(e,["name"],l),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hv(t){const e={},o=a(t,["allowedFunctionNames"]);o!=null&&u(e,["allowedFunctionNames"],o);const i=a(t,["mode"]);if(i!=null&&u(e,["mode"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function gv(t){const e={},o=a(t,["description"]);o!=null&&u(e,["description"],o);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const l=a(t,["parameters"]);l!=null&&u(e,["parameters"],l);const c=a(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=a(t,["response"]);f!=null&&u(e,["response"],f);const p=a(t,["responseJsonSchema"]);if(p!=null&&u(e,["responseJsonSchema"],p),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function yv(t,e){const o={},i=a(e,["name"]);return i!=null&&u(o,["_url","name"],Ot(t,i)),o}function vv(t,e){const o={},i=a(e,["name"]);return i!=null&&u(o,["_url","name"],Ot(t,i)),o}function Sv(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=a(t,["enableWidget"]);return o!=null&&u(e,["enableWidget"],o),e}function Ev(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=a(t,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],o),e}function _v(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),o}function Tv(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),o}function Cv(t){const e={},o=a(t,["config"]);return o!=null&&_v(o,e),e}function xv(t){const e={},o=a(t,["config"]);return o!=null&&Tv(o,e),e}function wv(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const l=a(t,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["cachedContents"],c)}return e}function Iv(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const l=a(t,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["cachedContents"],c)}return e}function Av(t){const e={},o=a(t,["mediaResolution"]);o!=null&&u(e,["mediaResolution"],o);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const l=a(t,["executableCode"]);l!=null&&u(e,["executableCode"],l);const c=a(t,["fileData"]);c!=null&&u(e,["fileData"],pv(c));const f=a(t,["functionCall"]);f!=null&&u(e,["functionCall"],mv(f));const p=a(t,["functionResponse"]);p!=null&&u(e,["functionResponse"],p);const g=a(t,["inlineData"]);g!=null&&u(e,["inlineData"],rv(g));const h=a(t,["text"]);h!=null&&u(e,["text"],h);const v=a(t,["thought"]);v!=null&&u(e,["thought"],v);const E=a(t,["thoughtSignature"]);E!=null&&u(e,["thoughtSignature"],E);const S=a(t,["videoMetadata"]);return S!=null&&u(e,["videoMetadata"],S),e}function Nv(t){const e={},o=a(t,["retrievalConfig"]);o!=null&&u(e,["retrievalConfig"],o);const i=a(t,["functionCallingConfig"]);return i!=null&&u(e,["functionCallingConfig"],hv(i)),e}function Rv(t){const e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const l=a(t,["codeExecution"]);if(l!=null&&u(e,["codeExecution"],l),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=a(t,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),u(e,["functionDeclarations"],v)}const f=a(t,["googleMaps"]);f!=null&&u(e,["googleMaps"],Sv(f));const p=a(t,["googleSearch"]);p!=null&&u(e,["googleSearch"],Ev(p));const g=a(t,["googleSearchRetrieval"]);g!=null&&u(e,["googleSearchRetrieval"],g);const h=a(t,["urlContext"]);return h!=null&&u(e,["urlContext"],h),e}function kv(t){const e={},o=a(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const i=a(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=a(t,["codeExecution"]);l!=null&&u(e,["codeExecution"],l);const c=a(t,["enterpriseWebSearch"]);c!=null&&u(e,["enterpriseWebSearch"],c);const f=a(t,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(S=>gv(S))),u(e,["functionDeclarations"],E)}const p=a(t,["googleMaps"]);p!=null&&u(e,["googleMaps"],p);const g=a(t,["googleSearch"]);g!=null&&u(e,["googleSearch"],g);const h=a(t,["googleSearchRetrieval"]);h!=null&&u(e,["googleSearchRetrieval"],h);const v=a(t,["urlContext"]);return v!=null&&u(e,["urlContext"],v),e}function Pv(t,e){const o={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&u(e,["expireTime"],l),o}function Mv(t,e){const o={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&u(e,["expireTime"],l),o}function Dv(t,e){const o={},i=a(e,["name"]);i!=null&&u(o,["_url","name"],Ot(t,i));const l=a(e,["config"]);return l!=null&&Pv(l,o),o}function Lv(t,e){const o={},i=a(e,["name"]);i!=null&&u(o,["_url","name"],Ot(t,i));const l=a(e,["config"]);return l!=null&&Mv(l,o),o}class Uv extends bt{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new kn(Jt.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(o),o)}async create(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=av(this.apiClient,e);return p=J("cachedContents",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const h=lv(this.apiClient,e);return p=J("cachedContents",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=vv(this.apiClient,e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const h=yv(this.apiClient,e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=cv(this.apiClient,e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=fv(v),S=new _f;return Object.assign(S,E),S})}else{const h=uv(this.apiClient,e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=dv(v),S=new _f;return Object.assign(S,E),S})}}async update(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=Lv(this.apiClient,e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const h=Dv(this.apiClient,e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=xv(e);return p=J("cachedContents",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Iv(v),S=new Tf;return Object.assign(S,E),S})}else{const h=Cv(e);return p=J("cachedContents",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=wv(v),S=new Tf;return Object.assign(S,E),S})}}}function xi(t,e){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(o[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(o[i[l]]=t[i[l]]);return o}function Rf(t){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&t[e],i=0;if(o)return o.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function le(t){return this instanceof le?(this.v=t,this):new le(t)}function Nt(t,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=o.apply(t,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),l[Symbol.asyncIterator]=function(){return this},l;function f(x){return function(k){return Promise.resolve(k).then(x,E)}}function p(x,k){i[x]&&(l[x]=function(D){return new Promise(function(R,L){c.push([x,D,R,L])>1||g(x,D)})},k&&(l[x]=k(l[x])))}function g(x,k){try{h(i[x](k))}catch(D){S(c[0][3],D)}}function h(x){x.value instanceof le?Promise.resolve(x.value.v).then(v,E):S(c[0][2],x)}function v(x){g("next",x)}function E(x){g("throw",x)}function S(x,k){x(k),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Rt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],o;return e?e.call(t):(t=typeof Rf=="function"?Rf(t):t[Symbol.iterator](),o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o);function i(c){o[c]=t[c]&&function(f){return new Promise(function(p,g){f=t[c](f),l(p,g,f.done,f.value)})}}function l(c,f,p,g){Promise.resolve(g).then(function(h){c({value:h,done:p})},f)}}function Fv(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const o=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:mp(o)}function mp(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Vv(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kf(t){if(t===void 0||t.length===0)return[];const e=[],o=t.length;let i=0;for(;i<o;)if(t[i].role==="user")e.push(t[i]),i++;else{const l=[];let c=!0;for(;i<o&&t[i].role==="model";)l.push(t[i]),c&&!mp(t[i])&&(c=!1),i++;c?e.push(...l):e.pop()}return e}class Gv{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new Hv(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Hv{constructor(e,o,i,l={},c=[]){this.apiClient=e,this.modelsModule=o,this.model=i,this.config=l,this.history=c,this.sendPromise=Promise.resolve(),Vv(c)}async sendMessage(e){var o;await this.sendPromise;const i=Qe(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,f,p;const g=await l,h=(f=(c=g.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,v=g.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let S=[];v!=null&&(S=(p=v.slice(E))!==null&&p!==void 0?p:[]);const x=h?[h]:[];this.recordHistory(i,x,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var o;await this.sendPromise;const i=Qe(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const c=await l;return this.processStreamResponse(c,i)}getHistory(e=!1){const o=e?kf(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return Nt(this,arguments,function*(){var l,c,f,p,g,h;const v=[];try{for(var E=!0,S=Rt(e),x;x=yield le(S.next()),l=x.done,!l;E=!0){p=x.value,E=!1;const k=p;if(Fv(k)){const D=(h=(g=k.candidates)===null||g===void 0?void 0:g[0])===null||h===void 0?void 0:h.content;D!==void 0&&v.push(D)}yield yield le(k)}}catch(k){c={error:k}}finally{try{!E&&!l&&(f=S.return)&&(yield le(f.call(S)))}finally{if(c)throw c.error}}this.recordHistory(o,v)})}recordHistory(e,o,i){let l=[];o.length>0&&o.every(c=>c.role!==void 0)?l=o:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...kf(i)):this.history.push(e),this.history.push(...l)}}class Ri extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ri.prototype)}}function qv(t){const e={},o=a(t,["file"]);return o!=null&&u(e,["file"],o),e}function Bv(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function zv(t){const e={},o=a(t,["name"]);return o!=null&&u(e,["_url","file"],lp(o)),e}function $v(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function Jv(t){const e={},o=a(t,["name"]);return o!=null&&u(e,["_url","file"],lp(o)),e}function bv(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),o}function Ov(t){const e={},o=a(t,["config"]);return o!=null&&bv(o,e),e}function Wv(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const l=a(t,["files"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["files"],c)}return e}class Kv extends bt{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new kn(Jt.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ov(e);return c=J("files",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const h=Wv(g),v=new Zg;return Object.assign(v,h),v})}}async createInternal(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=qv(e);return c=J("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const h=Bv(g),v=new jg;return Object.assign(v,h),v})}}async get(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Jv(e);return c=J("files/{file}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=zv(e);return c=J("files/{file}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const h=$v(g),v=new ey;return Object.assign(v,h),v})}}}function Si(t){const e={},o=a(t,["data"]);if(o!=null&&u(e,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Yv(t){const e={},o=a(t,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>d0(c))),u(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function Qv(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Xv(t){const e={},o=a(t,["id"]);o!=null&&u(e,["id"],o);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const l=a(t,["name"]);if(l!=null&&u(e,["name"],l),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zv(t){const e={},o=a(t,["description"]);o!=null&&u(e,["description"],o);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const l=a(t,["parameters"]);l!=null&&u(e,["parameters"],l);const c=a(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=a(t,["response"]);f!=null&&u(e,["response"],f);const p=a(t,["responseJsonSchema"]);if(p!=null&&u(e,["responseJsonSchema"],p),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function jv(t){const e={},o=a(t,["modelSelectionConfig"]);o!=null&&u(e,["modelConfig"],o);const i=a(t,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const l=a(t,["audioTimestamp"]);l!=null&&u(e,["audioTimestamp"],l);const c=a(t,["candidateCount"]);c!=null&&u(e,["candidateCount"],c);const f=a(t,["enableAffectiveDialog"]);f!=null&&u(e,["enableAffectiveDialog"],f);const p=a(t,["frequencyPenalty"]);p!=null&&u(e,["frequencyPenalty"],p);const g=a(t,["logprobs"]);g!=null&&u(e,["logprobs"],g);const h=a(t,["maxOutputTokens"]);h!=null&&u(e,["maxOutputTokens"],h);const v=a(t,["mediaResolution"]);v!=null&&u(e,["mediaResolution"],v);const E=a(t,["presencePenalty"]);E!=null&&u(e,["presencePenalty"],E);const S=a(t,["responseLogprobs"]);S!=null&&u(e,["responseLogprobs"],S);const x=a(t,["responseMimeType"]);x!=null&&u(e,["responseMimeType"],x);const k=a(t,["responseModalities"]);k!=null&&u(e,["responseModalities"],k);const D=a(t,["responseSchema"]);D!=null&&u(e,["responseSchema"],D);const R=a(t,["routingConfig"]);R!=null&&u(e,["routingConfig"],R);const L=a(t,["seed"]);L!=null&&u(e,["seed"],L);const $=a(t,["speechConfig"]);$!=null&&u(e,["speechConfig"],$);const B=a(t,["stopSequences"]);B!=null&&u(e,["stopSequences"],B);const H=a(t,["temperature"]);H!=null&&u(e,["temperature"],H);const Y=a(t,["thinkingConfig"]);Y!=null&&u(e,["thinkingConfig"],Y);const W=a(t,["topK"]);W!=null&&u(e,["topK"],W);const ne=a(t,["topP"]);if(ne!=null&&u(e,["topP"],ne),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function e0(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=a(t,["enableWidget"]);return o!=null&&u(e,["enableWidget"],o),e}function t0(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=a(t,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],o),e}function n0(t,e){const o={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","responseModalities"],l);const c=a(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=a(t,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const p=a(t,["topK"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topK"],p);const g=a(t,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const h=a(t,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const v=a(t,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const E=a(t,["speechConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","speechConfig"],ua(E));const S=a(t,["thinkingConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","thinkingConfig"],S);const x=a(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],x);const k=a(t,["systemInstruction"]);e!==void 0&&k!=null&&u(e,["setup","systemInstruction"],Yv(Qe(k)));const D=a(t,["tools"]);if(e!==void 0&&D!=null){let W=ao(D);Array.isArray(W)&&(W=W.map(ne=>p0(lo(ne)))),u(e,["setup","tools"],W)}const R=a(t,["sessionResumption"]);e!==void 0&&R!=null&&u(e,["setup","sessionResumption"],f0(R));const L=a(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&u(e,["setup","inputAudioTranscription"],L);const $=a(t,["outputAudioTranscription"]);e!==void 0&&$!=null&&u(e,["setup","outputAudioTranscription"],$);const B=a(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&u(e,["setup","realtimeInputConfig"],B);const H=a(t,["contextWindowCompression"]);e!==void 0&&H!=null&&u(e,["setup","contextWindowCompression"],H);const Y=a(t,["proactivity"]);if(e!==void 0&&Y!=null&&u(e,["setup","proactivity"],Y),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function o0(t,e){const o={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],jv(i));const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","responseModalities"],l);const c=a(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=a(t,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const p=a(t,["topK"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topK"],p);const g=a(t,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const h=a(t,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const v=a(t,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const E=a(t,["speechConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","speechConfig"],ua(E));const S=a(t,["thinkingConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","thinkingConfig"],S);const x=a(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],x);const k=a(t,["systemInstruction"]);e!==void 0&&k!=null&&u(e,["setup","systemInstruction"],Qe(k));const D=a(t,["tools"]);if(e!==void 0&&D!=null){let ne=ao(D);Array.isArray(ne)&&(ne=ne.map(pe=>m0(lo(pe)))),u(e,["setup","tools"],ne)}const R=a(t,["sessionResumption"]);e!==void 0&&R!=null&&u(e,["setup","sessionResumption"],R);const L=a(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&u(e,["setup","inputAudioTranscription"],L);const $=a(t,["outputAudioTranscription"]);e!==void 0&&$!=null&&u(e,["setup","outputAudioTranscription"],$);const B=a(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&u(e,["setup","realtimeInputConfig"],B);const H=a(t,["contextWindowCompression"]);e!==void 0&&H!=null&&u(e,["setup","contextWindowCompression"],H);const Y=a(t,["proactivity"]);e!==void 0&&Y!=null&&u(e,["setup","proactivity"],Y);const W=a(t,["explicitVadSignal"]);return e!==void 0&&W!=null&&u(e,["setup","explicitVadSignal"],W),o}function r0(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["setup","model"],ve(t,i));const l=a(e,["config"]);return l!=null&&u(o,["config"],n0(l,o)),o}function i0(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["setup","model"],ve(t,i));const l=a(e,["config"]);return l!=null&&u(o,["config"],o0(l,o)),o}function s0(t){const e={},o=a(t,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],o),e}function l0(t){const e={},o=a(t,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["weightedPrompts"],i)}return e}function a0(t){const e={},o=a(t,["media"]);if(o!=null){let h=np(o);Array.isArray(h)&&(h=h.map(v=>Si(v))),u(e,["mediaChunks"],h)}const i=a(t,["audio"]);i!=null&&u(e,["audio"],Si(rp(i)));const l=a(t,["audioStreamEnd"]);l!=null&&u(e,["audioStreamEnd"],l);const c=a(t,["video"]);c!=null&&u(e,["video"],Si(op(c)));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const p=a(t,["activityStart"]);p!=null&&u(e,["activityStart"],p);const g=a(t,["activityEnd"]);return g!=null&&u(e,["activityEnd"],g),e}function u0(t){const e={},o=a(t,["media"]);if(o!=null){let h=np(o);Array.isArray(h)&&(h=h.map(v=>v)),u(e,["mediaChunks"],h)}const i=a(t,["audio"]);i!=null&&u(e,["audio"],rp(i));const l=a(t,["audioStreamEnd"]);l!=null&&u(e,["audioStreamEnd"],l);const c=a(t,["video"]);c!=null&&u(e,["video"],op(c));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const p=a(t,["activityStart"]);p!=null&&u(e,["activityStart"],p);const g=a(t,["activityEnd"]);return g!=null&&u(e,["activityEnd"],g),e}function c0(t){const e={},o=a(t,["setupComplete"]);o!=null&&u(e,["setupComplete"],o);const i=a(t,["serverContent"]);i!=null&&u(e,["serverContent"],i);const l=a(t,["toolCall"]);l!=null&&u(e,["toolCall"],l);const c=a(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],c);const f=a(t,["usageMetadata"]);f!=null&&u(e,["usageMetadata"],h0(f));const p=a(t,["goAway"]);p!=null&&u(e,["goAway"],p);const g=a(t,["sessionResumptionUpdate"]);g!=null&&u(e,["sessionResumptionUpdate"],g);const h=a(t,["voiceActivityDetectionSignal"]);return h!=null&&u(e,["voiceActivityDetectionSignal"],h),e}function d0(t){const e={},o=a(t,["mediaResolution"]);o!=null&&u(e,["mediaResolution"],o);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const l=a(t,["executableCode"]);l!=null&&u(e,["executableCode"],l);const c=a(t,["fileData"]);c!=null&&u(e,["fileData"],Qv(c));const f=a(t,["functionCall"]);f!=null&&u(e,["functionCall"],Xv(f));const p=a(t,["functionResponse"]);p!=null&&u(e,["functionResponse"],p);const g=a(t,["inlineData"]);g!=null&&u(e,["inlineData"],Si(g));const h=a(t,["text"]);h!=null&&u(e,["text"],h);const v=a(t,["thought"]);v!=null&&u(e,["thought"],v);const E=a(t,["thoughtSignature"]);E!=null&&u(e,["thoughtSignature"],E);const S=a(t,["videoMetadata"]);return S!=null&&u(e,["videoMetadata"],S),e}function f0(t){const e={},o=a(t,["handle"]);if(o!=null&&u(e,["handle"],o),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function p0(t){const e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const l=a(t,["codeExecution"]);if(l!=null&&u(e,["codeExecution"],l),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=a(t,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),u(e,["functionDeclarations"],v)}const f=a(t,["googleMaps"]);f!=null&&u(e,["googleMaps"],e0(f));const p=a(t,["googleSearch"]);p!=null&&u(e,["googleSearch"],t0(p));const g=a(t,["googleSearchRetrieval"]);g!=null&&u(e,["googleSearchRetrieval"],g);const h=a(t,["urlContext"]);return h!=null&&u(e,["urlContext"],h),e}function m0(t){const e={},o=a(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const i=a(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=a(t,["codeExecution"]);l!=null&&u(e,["codeExecution"],l);const c=a(t,["enterpriseWebSearch"]);c!=null&&u(e,["enterpriseWebSearch"],c);const f=a(t,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(S=>Zv(S))),u(e,["functionDeclarations"],E)}const p=a(t,["googleMaps"]);p!=null&&u(e,["googleMaps"],p);const g=a(t,["googleSearch"]);g!=null&&u(e,["googleSearch"],g);const h=a(t,["googleSearchRetrieval"]);h!=null&&u(e,["googleSearchRetrieval"],h);const v=a(t,["urlContext"]);return v!=null&&u(e,["urlContext"],v),e}function h0(t){const e={},o=a(t,["promptTokenCount"]);o!=null&&u(e,["promptTokenCount"],o);const i=a(t,["cachedContentTokenCount"]);i!=null&&u(e,["cachedContentTokenCount"],i);const l=a(t,["candidatesTokenCount"]);l!=null&&u(e,["responseTokenCount"],l);const c=a(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const f=a(t,["thoughtsTokenCount"]);f!=null&&u(e,["thoughtsTokenCount"],f);const p=a(t,["totalTokenCount"]);p!=null&&u(e,["totalTokenCount"],p);const g=a(t,["promptTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(k=>k)),u(e,["promptTokensDetails"],x)}const h=a(t,["cacheTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(k=>k)),u(e,["cacheTokensDetails"],x)}const v=a(t,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(k=>k)),u(e,["responseTokensDetails"],x)}const E=a(t,["toolUsePromptTokensDetails"]);if(E!=null){let x=E;Array.isArray(x)&&(x=x.map(k=>k)),u(e,["toolUsePromptTokensDetails"],x)}const S=a(t,["trafficType"]);return S!=null&&u(e,["trafficType"],S),e}function g0(t){const e={},o=a(t,["data"]);if(o!=null&&u(e,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function y0(t){const e={},o=a(t,["content"]);o!=null&&u(e,["content"],o);const i=a(t,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],v0(i));const l=a(t,["tokenCount"]);l!=null&&u(e,["tokenCount"],l);const c=a(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const f=a(t,["avgLogprobs"]);f!=null&&u(e,["avgLogprobs"],f);const p=a(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const g=a(t,["index"]);g!=null&&u(e,["index"],g);const h=a(t,["logprobsResult"]);h!=null&&u(e,["logprobsResult"],h);const v=a(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(x=>x)),u(e,["safetyRatings"],S)}const E=a(t,["urlContextMetadata"]);return E!=null&&u(e,["urlContextMetadata"],E),e}function v0(t){const e={},o=a(t,["citationSources"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["citations"],i)}return e}function S0(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["contents"]);if(l!=null){let c=St(l);Array.isArray(c)&&(c=c.map(f=>f)),u(o,["contents"],c)}return o}function E0(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["tokensInfo"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),u(e,["tokensInfo"],l)}return e}function _0(t){const e={},o=a(t,["values"]);o!=null&&u(e,["values"],o);const i=a(t,["statistics"]);return i!=null&&u(e,["statistics"],T0(i)),e}function T0(t){const e={},o=a(t,["truncated"]);o!=null&&u(e,["truncated"],o);const i=a(t,["token_count"]);return i!=null&&u(e,["tokenCount"],i),e}function ki(t){const e={},o=a(t,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>PS(c))),u(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function C0(t){const e={},o=a(t,["controlType"]);o!=null&&u(e,["controlType"],o);const i=a(t,["enableControlImageComputation"]);return i!=null&&u(e,["computeControl"],i),e}function x0(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function w0(t,e){const o={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&u(e,["systemInstruction"],Qe(i));const l=a(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>vp(p))),u(e,["tools"],f)}const c=a(t,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],gS(c)),o}function I0(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["contents"]);if(l!=null){let f=St(l);Array.isArray(f)&&(f=f.map(p=>ki(p))),u(o,["contents"],f)}const c=a(e,["config"]);return c!=null&&x0(c),o}function A0(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["contents"]);if(l!=null){let f=St(l);Array.isArray(f)&&(f=f.map(p=>p)),u(o,["contents"],f)}const c=a(e,["config"]);return c!=null&&w0(c,o),o}function N0(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["totalTokens"]);i!=null&&u(e,["totalTokens"],i);const l=a(t,["cachedContentTokenCount"]);return l!=null&&u(e,["cachedContentTokenCount"],l),e}function R0(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["totalTokens"]);return i!=null&&u(e,["totalTokens"],i),e}function k0(t,e){const o={},i=a(e,["model"]);return i!=null&&u(o,["_url","name"],ve(t,i)),o}function P0(t,e){const o={},i=a(e,["model"]);return i!=null&&u(o,["_url","name"],ve(t,i)),o}function M0(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function D0(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function L0(t,e){const o={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&u(e,["parameters","negativePrompt"],l);const c=a(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const f=a(t,["aspectRatio"]);e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f);const p=a(t,["guidanceScale"]);e!==void 0&&p!=null&&u(e,["parameters","guidanceScale"],p);const g=a(t,["seed"]);e!==void 0&&g!=null&&u(e,["parameters","seed"],g);const h=a(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const v=a(t,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const E=a(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&u(e,["parameters","includeSafetyAttributes"],E);const S=a(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const x=a(t,["language"]);e!==void 0&&x!=null&&u(e,["parameters","language"],x);const k=a(t,["outputMimeType"]);e!==void 0&&k!=null&&u(e,["parameters","outputOptions","mimeType"],k);const D=a(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","compressionQuality"],D);const R=a(t,["addWatermark"]);e!==void 0&&R!=null&&u(e,["parameters","addWatermark"],R);const L=a(t,["labels"]);e!==void 0&&L!=null&&u(e,["labels"],L);const $=a(t,["editMode"]);e!==void 0&&$!=null&&u(e,["parameters","editMode"],$);const B=a(t,["baseSteps"]);return e!==void 0&&B!=null&&u(e,["parameters","editConfig","baseSteps"],B),o}function U0(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["prompt"]);l!=null&&u(o,["instances[0]","prompt"],l);const c=a(e,["referenceImages"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>VS(g))),u(o,["instances[0]","referenceImages"],p)}const f=a(e,["config"]);return f!=null&&L0(f,o),o}function F0(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Pi(c))),u(e,["generatedImages"],l)}return e}function V0(t,e){const o={},i=a(t,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&u(e,["requests[]","title"],l);const c=a(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function G0(t,e){const o={},i=a(t,["taskType"]);e!==void 0&&i!=null&&u(e,["instances[]","task_type"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&u(e,["instances[]","title"],l);const c=a(t,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const f=a(t,["mimeType"]);e!==void 0&&f!=null&&u(e,["instances[]","mimeType"],f);const p=a(t,["autoTruncate"]);return e!==void 0&&p!=null&&u(e,["parameters","autoTruncate"],p),o}function H0(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["contents"]);if(l!=null){let p=sa(t,l);Array.isArray(p)&&(p=p.map(g=>g)),u(o,["requests[]","content"],p)}const c=a(e,["config"]);c!=null&&V0(c,o);const f=a(e,["model"]);return f!==void 0&&u(o,["requests[]","model"],ve(t,f)),o}function q0(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["contents"]);if(l!=null){let f=sa(t,l);Array.isArray(f)&&(f=f.map(p=>p)),u(o,["instances[]","content"],f)}const c=a(e,["config"]);return c!=null&&G0(c,o),o}function B0(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["embeddings"],c)}const l=a(t,["metadata"]);return l!=null&&u(e,["metadata"],l),e}function z0(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["predictions[]","embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>_0(f))),u(e,["embeddings"],c)}const l=a(t,["metadata"]);return l!=null&&u(e,["metadata"],l),e}function $0(t){const e={},o=a(t,["endpoint"]);o!=null&&u(e,["name"],o);const i=a(t,["deployedModelId"]);return i!=null&&u(e,["deployedModelId"],i),e}function J0(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function b0(t){const e={},o=a(t,["id"]);o!=null&&u(e,["id"],o);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const l=a(t,["name"]);if(l!=null&&u(e,["name"],l),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O0(t){const e={},o=a(t,["allowedFunctionNames"]);o!=null&&u(e,["allowedFunctionNames"],o);const i=a(t,["mode"]);if(i!=null&&u(e,["mode"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function W0(t){const e={},o=a(t,["description"]);o!=null&&u(e,["description"],o);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const l=a(t,["parameters"]);l!=null&&u(e,["parameters"],l);const c=a(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=a(t,["response"]);f!=null&&u(e,["response"],f);const p=a(t,["responseJsonSchema"]);if(p!=null&&u(e,["responseJsonSchema"],p),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function K0(t,e,o){const i={},l=a(e,["systemInstruction"]);o!==void 0&&l!=null&&u(o,["systemInstruction"],ki(Qe(l)));const c=a(e,["temperature"]);c!=null&&u(i,["temperature"],c);const f=a(e,["topP"]);f!=null&&u(i,["topP"],f);const p=a(e,["topK"]);p!=null&&u(i,["topK"],p);const g=a(e,["candidateCount"]);g!=null&&u(i,["candidateCount"],g);const h=a(e,["maxOutputTokens"]);h!=null&&u(i,["maxOutputTokens"],h);const v=a(e,["stopSequences"]);v!=null&&u(i,["stopSequences"],v);const E=a(e,["responseLogprobs"]);E!=null&&u(i,["responseLogprobs"],E);const S=a(e,["logprobs"]);S!=null&&u(i,["logprobs"],S);const x=a(e,["presencePenalty"]);x!=null&&u(i,["presencePenalty"],x);const k=a(e,["frequencyPenalty"]);k!=null&&u(i,["frequencyPenalty"],k);const D=a(e,["seed"]);D!=null&&u(i,["seed"],D);const R=a(e,["responseMimeType"]);R!=null&&u(i,["responseMimeType"],R);const L=a(e,["responseSchema"]);L!=null&&u(i,["responseSchema"],la(L));const $=a(e,["responseJsonSchema"]);if($!=null&&u(i,["responseJsonSchema"],$),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=a(e,["safetySettings"]);if(o!==void 0&&B!=null){let ce=B;Array.isArray(ce)&&(ce=ce.map(Ne=>GS(Ne))),u(o,["safetySettings"],ce)}const H=a(e,["tools"]);if(o!==void 0&&H!=null){let ce=ao(H);Array.isArray(ce)&&(ce=ce.map(Ne=>bS(lo(Ne)))),u(o,["tools"],ce)}const Y=a(e,["toolConfig"]);if(o!==void 0&&Y!=null&&u(o,["toolConfig"],JS(Y)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=a(e,["cachedContent"]);o!==void 0&&W!=null&&u(o,["cachedContent"],Ot(t,W));const ne=a(e,["responseModalities"]);ne!=null&&u(i,["responseModalities"],ne);const pe=a(e,["mediaResolution"]);pe!=null&&u(i,["mediaResolution"],pe);const ee=a(e,["speechConfig"]);if(ee!=null&&u(i,["speechConfig"],aa(ee)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=a(e,["thinkingConfig"]);ae!=null&&u(i,["thinkingConfig"],ae);const _e=a(e,["imageConfig"]);_e!=null&&u(i,["imageConfig"],_S(_e));const Le=a(e,["enableEnhancedCivicAnswers"]);return Le!=null&&u(i,["enableEnhancedCivicAnswers"],Le),i}function Y0(t,e,o){const i={},l=a(e,["systemInstruction"]);o!==void 0&&l!=null&&u(o,["systemInstruction"],Qe(l));const c=a(e,["temperature"]);c!=null&&u(i,["temperature"],c);const f=a(e,["topP"]);f!=null&&u(i,["topP"],f);const p=a(e,["topK"]);p!=null&&u(i,["topK"],p);const g=a(e,["candidateCount"]);g!=null&&u(i,["candidateCount"],g);const h=a(e,["maxOutputTokens"]);h!=null&&u(i,["maxOutputTokens"],h);const v=a(e,["stopSequences"]);v!=null&&u(i,["stopSequences"],v);const E=a(e,["responseLogprobs"]);E!=null&&u(i,["responseLogprobs"],E);const S=a(e,["logprobs"]);S!=null&&u(i,["logprobs"],S);const x=a(e,["presencePenalty"]);x!=null&&u(i,["presencePenalty"],x);const k=a(e,["frequencyPenalty"]);k!=null&&u(i,["frequencyPenalty"],k);const D=a(e,["seed"]);D!=null&&u(i,["seed"],D);const R=a(e,["responseMimeType"]);R!=null&&u(i,["responseMimeType"],R);const L=a(e,["responseSchema"]);L!=null&&u(i,["responseSchema"],la(L));const $=a(e,["responseJsonSchema"]);$!=null&&u(i,["responseJsonSchema"],$);const B=a(e,["routingConfig"]);B!=null&&u(i,["routingConfig"],B);const H=a(e,["modelSelectionConfig"]);H!=null&&u(i,["modelConfig"],H);const Y=a(e,["safetySettings"]);if(o!==void 0&&Y!=null){let Ce=Y;Array.isArray(Ce)&&(Ce=Ce.map(O=>O)),u(o,["safetySettings"],Ce)}const W=a(e,["tools"]);if(o!==void 0&&W!=null){let Ce=ao(W);Array.isArray(Ce)&&(Ce=Ce.map(O=>vp(lo(O)))),u(o,["tools"],Ce)}const ne=a(e,["toolConfig"]);o!==void 0&&ne!=null&&u(o,["toolConfig"],ne);const pe=a(e,["labels"]);o!==void 0&&pe!=null&&u(o,["labels"],pe);const ee=a(e,["cachedContent"]);o!==void 0&&ee!=null&&u(o,["cachedContent"],Ot(t,ee));const ae=a(e,["responseModalities"]);ae!=null&&u(i,["responseModalities"],ae);const _e=a(e,["mediaResolution"]);_e!=null&&u(i,["mediaResolution"],_e);const Le=a(e,["speechConfig"]);Le!=null&&u(i,["speechConfig"],aa(Le));const ce=a(e,["audioTimestamp"]);ce!=null&&u(i,["audioTimestamp"],ce);const Ne=a(e,["thinkingConfig"]);Ne!=null&&u(i,["thinkingConfig"],Ne);const Xe=a(e,["imageConfig"]);if(Xe!=null&&u(i,["imageConfig"],TS(Xe)),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function Pf(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["contents"]);if(l!=null){let f=St(l);Array.isArray(f)&&(f=f.map(p=>ki(p))),u(o,["contents"],f)}const c=a(e,["config"]);return c!=null&&u(o,["generationConfig"],K0(t,c,o)),o}function Mf(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["contents"]);if(l!=null){let f=St(l);Array.isArray(f)&&(f=f.map(p=>p)),u(o,["contents"],f)}const c=a(e,["config"]);return c!=null&&u(o,["generationConfig"],Y0(t,c,o)),o}function Df(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["candidates"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(h=>y0(h))),u(e,["candidates"],g)}const l=a(t,["modelVersion"]);l!=null&&u(e,["modelVersion"],l);const c=a(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const f=a(t,["responseId"]);f!=null&&u(e,["responseId"],f);const p=a(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function Lf(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(v=>v)),u(e,["candidates"],h)}const l=a(t,["createTime"]);l!=null&&u(e,["createTime"],l);const c=a(t,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const f=a(t,["promptFeedback"]);f!=null&&u(e,["promptFeedback"],f);const p=a(t,["responseId"]);p!=null&&u(e,["responseId"],p);const g=a(t,["usageMetadata"]);return g!=null&&u(e,["usageMetadata"],g),e}function Q0(t,e){const o={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);const c=a(t,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const p=a(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);const g=a(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&u(e,["parameters","includeSafetyAttributes"],g);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&u(e,["parameters","includeRaiReason"],h);const v=a(t,["language"]);e!==void 0&&v!=null&&u(e,["parameters","language"],v);const E=a(t,["outputMimeType"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","mimeType"],E);const S=a(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=a(t,["imageSize"]);if(e!==void 0&&x!=null&&u(e,["parameters","sampleImageSize"],x),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function X0(t,e){const o={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&u(e,["parameters","negativePrompt"],l);const c=a(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const f=a(t,["aspectRatio"]);e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f);const p=a(t,["guidanceScale"]);e!==void 0&&p!=null&&u(e,["parameters","guidanceScale"],p);const g=a(t,["seed"]);e!==void 0&&g!=null&&u(e,["parameters","seed"],g);const h=a(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const v=a(t,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const E=a(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&u(e,["parameters","includeSafetyAttributes"],E);const S=a(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const x=a(t,["language"]);e!==void 0&&x!=null&&u(e,["parameters","language"],x);const k=a(t,["outputMimeType"]);e!==void 0&&k!=null&&u(e,["parameters","outputOptions","mimeType"],k);const D=a(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","compressionQuality"],D);const R=a(t,["addWatermark"]);e!==void 0&&R!=null&&u(e,["parameters","addWatermark"],R);const L=a(t,["labels"]);e!==void 0&&L!=null&&u(e,["labels"],L);const $=a(t,["imageSize"]);e!==void 0&&$!=null&&u(e,["parameters","sampleImageSize"],$);const B=a(t,["enhancePrompt"]);return e!==void 0&&B!=null&&u(e,["parameters","enhancePrompt"],B),o}function Z0(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["prompt"]);l!=null&&u(o,["instances[0]","prompt"],l);const c=a(e,["config"]);return c!=null&&Q0(c,o),o}function j0(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["prompt"]);l!=null&&u(o,["instances[0]","prompt"],l);const c=a(e,["config"]);return c!=null&&X0(c,o),o}function eS(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>fS(f))),u(e,["generatedImages"],c)}const l=a(t,["positivePromptSafetyAttributes"]);return l!=null&&u(e,["positivePromptSafetyAttributes"],gp(l)),e}function tS(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Pi(f))),u(e,["generatedImages"],c)}const l=a(t,["positivePromptSafetyAttributes"]);return l!=null&&u(e,["positivePromptSafetyAttributes"],yp(l)),e}function nS(t,e){const o={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=a(t,["durationSeconds"]);if(e!==void 0&&l!=null&&u(e,["parameters","durationSeconds"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const f=a(t,["resolution"]);e!==void 0&&f!=null&&u(e,["parameters","resolution"],f);const p=a(t,["personGeneration"]);if(e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=a(t,["negativePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","negativePrompt"],g);const h=a(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&u(e,["parameters","enhancePrompt"],h),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=a(t,["lastFrame"]);e!==void 0&&v!=null&&u(e,["instances[0]","lastFrame"],Mi(v));const E=a(t,["referenceImages"]);if(e!==void 0&&E!=null){let S=E;Array.isArray(S)&&(S=S.map(x=>rE(x))),u(e,["instances[0]","referenceImages"],S)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function oS(t,e){const o={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const l=a(t,["outputGcsUri"]);e!==void 0&&l!=null&&u(e,["parameters","storageUri"],l);const c=a(t,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const f=a(t,["durationSeconds"]);e!==void 0&&f!=null&&u(e,["parameters","durationSeconds"],f);const p=a(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const g=a(t,["aspectRatio"]);e!==void 0&&g!=null&&u(e,["parameters","aspectRatio"],g);const h=a(t,["resolution"]);e!==void 0&&h!=null&&u(e,["parameters","resolution"],h);const v=a(t,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const E=a(t,["pubsubTopic"]);e!==void 0&&E!=null&&u(e,["parameters","pubsubTopic"],E);const S=a(t,["negativePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","negativePrompt"],S);const x=a(t,["enhancePrompt"]);e!==void 0&&x!=null&&u(e,["parameters","enhancePrompt"],x);const k=a(t,["generateAudio"]);e!==void 0&&k!=null&&u(e,["parameters","generateAudio"],k);const D=a(t,["lastFrame"]);e!==void 0&&D!=null&&u(e,["instances[0]","lastFrame"],kt(D));const R=a(t,["referenceImages"]);if(e!==void 0&&R!=null){let B=R;Array.isArray(B)&&(B=B.map(H=>iE(H))),u(e,["instances[0]","referenceImages"],B)}const L=a(t,["mask"]);e!==void 0&&L!=null&&u(e,["instances[0]","mask"],oE(L));const $=a(t,["compressionQuality"]);return e!==void 0&&$!=null&&u(e,["parameters","compressionQuality"],$),o}function rS(t){const e={},o=a(t,["name"]);o!=null&&u(e,["name"],o);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const c=a(t,["error"]);c!=null&&u(e,["error"],c);const f=a(t,["response","generateVideoResponse"]);return f!=null&&u(e,["response"],aS(f)),e}function iS(t){const e={},o=a(t,["name"]);o!=null&&u(e,["name"],o);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const c=a(t,["error"]);c!=null&&u(e,["error"],c);const f=a(t,["response"]);return f!=null&&u(e,["response"],uS(f)),e}function sS(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["prompt"]);l!=null&&u(o,["instances[0]","prompt"],l);const c=a(e,["image"]);c!=null&&u(o,["instances[0]","image"],Mi(c));const f=a(e,["video"]);f!=null&&u(o,["instances[0]","video"],Sp(f));const p=a(e,["source"]);p!=null&&cS(p,o);const g=a(e,["config"]);return g!=null&&nS(g,o),o}function lS(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["prompt"]);l!=null&&u(o,["instances[0]","prompt"],l);const c=a(e,["image"]);c!=null&&u(o,["instances[0]","image"],kt(c));const f=a(e,["video"]);f!=null&&u(o,["instances[0]","video"],Ep(f));const p=a(e,["source"]);p!=null&&dS(p,o);const g=a(e,["config"]);return g!=null&&oS(g,o),o}function aS(t){const e={},o=a(t,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>mS(f))),u(e,["generatedVideos"],c)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&u(e,["raiMediaFilteredReasons"],l),e}function uS(t){const e={},o=a(t,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>hS(f))),u(e,["generatedVideos"],c)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&u(e,["raiMediaFilteredReasons"],l),e}function cS(t,e){const o={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const l=a(t,["image"]);e!==void 0&&l!=null&&u(e,["instances[0]","image"],Mi(l));const c=a(t,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],Sp(c)),o}function dS(t,e){const o={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const l=a(t,["image"]);e!==void 0&&l!=null&&u(e,["instances[0]","image"],kt(l));const c=a(t,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],Ep(c)),o}function fS(t){const e={},o=a(t,["_self"]);o!=null&&u(e,["image"],CS(o));const i=a(t,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const l=a(t,["_self"]);return l!=null&&u(e,["safetyAttributes"],gp(l)),e}function Pi(t){const e={},o=a(t,["_self"]);o!=null&&u(e,["image"],hp(o));const i=a(t,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const l=a(t,["_self"]);l!=null&&u(e,["safetyAttributes"],yp(l));const c=a(t,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function pS(t){const e={},o=a(t,["_self"]);o!=null&&u(e,["mask"],hp(o));const i=a(t,["labels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),u(e,["labels"],l)}return e}function mS(t){const e={},o=a(t,["video"]);return o!=null&&u(e,["video"],tE(o)),e}function hS(t){const e={},o=a(t,["_self"]);return o!=null&&u(e,["video"],nE(o)),e}function gS(t){const e={},o=a(t,["modelSelectionConfig"]);o!=null&&u(e,["modelConfig"],o);const i=a(t,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const l=a(t,["audioTimestamp"]);l!=null&&u(e,["audioTimestamp"],l);const c=a(t,["candidateCount"]);c!=null&&u(e,["candidateCount"],c);const f=a(t,["enableAffectiveDialog"]);f!=null&&u(e,["enableAffectiveDialog"],f);const p=a(t,["frequencyPenalty"]);p!=null&&u(e,["frequencyPenalty"],p);const g=a(t,["logprobs"]);g!=null&&u(e,["logprobs"],g);const h=a(t,["maxOutputTokens"]);h!=null&&u(e,["maxOutputTokens"],h);const v=a(t,["mediaResolution"]);v!=null&&u(e,["mediaResolution"],v);const E=a(t,["presencePenalty"]);E!=null&&u(e,["presencePenalty"],E);const S=a(t,["responseLogprobs"]);S!=null&&u(e,["responseLogprobs"],S);const x=a(t,["responseMimeType"]);x!=null&&u(e,["responseMimeType"],x);const k=a(t,["responseModalities"]);k!=null&&u(e,["responseModalities"],k);const D=a(t,["responseSchema"]);D!=null&&u(e,["responseSchema"],D);const R=a(t,["routingConfig"]);R!=null&&u(e,["routingConfig"],R);const L=a(t,["seed"]);L!=null&&u(e,["seed"],L);const $=a(t,["speechConfig"]);$!=null&&u(e,["speechConfig"],$);const B=a(t,["stopSequences"]);B!=null&&u(e,["stopSequences"],B);const H=a(t,["temperature"]);H!=null&&u(e,["temperature"],H);const Y=a(t,["thinkingConfig"]);Y!=null&&u(e,["thinkingConfig"],Y);const W=a(t,["topK"]);W!=null&&u(e,["topK"],W);const ne=a(t,["topP"]);if(ne!=null&&u(e,["topP"],ne),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function yS(t,e){const o={},i=a(e,["model"]);return i!=null&&u(o,["_url","name"],ve(t,i)),o}function vS(t,e){const o={},i=a(e,["model"]);return i!=null&&u(o,["_url","name"],ve(t,i)),o}function SS(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=a(t,["enableWidget"]);return o!=null&&u(e,["enableWidget"],o),e}function ES(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=a(t,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],o),e}function _S(t){const e={},o=a(t,["aspectRatio"]);o!=null&&u(e,["aspectRatio"],o);const i=a(t,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function TS(t){const e={},o=a(t,["aspectRatio"]);o!=null&&u(e,["aspectRatio"],o);const i=a(t,["imageSize"]);i!=null&&u(e,["imageSize"],i);const l=a(t,["personGeneration"]);l!=null&&u(e,["personGeneration"],l);const c=a(t,["outputMimeType"]);c!=null&&u(e,["imageOutputOptions","mimeType"],c);const f=a(t,["outputCompressionQuality"]);return f!=null&&u(e,["imageOutputOptions","compressionQuality"],f),e}function CS(t){const e={},o=a(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],mn(o));const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function hp(t){const e={},o=a(t,["gcsUri"]);o!=null&&u(e,["gcsUri"],o);const i=a(t,["bytesBase64Encoded"]);i!=null&&u(e,["imageBytes"],mn(i));const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function Mi(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=a(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],mn(o));const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function kt(t){const e={},o=a(t,["gcsUri"]);o!=null&&u(e,["gcsUri"],o);const i=a(t,["imageBytes"]);i!=null&&u(e,["bytesBase64Encoded"],mn(i));const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function xS(t,e,o){const i={},l=a(e,["pageSize"]);o!==void 0&&l!=null&&u(o,["_query","pageSize"],l);const c=a(e,["pageToken"]);o!==void 0&&c!=null&&u(o,["_query","pageToken"],c);const f=a(e,["filter"]);o!==void 0&&f!=null&&u(o,["_query","filter"],f);const p=a(e,["queryBase"]);return o!==void 0&&p!=null&&u(o,["_url","models_url"],ap(t,p)),i}function wS(t,e,o){const i={},l=a(e,["pageSize"]);o!==void 0&&l!=null&&u(o,["_query","pageSize"],l);const c=a(e,["pageToken"]);o!==void 0&&c!=null&&u(o,["_query","pageToken"],c);const f=a(e,["filter"]);o!==void 0&&f!=null&&u(o,["_query","filter"],f);const p=a(e,["queryBase"]);return o!==void 0&&p!=null&&u(o,["_url","models_url"],ap(t,p)),i}function IS(t,e){const o={},i=a(e,["config"]);return i!=null&&xS(t,i,o),o}function AS(t,e){const o={},i=a(e,["config"]);return i!=null&&wS(t,i,o),o}function NS(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const l=a(t,["_self"]);if(l!=null){let c=up(l);Array.isArray(c)&&(c=c.map(f=>$l(f))),u(e,["models"],c)}return e}function RS(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const l=a(t,["_self"]);if(l!=null){let c=up(l);Array.isArray(c)&&(c=c.map(f=>Jl(f))),u(e,["models"],c)}return e}function kS(t){const e={},o=a(t,["maskMode"]);o!=null&&u(e,["maskMode"],o);const i=a(t,["segmentationClasses"]);i!=null&&u(e,["maskClasses"],i);const l=a(t,["maskDilation"]);return l!=null&&u(e,["dilation"],l),e}function $l(t){const e={},o=a(t,["name"]);o!=null&&u(e,["name"],o);const i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const l=a(t,["description"]);l!=null&&u(e,["description"],l);const c=a(t,["version"]);c!=null&&u(e,["version"],c);const f=a(t,["_self"]);f!=null&&u(e,["tunedModelInfo"],OS(f));const p=a(t,["inputTokenLimit"]);p!=null&&u(e,["inputTokenLimit"],p);const g=a(t,["outputTokenLimit"]);g!=null&&u(e,["outputTokenLimit"],g);const h=a(t,["supportedGenerationMethods"]);h!=null&&u(e,["supportedActions"],h);const v=a(t,["temperature"]);v!=null&&u(e,["temperature"],v);const E=a(t,["maxTemperature"]);E!=null&&u(e,["maxTemperature"],E);const S=a(t,["topP"]);S!=null&&u(e,["topP"],S);const x=a(t,["topK"]);x!=null&&u(e,["topK"],x);const k=a(t,["thinking"]);return k!=null&&u(e,["thinking"],k),e}function Jl(t){const e={},o=a(t,["name"]);o!=null&&u(e,["name"],o);const i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const l=a(t,["description"]);l!=null&&u(e,["description"],l);const c=a(t,["versionId"]);c!=null&&u(e,["version"],c);const f=a(t,["deployedModels"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(S=>$0(S))),u(e,["endpoints"],E)}const p=a(t,["labels"]);p!=null&&u(e,["labels"],p);const g=a(t,["_self"]);g!=null&&u(e,["tunedModelInfo"],WS(g));const h=a(t,["defaultCheckpointId"]);h!=null&&u(e,["defaultCheckpointId"],h);const v=a(t,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(S=>S)),u(e,["checkpoints"],E)}return e}function PS(t){const e={},o=a(t,["mediaResolution"]);o!=null&&u(e,["mediaResolution"],o);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const l=a(t,["executableCode"]);l!=null&&u(e,["executableCode"],l);const c=a(t,["fileData"]);c!=null&&u(e,["fileData"],J0(c));const f=a(t,["functionCall"]);f!=null&&u(e,["functionCall"],b0(f));const p=a(t,["functionResponse"]);p!=null&&u(e,["functionResponse"],p);const g=a(t,["inlineData"]);g!=null&&u(e,["inlineData"],g0(g));const h=a(t,["text"]);h!=null&&u(e,["text"],h);const v=a(t,["thought"]);v!=null&&u(e,["thought"],v);const E=a(t,["thoughtSignature"]);E!=null&&u(e,["thoughtSignature"],E);const S=a(t,["videoMetadata"]);return S!=null&&u(e,["videoMetadata"],S),e}function MS(t){const e={},o=a(t,["productImage"]);return o!=null&&u(e,["image"],kt(o)),e}function DS(t,e){const o={},i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const l=a(t,["baseSteps"]);e!==void 0&&l!=null&&u(e,["parameters","baseSteps"],l);const c=a(t,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["parameters","seed"],f);const p=a(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const g=a(t,["personGeneration"]);e!==void 0&&g!=null&&u(e,["parameters","personGeneration"],g);const h=a(t,["addWatermark"]);e!==void 0&&h!=null&&u(e,["parameters","addWatermark"],h);const v=a(t,["outputMimeType"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","mimeType"],v);const E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);const S=a(t,["enhancePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","enhancePrompt"],S);const x=a(t,["labels"]);return e!==void 0&&x!=null&&u(e,["labels"],x),o}function LS(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["source"]);l!=null&&FS(l,o);const c=a(e,["config"]);return c!=null&&DS(c,o),o}function US(t){const e={},o=a(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Pi(l))),u(e,["generatedImages"],i)}return e}function FS(t,e){const o={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const l=a(t,["personImage"]);e!==void 0&&l!=null&&u(e,["instances[0]","personImage","image"],kt(l));const c=a(t,["productImages"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>MS(p))),u(e,["instances[0]","productImages"],f)}return o}function VS(t){const e={},o=a(t,["referenceImage"]);o!=null&&u(e,["referenceImage"],kt(o));const i=a(t,["referenceId"]);i!=null&&u(e,["referenceId"],i);const l=a(t,["referenceType"]);l!=null&&u(e,["referenceType"],l);const c=a(t,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],kS(c));const f=a(t,["controlImageConfig"]);f!=null&&u(e,["controlImageConfig"],C0(f));const p=a(t,["styleImageConfig"]);p!=null&&u(e,["styleImageConfig"],p);const g=a(t,["subjectImageConfig"]);return g!=null&&u(e,["subjectImageConfig"],g),e}function gp(t){const e={},o=a(t,["safetyAttributes","categories"]);o!=null&&u(e,["categories"],o);const i=a(t,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&u(e,["contentType"],l),e}function yp(t){const e={},o=a(t,["safetyAttributes","categories"]);o!=null&&u(e,["categories"],o);const i=a(t,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&u(e,["contentType"],l),e}function GS(t){const e={},o=a(t,["category"]);if(o!=null&&u(e,["category"],o),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(t,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function HS(t){const e={},o=a(t,["image"]);return o!=null&&u(e,["image"],kt(o)),e}function qS(t,e){const o={},i=a(t,["mode"]);e!==void 0&&i!=null&&u(e,["parameters","mode"],i);const l=a(t,["maxPredictions"]);e!==void 0&&l!=null&&u(e,["parameters","maxPredictions"],l);const c=a(t,["confidenceThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","confidenceThreshold"],c);const f=a(t,["maskDilation"]);e!==void 0&&f!=null&&u(e,["parameters","maskDilation"],f);const p=a(t,["binaryColorThreshold"]);e!==void 0&&p!=null&&u(e,["parameters","binaryColorThreshold"],p);const g=a(t,["labels"]);return e!==void 0&&g!=null&&u(e,["labels"],g),o}function BS(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["source"]);l!=null&&$S(l,o);const c=a(e,["config"]);return c!=null&&qS(c,o),o}function zS(t){const e={},o=a(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>pS(l))),u(e,["generatedMasks"],i)}return e}function $S(t,e){const o={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const l=a(t,["image"]);e!==void 0&&l!=null&&u(e,["instances[0]","image"],kt(l));const c=a(t,["scribbleImage"]);return e!==void 0&&c!=null&&u(e,["instances[0]","scribble"],HS(c)),o}function JS(t){const e={},o=a(t,["retrievalConfig"]);o!=null&&u(e,["retrievalConfig"],o);const i=a(t,["functionCallingConfig"]);return i!=null&&u(e,["functionCallingConfig"],O0(i)),e}function bS(t){const e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const l=a(t,["codeExecution"]);if(l!=null&&u(e,["codeExecution"],l),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=a(t,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),u(e,["functionDeclarations"],v)}const f=a(t,["googleMaps"]);f!=null&&u(e,["googleMaps"],SS(f));const p=a(t,["googleSearch"]);p!=null&&u(e,["googleSearch"],ES(p));const g=a(t,["googleSearchRetrieval"]);g!=null&&u(e,["googleSearchRetrieval"],g);const h=a(t,["urlContext"]);return h!=null&&u(e,["urlContext"],h),e}function vp(t){const e={},o=a(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const i=a(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=a(t,["codeExecution"]);l!=null&&u(e,["codeExecution"],l);const c=a(t,["enterpriseWebSearch"]);c!=null&&u(e,["enterpriseWebSearch"],c);const f=a(t,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(S=>W0(S))),u(e,["functionDeclarations"],E)}const p=a(t,["googleMaps"]);p!=null&&u(e,["googleMaps"],p);const g=a(t,["googleSearch"]);g!=null&&u(e,["googleSearch"],g);const h=a(t,["googleSearchRetrieval"]);h!=null&&u(e,["googleSearchRetrieval"],h);const v=a(t,["urlContext"]);return v!=null&&u(e,["urlContext"],v),e}function OS(t){const e={},o=a(t,["baseModel"]);o!=null&&u(e,["baseModel"],o);const i=a(t,["createTime"]);i!=null&&u(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&u(e,["updateTime"],l),e}function WS(t){const e={},o=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&u(e,["baseModel"],o);const i=a(t,["createTime"]);i!=null&&u(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&u(e,["updateTime"],l),e}function KS(t,e){const o={},i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&u(e,["description"],l);const c=a(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),o}function YS(t,e){const o={},i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&u(e,["description"],l);const c=a(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),o}function QS(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","name"],ve(t,i));const l=a(e,["config"]);return l!=null&&KS(l,o),o}function XS(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["config"]);return l!=null&&YS(l,o),o}function ZS(t,e){const o={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const l=a(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&u(e,["parameters","safetySetting"],l);const c=a(t,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);const f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&u(e,["parameters","includeRaiReason"],f);const p=a(t,["outputMimeType"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","mimeType"],p);const g=a(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&u(e,["parameters","outputOptions","compressionQuality"],g);const h=a(t,["enhanceInputImage"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],h);const v=a(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=a(t,["labels"]);e!==void 0&&E!=null&&u(e,["labels"],E);const S=a(t,["numberOfImages"]);e!==void 0&&S!=null&&u(e,["parameters","sampleCount"],S);const x=a(t,["mode"]);return e!==void 0&&x!=null&&u(e,["parameters","mode"],x),o}function jS(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["_url","model"],ve(t,i));const l=a(e,["image"]);l!=null&&u(o,["instances[0]","image"],kt(l));const c=a(e,["upscaleFactor"]);c!=null&&u(o,["parameters","upscaleConfig","upscaleFactor"],c);const f=a(e,["config"]);return f!=null&&ZS(f,o),o}function eE(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Pi(c))),u(e,["generatedImages"],l)}return e}function tE(t){const e={},o=a(t,["uri"]);o!=null&&u(e,["uri"],o);const i=a(t,["encodedVideo"]);i!=null&&u(e,["videoBytes"],mn(i));const l=a(t,["encoding"]);return l!=null&&u(e,["mimeType"],l),e}function nE(t){const e={},o=a(t,["gcsUri"]);o!=null&&u(e,["uri"],o);const i=a(t,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],mn(i));const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function oE(t){const e={},o=a(t,["image"]);o!=null&&u(e,["_self"],kt(o));const i=a(t,["maskMode"]);return i!=null&&u(e,["maskMode"],i),e}function rE(t){const e={},o=a(t,["image"]);o!=null&&u(e,["image"],Mi(o));const i=a(t,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function iE(t){const e={},o=a(t,["image"]);o!=null&&u(e,["image"],kt(o));const i=a(t,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function Sp(t){const e={},o=a(t,["uri"]);o!=null&&u(e,["uri"],o);const i=a(t,["videoBytes"]);i!=null&&u(e,["encodedVideo"],mn(i));const l=a(t,["mimeType"]);return l!=null&&u(e,["encoding"],l),e}function Ep(t){const e={},o=a(t,["uri"]);o!=null&&u(e,["gcsUri"],o);const i=a(t,["videoBytes"]);i!=null&&u(e,["bytesBase64Encoded"],mn(i));const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function sE(t,e){const o={},i=a(t,["displayName"]);return e!==void 0&&i!=null&&u(e,["displayName"],i),o}function lE(t){const e={},o=a(t,["config"]);return o!=null&&sE(o,e),e}function aE(t,e){const o={},i=a(t,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),o}function uE(t){const e={},o=a(t,["name"]);o!=null&&u(e,["_url","name"],o);const i=a(t,["config"]);return i!=null&&aE(i,e),e}function cE(t){const e={},o=a(t,["name"]);return o!=null&&u(e,["_url","name"],o),e}function dE(t,e){const o={},i=a(t,["customMetadata"]);if(e!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["customMetadata"],c)}const l=a(t,["chunkingConfig"]);return e!==void 0&&l!=null&&u(e,["chunkingConfig"],l),o}function fE(t){const e={},o=a(t,["name"]);o!=null&&u(e,["name"],o);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const c=a(t,["error"]);c!=null&&u(e,["error"],c);const f=a(t,["response"]);return f!=null&&u(e,["response"],mE(f)),e}function pE(t){const e={},o=a(t,["fileSearchStoreName"]);o!=null&&u(e,["_url","file_search_store_name"],o);const i=a(t,["fileName"]);i!=null&&u(e,["fileName"],i);const l=a(t,["config"]);return l!=null&&dE(l,e),e}function mE(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["parent"]);i!=null&&u(e,["parent"],i);const l=a(t,["documentName"]);return l!=null&&u(e,["documentName"],l),e}function hE(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),o}function gE(t){const e={},o=a(t,["config"]);return o!=null&&hE(o,e),e}function yE(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const l=a(t,["fileSearchStores"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["fileSearchStores"],c)}return e}function _p(t,e){const o={},i=a(t,["mimeType"]);e!==void 0&&i!=null&&u(e,["mimeType"],i);const l=a(t,["displayName"]);e!==void 0&&l!=null&&u(e,["displayName"],l);const c=a(t,["customMetadata"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>g)),u(e,["customMetadata"],p)}const f=a(t,["chunkingConfig"]);return e!==void 0&&f!=null&&u(e,["chunkingConfig"],f),o}function vE(t){const e={},o=a(t,["fileSearchStoreName"]);o!=null&&u(e,["_url","file_search_store_name"],o);const i=a(t,["config"]);return i!=null&&_p(i,e),e}function SE(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}const EE="Content-Type",_E="X-Server-Timeout",TE="User-Agent",bl="x-goog-api-client",CE="1.35.0",xE=`google-genai-sdk/${CE}`,wE="v1beta1",IE="v1beta";class AE{constructor(e){var o,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:wE,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:IE,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,i){const l=[this.getRequestUrlInternal(o)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,i);if(e.queryParams)for(const[f,p]of Object.entries(e.queryParams))l.searchParams.append(f,String(p));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,l.toString(),e.abortSignal),this.unaryApiCall(l,c,e.httpMethod)}patchHttpOptions(e,o){const i=JSON.parse(JSON.stringify(e));for(const[l,c]of Object.entries(o))typeof c=="object"?i[l]=Object.assign(Object.assign({},i[l]),c):c!==void 0&&(i[l]=c);return i}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,l.toString(),e.abortSignal),this.streamApiCall(l,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,i,l){if(o&&o.timeout||l){const c=new AbortController,f=c.signal;if(o.timeout&&o?.timeout>0){const p=setTimeout(()=>c.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),e.signal=f}return o&&o.extraBody!==null&&NE(e,o.extraBody),e.headers=await this.getHeadersInternal(o,i),e}async unaryApiCall(e,o,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:i})).then(async l=>(await Uf(l),new ql(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,o,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:i})).then(async l=>(await Uf(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){return Nt(this,arguments,function*(){var i;const l=(i=e?.body)===null||i===void 0?void 0:i.getReader(),c=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let f="";const p="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield le(l.read());if(h){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=c.decode(v,{stream:!0});try{const k=JSON.parse(E);if("error"in k){const D=JSON.parse(JSON.stringify(k.error)),R=D.status,L=D.code,$=`got status: ${R}. ${JSON.stringify(k)}`;if(L>=400&&L<600)throw new Ri({message:$,status:L})}}catch(k){if(k.name==="ApiError")throw k}f+=E;let S=-1,x=0;for(;;){S=-1,x=0;for(const R of g){const L=f.indexOf(R);L!==-1&&(S===-1||L<S)&&(S=L,x=R.length)}if(S===-1)break;const k=f.substring(0,S);f=f.substring(S+x);const D=k.trim();if(D.startsWith(p)){const R=D.substring(p.length).trim();try{const L=new Response(R,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield le(new ql(L))}catch(L){throw new Error(`exception parsing stream chunk ${R}. ${L}`)}}}}}finally{l.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},o=xE+" "+this.clientOptions.userAgentExtra;return e[TE]=o,e[bl]=o,e[EE]="application/json",e}async getHeadersInternal(e,o){const i=new Headers;if(e&&e.headers){for(const[l,c]of Object.entries(e.headers))i.append(l,c);e.timeout&&e.timeout>0&&i.append(_E,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,o),i}getFileName(e){var o;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(o=i.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),i}async uploadFile(e,o){var i;const l={};o!=null&&(l.mimeType=o.mimeType,l.name=o.name,l.displayName=o.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const c=this.clientOptions.uploader,f=await c.stat(e);l.sizeBytes=String(f.size);const p=(i=o?.mimeType)!==null&&i!==void 0?i:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=p;const g={file:l},h=this.getFileName(e),v=J("upload/v1beta/files",g._url),E=await this.fetchUploadUrl(v,l.sizeBytes,l.mimeType,h,g,o?.httpOptions);return c.upload(e,E,this)}async uploadFileToFileSearchStore(e,o,i){var l;const c=this.clientOptions.uploader,f=await c.stat(o),p=String(f.size),g=(l=i?.mimeType)!==null&&l!==void 0?l:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),E={};i!=null&&_p(i,E);const S=await this.fetchUploadUrl(h,p,g,v,E,i?.httpOptions);return c.uploadToFileSearchStore(o,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,i,l,c,f){var p;let g={};f?g=f:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${i}`},l?{"X-Goog-Upload-File-Name":l}:{})};const h=await this.request({path:e,body:JSON.stringify(c),httpMethod:"POST",httpOptions:g});if(!h||!h?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=h?.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Uf(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const o=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(i);throw o>=400&&o<600?new Ri({message:l,status:o}):new Error(l)}}function NE(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(c,f){const p=Object.assign({},c);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g)){const h=f[g],v=p[g];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?p[g]=i(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),p[g]=h)}return p}const l=i(o,e);t.body=JSON.stringify(l)}const RE="mcp_used/unknown";let kE=!1;function Tp(t){for(const e of t)if(PE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return kE}function Cp(t){var e;const o=(e=t[bl])!==null&&e!==void 0?e:"";t[bl]=(o+` ${RE}`).trimStart()}function PE(t){return t!==null&&typeof t=="object"&&t instanceof ca}function ME(t){return Nt(this,arguments,function*(o,i=100){let l,c=0;for(;c<i;){const f=yield le(o.listTools({cursor:l}));for(const p of f.tools)yield yield le(p),c++;if(!f.nextCursor)break;l=f.nextCursor}})}class ca{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new ca(e,o)}async initialize(){var e,o,i,l;if(this.mcpTools.length>0)return;const c={},f=[];for(const v of this.mcpClients)try{for(var p=!0,g=(o=void 0,Rt(ME(v))),h;h=await g.next(),e=h.done,!e;p=!0){l=h.value,p=!1;const E=l;f.push(E);const S=E.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=v}}catch(E){o={error:E}}finally{try{!p&&!e&&(i=g.return)&&await i.call(g)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),cy(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await l.callTool({name:i.name,arguments:i.args},void 0,c);o.push({functionResponse:{name:i.name,response:f.isError?{error:f}:f}})}return o}}async function DE(t,e,o){const i=new ny;let l;o.data instanceof Blob?l=JSON.parse(await o.data.text()):l=JSON.parse(o.data),Object.assign(i,l),e(i)}class LE{constructor(e,o,i){this.apiClient=e,this.auth=o,this.webSocketFactory=i}async connect(e){var o,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=VE(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),g=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${p}`;let h=()=>{};const v=new Promise(B=>{h=B}),E=e.callbacks,S=function(){h({})},x=this.apiClient,k={onopen:S,onmessage:B=>{DE(x,E.onmessage,B)},onerror:(o=E?.onerror)!==null&&o!==void 0?o:function(B){},onclose:(i=E?.onclose)!==null&&i!==void 0?i:function(B){}},D=this.webSocketFactory.create(g,FE(f),k);D.connect(),await v;const $={setup:{model:ve(this.apiClient,e.model)}};return D.send(JSON.stringify($)),new UE(D,this.apiClient)}}class UE{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=l0(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=s0(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(oo.PLAY)}pause(){this.sendPlaybackControl(oo.PAUSE)}stop(){this.sendPlaybackControl(oo.STOP)}resetContext(){this.sendPlaybackControl(oo.RESET_CONTEXT)}close(){this.conn.close()}}function FE(t){const e={};return t.forEach((o,i)=>{e[i]=o}),e}function VE(t){const e=new Headers;for(const[o,i]of Object.entries(t))e.append(o,i);return e}const GE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function HE(t,e,o){const i=new ty;let l;o.data instanceof Blob?l=await o.data.text():o.data instanceof ArrayBuffer?l=new TextDecoder().decode(o.data):l=o.data;const c=JSON.parse(l);if(t.isVertexAI()){const f=c0(c);Object.assign(i,f)}else Object.assign(i,c);e(i)}class qE{constructor(e,o,i){this.apiClient=e,this.auth=o,this.webSocketFactory=i,this.music=new LE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,i,l,c,f,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&Tp(e.config.tools)&&Cp(E);const S=JE(E);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const ee=this.apiClient.getApiKey();let ae="BidiGenerateContent",_e="key";ee?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",_e="access_token"),v=`${g}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ae}?${_e}=${ee}`}let x=()=>{};const k=new Promise(ee=>{x=ee}),D=e.callbacks,R=function(){var ee;(ee=D?.onopen)===null||ee===void 0||ee.call(D),x({})},L=this.apiClient,$={onopen:R,onmessage:ee=>{HE(L,D.onmessage,ee)},onerror:(o=D?.onerror)!==null&&o!==void 0?o:function(ee){},onclose:(i=D?.onclose)!==null&&i!==void 0?i:function(ee){}},B=this.webSocketFactory.create(v,$E(S),$);B.connect(),await k;let H=ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const ee=this.apiClient.getProject(),ae=this.apiClient.getLocation();H=`projects/${ee}/locations/${ae}/`+H}let Y={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[_i.AUDIO]}:e.config.responseModalities=[_i.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(p=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],ne=[];for(const ee of W)if(this.isCallableTool(ee)){const ae=ee;ne.push(await ae.tool())}else ne.push(ee);ne.length>0&&(e.config.tools=ne);const pe={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=i0(this.apiClient,pe):Y=r0(this.apiClient,pe),delete Y.config,B.send(JSON.stringify(Y)),new zE(B,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const BE={turnComplete:!0};class zE{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let i=[];try{i=St(o.turns),e.isVertexAI()||(i=i.map(l=>ki(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:i,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let i=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?i=o.functionResponses:i=[o.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const c of i){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(GE)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},BE),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:u0(e)}:o={realtimeInput:a0(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function $E(t){const e={};return t.forEach((o,i)=>{e[i]=o}),e}function JE(t){const e=new Headers;for(const[o,i]of Object.entries(t))e.append(o,i);return e}const Ff=10;function Vf(t){var e,o,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const f of(o=t?.tools)!==null&&o!==void 0?o:[])if(so(f)){l=!0;break}if(!l)return!0;const c=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function so(t){return"callTool"in t&&typeof t.callTool=="function"}function bE(t){var e,o,i;return(i=(o=(e=t.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(l=>so(l)))!==null&&i!==void 0?i:!1}function Gf(t){var e;const o=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,l)=>{if(so(i))return;const c=i;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(l)}),o}function Hf(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class OE extends bt{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var i,l,c,f,p;const g=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!bE(o)||Vf(o.config))return await this.generateContentInternal(g);const h=Gf(o);if(h.length>0){const D=h.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${D}.`)}let v,E;const S=St(g.contents),x=(c=(l=(i=g.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:Ff;let k=0;for(;k<x&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const D=v.candidates[0].content,R=[];for(const L of(p=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(so(L)){const B=await L.callTool(v.functionCalls);R.push(...B)}k++,E={role:"user",parts:R},g.contents=St(g.contents),g.contents.push(D),g.contents.push(E),Hf(g.config)&&(S.push(D),S.push(E))}return Hf(g.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async o=>{var i,l,c,f,p;if(this.maybeMoveToResponseJsonSchem(o),Vf(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const g=Gf(o);if(g.length>0){const E=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(l=(i=o?.config)===null||i===void 0?void 0:i.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(p=(f=o?.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(i=>{var l;let c;const f=[];if(i?.generatedImages)for(const g of i.generatedImages)g&&g?.safetyAttributes&&((l=g?.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?c=g?.safetyAttributes:f.push(g);let p;return c?p={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:i.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:i.sdkHttpResponse},p}),this.list=async o=>{var i;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((i=f.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new kn(Jt.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async o=>{const i={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(i.referenceImages=o.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async o=>{let i={numberOfImages:1,mode:"upscale"};o.config&&(i=Object.assign(Object.assign({},i),o.config));const l={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:i};return await this.upscaleImageInternal(l)},this.generateVideos=async o=>{var i,l,c,f,p,g;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=o.video)===null||i===void 0)&&i.uri&&(!((l=o.video)===null||l===void 0)&&l.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(c=o.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((g=(p=o.source)===null||p===void 0?void 0:p.video)===null||g===void 0)&&g.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,i,l;const c=(o=e.config)===null||o===void 0?void 0:o.tools;if(!c)return e;const f=await Promise.all(c.map(async g=>so(g)?await g.tool():g)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(p.config.tools=f,e.config&&e.config.tools&&Tp(e.config.tools)){const g=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let h=Object.assign({},g);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Cp(h),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return p}async initAfcToolsMap(e){var o,i,l;const c=new Map;for(const f of(i=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&i!==void 0?i:[])if(so(f)){const p=f,g=await p.tool();for(const h of(l=g.functionDeclarations)!==null&&l!==void 0?l:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,p)}}return c}async processAfcStream(e){var o,i,l;const c=(l=(i=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Ff;let f=!1,p=0;const g=await this.initAfcToolsMap(e);return(function(h,v,E){return Nt(this,arguments,function*(){for(var S,x,k,D,R,L;p<c;){f&&(p++,f=!1);const Y=yield le(h.processParamsMaybeAddMcpUsage(E)),W=yield le(h.generateContentStreamInternal(Y)),ne=[],pe=[];try{for(var $=!0,B=(x=void 0,Rt(W)),H;H=yield le(B.next()),S=H.done,!S;$=!0){D=H.value,$=!1;const ee=D;if(yield yield le(ee),ee.candidates&&(!((R=ee.candidates[0])===null||R===void 0)&&R.content)){pe.push(ee.candidates[0].content);for(const ae of(L=ee.candidates[0].content.parts)!==null&&L!==void 0?L:[])if(p<c&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ae.functionCall.name)){const _e=yield le(v.get(ae.functionCall.name).callTool([ae.functionCall]));ne.push(..._e)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(ee){x={error:ee}}finally{try{!$&&!S&&(k=B.return)&&(yield le(k.call(B)))}finally{if(x)throw x.error}}if(ne.length>0){f=!0;const ee=new Xo;ee.candidates=[{content:{role:"user",parts:ne}}],yield yield le(ee);const ae=[];ae.push(...pe),ae.push({role:"user",parts:ne});const _e=St(E.contents).concat(ae);E.contents=_e}else break}})})(this,g,e)}async generateContentInternal(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=Mf(this.apiClient,e);return p=J("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Lf(v),S=new Xo;return Object.assign(S,E),S})}else{const h=Pf(this.apiClient,e);return p=J("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=Df(v),S=new Xo;return Object.assign(S,E),S})}}async generateContentStreamInternal(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=Mf(this.apiClient,e);return p=J("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),f.then(function(E){return Nt(this,arguments,function*(){var S,x,k,D;try{for(var R=!0,L=Rt(E),$;$=yield le(L.next()),S=$.done,!S;R=!0){D=$.value,R=!1;const B=D,H=Lf(yield le(B.json()));H.sdkHttpResponse={headers:B.headers};const Y=new Xo;Object.assign(Y,H),yield yield le(Y)}}catch(B){x={error:B}}finally{try{!R&&!S&&(k=L.return)&&(yield le(k.call(L)))}finally{if(x)throw x.error}}})})}else{const h=Pf(this.apiClient,e);return p=J("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(E){return Nt(this,arguments,function*(){var S,x,k,D;try{for(var R=!0,L=Rt(E),$;$=yield le(L.next()),S=$.done,!S;R=!0){D=$.value,R=!1;const B=D,H=Df(yield le(B.json()));H.sdkHttpResponse={headers:B.headers};const Y=new Xo;Object.assign(Y,H),yield yield le(Y)}}catch(B){x={error:B}}finally{try{!R&&!S&&(k=L.return)&&(yield le(k.call(L)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=q0(this.apiClient,e);return p=J("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=z0(v),S=new mf;return Object.assign(S,E),S})}else{const h=H0(this.apiClient,e);return p=J("{model}:batchEmbedContents",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=B0(v),S=new mf;return Object.assign(S,E),S})}}async generateImagesInternal(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=j0(this.apiClient,e);return p=J("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=tS(v),S=new hf;return Object.assign(S,E),S})}else{const h=Z0(this.apiClient,e);return p=J("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=eS(v),S=new hf;return Object.assign(S,E),S})}}async editImageInternal(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=U0(this.apiClient,e);return c=J("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const h=F0(g),v=new Jg;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=jS(this.apiClient,e);return c=J("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const h=eE(g),v=new bg;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=LS(this.apiClient,e);return c=J("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const h=US(g),v=new Og;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=BS(this.apiClient,e);return c=J("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const h=zS(g),v=new Wg;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=vS(this.apiClient,e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>Jl(v))}else{const h=yS(this.apiClient,e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>$l(v))}}async listInternal(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=AS(this.apiClient,e);return p=J("{models_url}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=RS(v),S=new gf;return Object.assign(S,E),S})}else{const h=IS(this.apiClient,e);return p=J("{models_url}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=NS(v),S=new gf;return Object.assign(S,E),S})}}async update(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=XS(this.apiClient,e);return p=J("{model}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>Jl(v))}else{const h=QS(this.apiClient,e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>$l(v))}}async delete(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=P0(this.apiClient,e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=D0(v),S=new yf;return Object.assign(S,E),S})}else{const h=k0(this.apiClient,e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=M0(v),S=new yf;return Object.assign(S,E),S})}}async countTokens(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=A0(this.apiClient,e);return p=J("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=R0(v),S=new vf;return Object.assign(S,E),S})}else{const h=I0(this.apiClient,e);return p=J("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=N0(v),S=new vf;return Object.assign(S,E),S})}}async computeTokens(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=S0(this.apiClient,e);return c=J("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const h=E0(g),v=new Kg;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=lS(this.apiClient,e);return p=J("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>{const E=iS(v),S=new Ti;return Object.assign(S,E),S})}else{const h=sS(this.apiClient,e);return p=J("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>{const E=rS(v),S=new Ti;return Object.assign(S,E),S})}}}class WE extends bt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,i=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:i});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const o=e.operation,i=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:i});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=Gg(e);return p=J("{operationName}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f}else{const h=Vg(e);return p=J("{operationName}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=kg(e);return c=J("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}function KE(t){const e={},o=a(t,["data"]);if(o!=null&&u(e,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function YE(t){const e={},o=a(t,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>r_(c))),u(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function QE(t,e,o){const i={},l=a(e,["expireTime"]);o!==void 0&&l!=null&&u(o,["expireTime"],l);const c=a(e,["newSessionExpireTime"]);o!==void 0&&c!=null&&u(o,["newSessionExpireTime"],c);const f=a(e,["uses"]);o!==void 0&&f!=null&&u(o,["uses"],f);const p=a(e,["liveConnectConstraints"]);o!==void 0&&p!=null&&u(o,["bidiGenerateContentSetup"],o_(t,p));const g=a(e,["lockAdditionalFields"]);return o!==void 0&&g!=null&&u(o,["fieldMask"],g),i}function XE(t,e){const o={},i=a(e,["config"]);return i!=null&&u(o,["config"],QE(t,i,o)),o}function ZE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function jE(t){const e={},o=a(t,["id"]);o!=null&&u(e,["id"],o);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const l=a(t,["name"]);if(l!=null&&u(e,["name"],l),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function e_(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=a(t,["enableWidget"]);return o!=null&&u(e,["enableWidget"],o),e}function t_(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=a(t,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],o),e}function n_(t,e){const o={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","responseModalities"],l);const c=a(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=a(t,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const p=a(t,["topK"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topK"],p);const g=a(t,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const h=a(t,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const v=a(t,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const E=a(t,["speechConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","speechConfig"],ua(E));const S=a(t,["thinkingConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","thinkingConfig"],S);const x=a(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],x);const k=a(t,["systemInstruction"]);e!==void 0&&k!=null&&u(e,["setup","systemInstruction"],YE(Qe(k)));const D=a(t,["tools"]);if(e!==void 0&&D!=null){let W=ao(D);Array.isArray(W)&&(W=W.map(ne=>s_(lo(ne)))),u(e,["setup","tools"],W)}const R=a(t,["sessionResumption"]);e!==void 0&&R!=null&&u(e,["setup","sessionResumption"],i_(R));const L=a(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&u(e,["setup","inputAudioTranscription"],L);const $=a(t,["outputAudioTranscription"]);e!==void 0&&$!=null&&u(e,["setup","outputAudioTranscription"],$);const B=a(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&u(e,["setup","realtimeInputConfig"],B);const H=a(t,["contextWindowCompression"]);e!==void 0&&H!=null&&u(e,["setup","contextWindowCompression"],H);const Y=a(t,["proactivity"]);if(e!==void 0&&Y!=null&&u(e,["setup","proactivity"],Y),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function o_(t,e){const o={},i=a(e,["model"]);i!=null&&u(o,["setup","model"],ve(t,i));const l=a(e,["config"]);return l!=null&&u(o,["config"],n_(l,o)),o}function r_(t){const e={},o=a(t,["mediaResolution"]);o!=null&&u(e,["mediaResolution"],o);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const l=a(t,["executableCode"]);l!=null&&u(e,["executableCode"],l);const c=a(t,["fileData"]);c!=null&&u(e,["fileData"],ZE(c));const f=a(t,["functionCall"]);f!=null&&u(e,["functionCall"],jE(f));const p=a(t,["functionResponse"]);p!=null&&u(e,["functionResponse"],p);const g=a(t,["inlineData"]);g!=null&&u(e,["inlineData"],KE(g));const h=a(t,["text"]);h!=null&&u(e,["text"],h);const v=a(t,["thought"]);v!=null&&u(e,["thought"],v);const E=a(t,["thoughtSignature"]);E!=null&&u(e,["thoughtSignature"],E);const S=a(t,["videoMetadata"]);return S!=null&&u(e,["videoMetadata"],S),e}function i_(t){const e={},o=a(t,["handle"]);if(o!=null&&u(e,["handle"],o),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function s_(t){const e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const l=a(t,["codeExecution"]);if(l!=null&&u(e,["codeExecution"],l),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=a(t,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),u(e,["functionDeclarations"],v)}const f=a(t,["googleMaps"]);f!=null&&u(e,["googleMaps"],e_(f));const p=a(t,["googleSearch"]);p!=null&&u(e,["googleSearch"],t_(p));const g=a(t,["googleSearchRetrieval"]);g!=null&&u(e,["googleSearchRetrieval"],g);const h=a(t,["urlContext"]);return h!=null&&u(e,["urlContext"],h),e}function l_(t){const e=[];for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const i=t[o];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(c=>`${o}.${c}`);e.push(...l)}else e.push(o)}return e.join(",")}function a_(t,e){let o=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const c=i.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,o=c):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(o){const c=l_(o);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)c?t.fieldMask=c:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];l.length>0&&(p=l.map(h=>f.includes(h)?`generationConfig.${h}`:h));const g=[];c&&g.push(c),p.length>0&&g.push(...p),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class u_ extends bt{constructor(e){super(),this.apiClient=e}async create(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=XE(this.apiClient,e);c=J("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const g=a_(p,e.config);return l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),l.then(h=>h)}}}function c_(t,e){const o={},i=a(t,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),o}function d_(t){const e={},o=a(t,["name"]);o!=null&&u(e,["_url","name"],o);const i=a(t,["config"]);return i!=null&&c_(i,e),e}function f_(t){const e={},o=a(t,["name"]);return o!=null&&u(e,["_url","name"],o),e}function p_(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),o}function m_(t){const e={},o=a(t,["parent"]);o!=null&&u(e,["_url","parent"],o);const i=a(t,["config"]);return i!=null&&p_(i,e),e}function h_(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const l=a(t,["documents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["documents"],c)}return e}class g_ extends bt{constructor(e){super(),this.apiClient=e,this.list=async o=>new kn(Jt.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:o.parent,config:i.config}),await this.listInternal(o),o)}async get(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=f_(e);return c=J("{name}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var o,i;let l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=d_(e);l=J("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=m_(e);return c=J("{parent}/documents",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const h=h_(g),v=new Yg;return Object.assign(v,h),v})}}}class y_ extends bt{constructor(e,o=new g_(e)){super(),this.apiClient=e,this.documents=o,this.list=async(i={})=>new kn(Jt.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=lE(e);return c=J("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async get(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=cE(e);return c=J("{name}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var o,i;let l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=uE(e);l=J("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=gE(e);return c=J("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const h=yE(g),v=new Qg;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=vE(e);return c=J("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const h=SE(g),v=new Xg;return Object.assign(v,h),v})}}async importFile(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pE(e);return c=J("{file_search_store_name}:importFile",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const h=fE(g),v=new ra;return Object.assign(v,h),v})}}}let xp=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return xp=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),o=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^o()&15>>+i/4).toString(16))};const v_=()=>xp();function Ol(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Wl=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Et extends Error{}class tt extends Et{constructor(e,o,i,l){super(`${tt.makeMessage(e,o,i)}`),this.status=e,this.headers=l,this.error=o}static makeMessage(e,o,i){const l=o?.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):i;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,o,i,l){if(!e||!l)return new Di({message:i,cause:Wl(o)});const c=o;return e===400?new Ip(e,c,i,l):e===401?new Ap(e,c,i,l):e===403?new Np(e,c,i,l):e===404?new Rp(e,c,i,l):e===409?new kp(e,c,i,l):e===422?new Pp(e,c,i,l):e===429?new Mp(e,c,i,l):e>=500?new Dp(e,c,i,l):new tt(e,c,i,l)}}class Kl extends tt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Di extends tt{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class wp extends Di{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Ip extends tt{}class Ap extends tt{}class Np extends tt{}class Rp extends tt{}class kp extends tt{}class Pp extends tt{}class Mp extends tt{}class Dp extends tt{}const S_=/^[a-z][a-z0-9+.-]*:/i,E_=t=>S_.test(t);let Yl=t=>(Yl=Array.isArray,Yl(t));const __=Yl;let T_=__;const qf=T_;function C_(t){if(!t)return!0;for(const e in t)return!1;return!0}function x_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const w_=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Et(`${t} must be an integer`);if(e<0)throw new Et(`${t} must be a positive integer`);return e},I_=t=>{try{return JSON.parse(t)}catch{return}};const A_=t=>new Promise(e=>setTimeout(e,t));const no="0.0.1";function N_(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const R_=()=>{var t,e,o,i,l;const c=N_();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":zf(Deno.build.os),"X-Stainless-Arch":Bf(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":zf((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Bf((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const f=k_();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function k_(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of t){const i=o.exec(navigator.userAgent);if(i){const l=i[1]||0,c=i[2]||0,f=i[3]||0;return{browser:e,version:`${l}.${c}.${f}`}}}return null}const Bf=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",zf=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let di;const P_=()=>di??(di=R_());function M_(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Lp(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function D_(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Lp({start(){},async pull(o){const{done:i,value:l}=await e.next();i?o.close():o.enqueue(l)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function Up(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const o=await e.read();return o?.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function L_(t){var e,o;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((o=(e=t[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const i=t.getReader(),l=i.cancel();i.releaseLock(),await l}const U_=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const Fp=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ul(t,e,o){return Fp(),new File(t,e??"unknown_file",o)}function F_(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const V_=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const Vp=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",G_=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Vp(t),H_=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function q_(t,e,o){if(Fp(),t=await t,G_(t))return t instanceof File?t:Ul([await t.arrayBuffer()],t.name);if(H_(t)){const l=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Ul(await Ql(l),e,o)}const i=await Ql(t);if(e||(e=F_(t)),!o?.type){const l=i.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof l=="string"&&(o=Object.assign(Object.assign({},o),{type:l}))}return Ul(i,e,o)}async function Ql(t){var e,o,i,l,c;let f=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)f.push(t);else if(Vp(t))f.push(t instanceof Blob?t:await t.arrayBuffer());else if(V_(t))try{for(var p=!0,g=Rt(t),h;h=await g.next(),e=h.done,!e;p=!0){l=h.value,p=!1;const v=l;f.push(...await Ql(v))}}catch(v){o={error:v}}finally{try{!p&&!e&&(i=g.return)&&await i.call(g)}finally{if(o)throw o.error}}else{const v=(c=t?.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${B_(t)}`)}return f}function B_(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(o=>`"${o}"`).join(", ")}]`}class Gp{constructor(e){this._client=e}}Gp._key=[];function Hp(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const $f=Object.freeze(Object.create(null)),z_=(t=Hp)=>(function(o,...i){if(o.length===1)return o[0];let l=!1;const c=[],f=o.reduce((v,E,S)=>{var x,k,D;/[?#]/.test(E)&&(l=!0);const R=i[S];let L=(l?encodeURIComponent:t)(""+R);return S!==i.length&&(R==null||typeof R=="object"&&R.toString===((D=Object.getPrototypeOf((k=Object.getPrototypeOf((x=R.hasOwnProperty)!==null&&x!==void 0?x:$f))!==null&&k!==void 0?k:$f))===null||D===void 0?void 0:D.toString))&&(L=R+"",c.push({start:v.length+E.length,length:L.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),v+E+(S===i.length?"":L)},""),p=f.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=g.exec(p))!==null;)c.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(c.sort((v,E)=>v.start-E.start),c.length>0){let v=0;const E=c.reduce((S,x)=>{const k=" ".repeat(x.start-v),D="^".repeat(x.length);return v=x.start+x.length,S+k+D},"");throw new Et(`Path parameters result in path with invalid segments:
${c.map(S=>S.error).join(`
`)}
${f}
${E}`)}return f}),fi=z_(Hp);class qp extends Gp{create(e,o){var i;const{api_version:l=this._client.apiVersion}=e,c=xi(e,["api_version"]);if("model"in c&&"agent_config"in c)throw new Et("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Et("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(fi`/${l}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,o={},i){const{api_version:l=this._client.apiVersion}=o??{};return this._client.delete(fi`/${l}/interactions/${e}`,i)}cancel(e,o={},i){const{api_version:l=this._client.apiVersion}=o??{};return this._client.post(fi`/${l}/interactions/${e}/cancel`,i)}get(e,o={},i){var l;const c=o??{},{api_version:f=this._client.apiVersion}=c,p=xi(c,["api_version"]);return this._client.get(fi`/${f}/interactions/${e}`,Object.assign(Object.assign({query:p},i),{stream:(l=o?.stream)!==null&&l!==void 0?l:!1}))}}qp._key=Object.freeze(["interactions"]);class Bp extends qp{}function $_(t){let e=0;for(const l of t)e+=l.length;const o=new Uint8Array(e);let i=0;for(const l of t)o.set(l,i),i+=l.length;return o}let pi;function da(t){let e;return(pi??(e=new globalThis.TextEncoder,pi=e.encode.bind(e)))(t)}let mi;function Jf(t){let e;return(mi??(e=new globalThis.TextDecoder,mi=e.decode.bind(e)))(t)}class Li{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?da(e):e;this.buffer=$_([this.buffer,o]);const i=[];let l;for(;(l=J_(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){i.push(Jf(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,f=Jf(this.buffer.subarray(0,c));i.push(f),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Li.NEWLINE_CHARS=new Set([`
`,"\r"]);Li.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function J_(t,e){for(let l=e??0;l<t.length;l++){if(t[l]===10)return{preceding:l,index:l+1,carriage:!1};if(t[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function b_(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const wi={off:0,error:200,warn:300,info:400,debug:500},bf=(t,e,o)=>{if(t){if(x_(wi,t))return t;et(o).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(wi))}`)}};function jo(){}function hi(t,e,o){return!e||wi[t]>wi[o]?jo:e[t].bind(e)}const O_={error:jo,warn:jo,info:jo,debug:jo};let Of=new WeakMap;function et(t){var e;const o=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!o)return O_;const l=Of.get(o);if(l&&l[0]===i)return l[1];const c={error:hi("error",o,i),warn:hi("warn",o,i),info:hi("info",o,i),debug:hi("debug",o,i)};return Of.set(o,[i,c]),c}const Rn=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);class ro{constructor(e,o,i){this.iterator=e,this.controller=o,this.client=i}static fromSSEResponse(e,o,i){let l=!1;const c=i?et(i):console;function f(){return Nt(this,arguments,function*(){var g,h,v,E;if(l)throw new Et("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let S=!1;try{try{for(var x=!0,k=Rt(W_(e,o)),D;D=yield le(k.next()),g=D.done,!g;x=!0){E=D.value,x=!1;const R=E;if(!S)if(R.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield le(JSON.parse(R.data))}catch(L){throw c.error("Could not parse message into JSON:",R.data),c.error("From chunk:",R.raw),L}}}catch(R){h={error:R}}finally{try{!x&&!g&&(v=k.return)&&(yield le(v.call(k)))}finally{if(h)throw h.error}}S=!0}catch(R){if(Ol(R))return yield le(void 0);throw R}finally{S||o.abort()}})}return new ro(f,o,i)}static fromReadableStream(e,o,i){let l=!1;function c(){return Nt(this,arguments,function*(){var g,h,v,E;const S=new Li,x=Up(e);try{for(var k=!0,D=Rt(x),R;R=yield le(D.next()),g=R.done,!g;k=!0){E=R.value,k=!1;const L=E;for(const $ of S.decode(L))yield yield le($)}}catch(L){h={error:L}}finally{try{!k&&!g&&(v=D.return)&&(yield le(v.call(D)))}finally{if(h)throw h.error}}for(const L of S.flush())yield yield le(L)})}function f(){return Nt(this,arguments,function*(){var g,h,v,E;if(l)throw new Et("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let S=!1;try{try{for(var x=!0,k=Rt(c()),D;D=yield le(k.next()),g=D.done,!g;x=!0){E=D.value,x=!1;const R=E;S||R&&(yield yield le(JSON.parse(R)))}}catch(R){h={error:R}}finally{try{!x&&!g&&(v=k.return)&&(yield le(v.call(k)))}finally{if(h)throw h.error}}S=!0}catch(R){if(Ol(R))return yield le(void 0);throw R}finally{S||o.abort()}})}return new ro(f,o,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],i=this.iterator(),l=c=>({next:()=>{if(c.length===0){const f=i.next();e.push(f),o.push(f)}return c.shift()}});return[new ro(()=>l(e),this.controller,this.client),new ro(()=>l(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return Lp({async start(){o=e[Symbol.asyncIterator]()},async pull(i){try{const{value:l,done:c}=await o.next();if(c)return i.close();const f=da(JSON.stringify(l)+`
`);i.enqueue(f)}catch(l){i.error(l)}},async cancel(){var i;await((i=o.return)===null||i===void 0?void 0:i.call(o))}})}}function W_(t,e){return Nt(this,arguments,function*(){var i,l,c,f;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Et("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Et("Attempted to iterate over a response with no body");const p=new Y_,g=new Li,h=Up(t.body);try{for(var v=!0,E=Rt(K_(h)),S;S=yield le(E.next()),i=S.done,!i;v=!0){f=S.value,v=!1;const x=f;for(const k of g.decode(x)){const D=p.decode(k);D&&(yield yield le(D))}}}catch(x){l={error:x}}finally{try{!v&&!i&&(c=E.return)&&(yield le(c.call(E)))}finally{if(l)throw l.error}}for(const x of g.flush()){const k=p.decode(x);k&&(yield yield le(k))}})}function K_(t){return Nt(this,arguments,function*(){var o,i,l,c;let f=new Uint8Array;try{for(var p=!0,g=Rt(t),h;h=yield le(g.next()),o=h.done,!o;p=!0){c=h.value,p=!1;const v=c;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?da(v):v;let S=new Uint8Array(f.length+E.length);S.set(f),S.set(E,f.length),f=S;let x;for(;(x=b_(f))!==-1;)yield yield le(f.slice(0,x)),f=f.slice(x)}}catch(v){i={error:v}}finally{try{!p&&!o&&(l=g.return)&&(yield le(l.call(g)))}finally{if(i)throw i.error}}f.length>0&&(yield yield le(f))})}class Y_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,i,l]=Q_(e,":");return l.startsWith(" ")&&(l=l.substring(1)),o==="event"?this.event=l:o==="data"&&this.data.push(l),null}}function Q_(t,e){const o=t.indexOf(e);return o!==-1?[t.substring(0,o),e,t.substring(o+e.length)]:[t,"",""]}async function X_(t,e){const{response:o,requestLogID:i,retryOfRequestLogID:l,startTime:c}=e,f=await(async()=>{var p;if(e.options.stream)return et(t).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,t):ro.fromSSEResponse(o,e.controller,t);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const g=o.headers.get("content-type"),h=(p=g?.split(";")[0])===null||p===void 0?void 0:p.trim();return h?.includes("application/json")||h?.endsWith("+json")?await o.json():await o.text()})();return et(t).debug(`[${i}] response parsed`,Rn({retryOfRequestLogID:l,url:o.url,status:o.status,body:f,durationMs:Date.now()-c})),f}class fa extends Promise{constructor(e,o,i=X_){super(l=>{l(null)}),this.responsePromise=o,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new fa(this.client,this.responsePromise,async(o,i)=>e(await this.parseResponse(o,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const zp=Symbol("brand.privateNullableHeaders");function*Z_(t){if(!t)return;if(zp in t){const{values:i,nulls:l}=t;yield*i.entries();for(const c of l)yield[c,null];return}let e=!1,o;t instanceof Headers?o=t.entries():qf(t)?o=t:(e=!0,o=Object.entries(t??{}));for(let i of o){const l=i[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const c=qf(i[1])?i[1]:[i[1]];let f=!1;for(const p of c)p!==void 0&&(e&&!f&&(f=!0,yield[l,null]),yield[l,p])}}const Zo=t=>{const e=new Headers,o=new Set;for(const i of t){const l=new Set;for(const[c,f]of Z_(i)){const p=c.toLowerCase();l.has(p)||(e.delete(c),l.add(p)),f===null?(e.delete(c),o.add(p)):(e.append(c,f),o.delete(p))}}return{[zp]:!0,values:e,nulls:o}};const Fl=t=>{var e,o,i,l,c,f;if(typeof globalThis.process<"u")return(i=(o=(e=xg)===null||e===void 0?void 0:e[t])===null||o===void 0?void 0:o.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(f=(c=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||c===void 0?void 0:c.call(l,t))===null||f===void 0?void 0:f.trim()};var $p;class Ui{constructor(e){var o,i,l,c,f,p,g,{baseURL:h=Fl("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Fl("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:E="v1beta"}=e,S=xi(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:v,apiVersion:E},S),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(i=x.timeout)!==null&&i!==void 0?i:Ui.DEFAULT_TIMEOUT,this.logger=(l=x.logger)!==null&&l!==void 0?l:console;const k="warn";this.logLevel=k,this.logLevel=(f=(c=bf(x.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:bf(Fl("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:k,this.fetchOptions=x.fetchOptions,this.maxRetries=(p=x.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(g=x.fetch)!==null&&g!==void 0?g:M_(),this.encoder=U_,this._options=x,this.apiKey=v,this.apiVersion=E,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=Zo([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Zo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Zo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,i])=>typeof i<"u").map(([o,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(o)}=`;throw new Et(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${no}`}defaultIdempotencyKey(){return`stainless-node-retry-${v_()}`}makeStatusError(e,o,i,l){return tt.generate(e,o,i,l)}buildURL(e,o,i){const l=!this.baseURLOverridden()&&i||this.baseURL,c=E_(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return C_(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:i}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,i){return this.request(Promise.resolve(i).then(l=>Object.assign({method:e,path:o},l)))}request(e,o=null){return new fa(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,i){var l,c,f;const p=await e,g=(l=p.maxRetries)!==null&&l!==void 0?l:this.maxRetries;o==null&&(o=g),await this.prepareOptions(p);const{req:h,url:v,timeout:E}=await this.buildRequest(p,{retryCount:g-o});await this.prepareRequest(h,{url:v,options:p});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=i===void 0?"":`, retryOf: ${i}`,k=Date.now();if(et(this).debug(`[${S}] sending request`,Rn({retryOfRequestLogID:i,method:p.method,url:v,options:p,headers:h.headers})),!((c=p.signal)===null||c===void 0)&&c.aborted)throw new Kl;const D=new AbortController,R=await this.fetchWithTimeout(v,h,E,D).catch(Wl),L=Date.now();if(R instanceof globalThis.Error){const B=`retrying, ${o} attempts remaining`;if(!((f=p.signal)===null||f===void 0)&&f.aborted)throw new Kl;const H=Ol(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(o)return et(this).info(`[${S}] connection ${H?"timed out":"failed"} - ${B}`),et(this).debug(`[${S}] connection ${H?"timed out":"failed"} (${B})`,Rn({retryOfRequestLogID:i,url:v,durationMs:L-k,message:R.message})),this.retryRequest(p,o,i??S);throw et(this).info(`[${S}] connection ${H?"timed out":"failed"} - error; no more retries left`),et(this).debug(`[${S}] connection ${H?"timed out":"failed"} (error; no more retries left)`,Rn({retryOfRequestLogID:i,url:v,durationMs:L-k,message:R.message})),H?new wp:new Di({cause:R})}const $=`[${S}${x}] ${h.method} ${v} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${L-k}ms`;if(!R.ok){const B=await this.shouldRetry(R);if(o&&B){const ee=`retrying, ${o} attempts remaining`;return await L_(R.body),et(this).info(`${$} - ${ee}`),et(this).debug(`[${S}] response error (${ee})`,Rn({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,durationMs:L-k})),this.retryRequest(p,o,i??S,R.headers)}const H=B?"error; no more retries left":"error; not retryable";et(this).info(`${$} - ${H}`);const Y=await R.text().catch(ee=>Wl(ee).message),W=I_(Y),ne=W?void 0:Y;throw et(this).debug(`[${S}] response error (${H})`,Rn({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,message:ne,durationMs:Date.now()-k})),this.makeStatusError(R.status,W,ne,R.headers)}return et(this).info($),et(this).debug(`[${S}] response start`,Rn({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,durationMs:L-k})),{response:R,options:p,controller:D,requestLogID:S,retryOfRequestLogID:i,startTime:k}}async fetchWithTimeout(e,o,i,l){const c=o||{},{signal:f,method:p}=c,g=xi(c,["signal","method"]);f&&f.addEventListener("abort",()=>l.abort());const h=setTimeout(()=>l.abort(),i),v=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,E=Object.assign(Object.assign(Object.assign({signal:l.signal},v?{duplex:"half"}:{}),{method:"GET"}),g);p&&(E.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(h)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,i,l){var c;let f;const p=l?.get("retry-after-ms");if(p){const h=parseFloat(p);Number.isNaN(h)||(f=h)}const g=l?.get("retry-after");if(g&&!f){const h=parseFloat(g);Number.isNaN(h)?f=Date.parse(g)-Date.now():f=h*1e3}if(!(f&&0<=f&&f<60*1e3)){const h=(c=e.maxRetries)!==null&&c!==void 0?c:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,h)}return await A_(f),this.makeRequest(e,o-1,i)}calculateDefaultRetryTimeoutMillis(e,o){const c=o-e,f=Math.min(.5*Math.pow(2,c),8),p=1-Math.random()*.25;return f*p*1e3}async buildRequest(e,{retryCount:o=0}={}){var i,l,c;const f=Object.assign({},e),{method:p,path:g,query:h,defaultBaseURL:v}=f,E=this.buildURL(g,h,v);"timeout"in f&&w_("timeout",f.timeout),f.timeout=(i=f.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:S,body:x}=this.buildBody({options:f}),k=await this.buildHeaders({options:e,method:p,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:k},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(c=f.fetchOptions)!==null&&c!==void 0?c:{}),url:E,timeout:f.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:i,retryCount:l}){let c={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let p=Zo([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),P_()),this._options.defaultHeaders,i,e.headers,f]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Zo([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:D_(e)}:this.encoder({body:e,headers:i})}}Ui.DEFAULT_TIMEOUT=6e4;class $e extends Ui{constructor(){super(...arguments),this.interactions=new Bp(this)}}$p=$e;$e.GeminiNextGenAPIClient=$p;$e.GeminiNextGenAPIClientError=Et;$e.APIError=tt;$e.APIConnectionError=Di;$e.APIConnectionTimeoutError=wp;$e.APIUserAbortError=Kl;$e.NotFoundError=Rp;$e.ConflictError=kp;$e.RateLimitError=Mp;$e.BadRequestError=Ip;$e.AuthenticationError=Ap;$e.InternalServerError=Dp;$e.PermissionDeniedError=Np;$e.UnprocessableEntityError=Pp;$e.toFile=q_;$e.Interactions=Bp;function j_(t,e){const o={},i=a(t,["name"]);return i!=null&&u(o,["_url","name"],i),o}function eT(t,e){const o={},i=a(t,["name"]);return i!=null&&u(o,["_url","name"],i),o}function tT(t,e){const o={},i=a(t,["sdkHttpResponse"]);return i!=null&&u(o,["sdkHttpResponse"],i),o}function nT(t,e){const o={},i=a(t,["sdkHttpResponse"]);return i!=null&&u(o,["sdkHttpResponse"],i),o}function oT(t,e,o){const i={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(t,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&u(e,["displayName"],l),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=a(t,["epochCount"]);e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","epochCount"],c);const f=a(t,["learningRateMultiplier"]);if(f!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],f),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=a(t,["batchSize"]);e!==void 0&&p!=null&&u(e,["tuningTask","hyperparameters","batchSize"],p);const g=a(t,["learningRate"]);if(e!==void 0&&g!=null&&u(e,["tuningTask","hyperparameters","learningRate"],g),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function rT(t,e,o){const i={};let l=a(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const x=a(t,["validationDataset"]);e!==void 0&&x!=null&&u(e,["supervisedTuningSpec"],Wf(x))}else if(l==="PREFERENCE_TUNING"){const x=a(t,["validationDataset"]);e!==void 0&&x!=null&&u(e,["preferenceOptimizationSpec"],Wf(x))}const c=a(t,["tunedModelDisplayName"]);e!==void 0&&c!=null&&u(e,["tunedModelDisplayName"],c);const f=a(t,["description"]);e!==void 0&&f!=null&&u(e,["description"],f);let p=a(o,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const x=a(t,["epochCount"]);e!==void 0&&x!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(p==="PREFERENCE_TUNING"){const x=a(t,["epochCount"]);e!==void 0&&x!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let g=a(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const x=a(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(g==="PREFERENCE_TUNING"){const x=a(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let h=a(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=a(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(h==="PREFERENCE_TUNING"){const x=a(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let v=a(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const x=a(t,["adapterSize"]);e!==void 0&&x!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(v==="PREFERENCE_TUNING"){const x=a(t,["adapterSize"]);e!==void 0&&x!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=a(t,["labels"]);e!==void 0&&E!=null&&u(e,["labels"],E);const S=a(t,["beta"]);return e!==void 0&&S!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function iT(t,e){const o={},i=a(t,["baseModel"]);i!=null&&u(o,["baseModel"],i);const l=a(t,["preTunedModel"]);l!=null&&u(o,["preTunedModel"],l);const c=a(t,["trainingDataset"]);c!=null&&gT(c);const f=a(t,["config"]);return f!=null&&oT(f,o),o}function sT(t,e){const o={},i=a(t,["baseModel"]);i!=null&&u(o,["baseModel"],i);const l=a(t,["preTunedModel"]);l!=null&&u(o,["preTunedModel"],l);const c=a(t,["trainingDataset"]);c!=null&&yT(c,o,e);const f=a(t,["config"]);return f!=null&&rT(f,o,e),o}function lT(t,e){const o={},i=a(t,["name"]);return i!=null&&u(o,["_url","name"],i),o}function aT(t,e){const o={},i=a(t,["name"]);return i!=null&&u(o,["_url","name"],i),o}function uT(t,e,o){const i={},l=a(t,["pageSize"]);e!==void 0&&l!=null&&u(e,["_query","pageSize"],l);const c=a(t,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const f=a(t,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function cT(t,e,o){const i={},l=a(t,["pageSize"]);e!==void 0&&l!=null&&u(e,["_query","pageSize"],l);const c=a(t,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const f=a(t,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function dT(t,e){const o={},i=a(t,["config"]);return i!=null&&uT(i,o),o}function fT(t,e){const o={},i=a(t,["config"]);return i!=null&&cT(i,o),o}function pT(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&u(o,["sdkHttpResponse"],i);const l=a(t,["nextPageToken"]);l!=null&&u(o,["nextPageToken"],l);const c=a(t,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>Jp(p))),u(o,["tuningJobs"],f)}return o}function mT(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&u(o,["sdkHttpResponse"],i);const l=a(t,["nextPageToken"]);l!=null&&u(o,["nextPageToken"],l);const c=a(t,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>Xl(p))),u(o,["tuningJobs"],f)}return o}function hT(t,e){const o={},i=a(t,["name"]);i!=null&&u(o,["model"],i);const l=a(t,["name"]);return l!=null&&u(o,["endpoint"],l),o}function gT(t,e){const o={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=a(t,["examples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),u(o,["examples","examples"],l)}return o}function yT(t,e,o){const i={};let l=a(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const f=a(t,["gcsUri"]);e!==void 0&&f!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(l==="PREFERENCE_TUNING"){const f=a(t,["gcsUri"]);e!==void 0&&f!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let c=a(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=a(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=a(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Jp(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&u(o,["sdkHttpResponse"],i);const l=a(t,["name"]);l!=null&&u(o,["name"],l);const c=a(t,["state"]);c!=null&&u(o,["state"],sp(c));const f=a(t,["createTime"]);f!=null&&u(o,["createTime"],f);const p=a(t,["tuningTask","startTime"]);p!=null&&u(o,["startTime"],p);const g=a(t,["tuningTask","completeTime"]);g!=null&&u(o,["endTime"],g);const h=a(t,["updateTime"]);h!=null&&u(o,["updateTime"],h);const v=a(t,["description"]);v!=null&&u(o,["description"],v);const E=a(t,["baseModel"]);E!=null&&u(o,["baseModel"],E);const S=a(t,["_self"]);return S!=null&&u(o,["tunedModel"],hT(S)),o}function Xl(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&u(o,["sdkHttpResponse"],i);const l=a(t,["name"]);l!=null&&u(o,["name"],l);const c=a(t,["state"]);c!=null&&u(o,["state"],sp(c));const f=a(t,["createTime"]);f!=null&&u(o,["createTime"],f);const p=a(t,["startTime"]);p!=null&&u(o,["startTime"],p);const g=a(t,["endTime"]);g!=null&&u(o,["endTime"],g);const h=a(t,["updateTime"]);h!=null&&u(o,["updateTime"],h);const v=a(t,["error"]);v!=null&&u(o,["error"],v);const E=a(t,["description"]);E!=null&&u(o,["description"],E);const S=a(t,["baseModel"]);S!=null&&u(o,["baseModel"],S);const x=a(t,["tunedModel"]);x!=null&&u(o,["tunedModel"],x);const k=a(t,["preTunedModel"]);k!=null&&u(o,["preTunedModel"],k);const D=a(t,["supervisedTuningSpec"]);D!=null&&u(o,["supervisedTuningSpec"],D);const R=a(t,["preferenceOptimizationSpec"]);R!=null&&u(o,["preferenceOptimizationSpec"],R);const L=a(t,["tuningDataStats"]);L!=null&&u(o,["tuningDataStats"],L);const $=a(t,["encryptionSpec"]);$!=null&&u(o,["encryptionSpec"],$);const B=a(t,["partnerModelTuningSpec"]);B!=null&&u(o,["partnerModelTuningSpec"],B);const H=a(t,["customBaseModel"]);H!=null&&u(o,["customBaseModel"],H);const Y=a(t,["experiment"]);Y!=null&&u(o,["experiment"],Y);const W=a(t,["labels"]);W!=null&&u(o,["labels"],W);const ne=a(t,["outputUri"]);ne!=null&&u(o,["outputUri"],ne);const pe=a(t,["pipelineJob"]);pe!=null&&u(o,["pipelineJob"],pe);const ee=a(t,["serviceAccount"]);ee!=null&&u(o,["serviceAccount"],ee);const ae=a(t,["tunedModelDisplayName"]);ae!=null&&u(o,["tunedModelDisplayName"],ae);const _e=a(t,["veoTuningSpec"]);return _e!=null&&u(o,["veoTuningSpec"],_e),o}function vT(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&u(o,["sdkHttpResponse"],i);const l=a(t,["name"]);l!=null&&u(o,["name"],l);const c=a(t,["metadata"]);c!=null&&u(o,["metadata"],c);const f=a(t,["done"]);f!=null&&u(o,["done"],f);const p=a(t,["error"]);return p!=null&&u(o,["error"],p),o}function Wf(t,e){const o={},i=a(t,["gcsUri"]);i!=null&&u(o,["validationDatasetUri"],i);const l=a(t,["vertexDatasetResource"]);return l!=null&&u(o,["validationDatasetUri"],l),o}class ST extends bt{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new kn(Jt.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var i;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel};!((i=o.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(l.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:l});return c.baseModel=void 0,await this.tuneInternal(c)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),c=await this.tuneMldevInternal(l);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:Hl.JOB_STATE_QUEUED}}}}async getInternal(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=aT(e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Xl(v))}else{const h=lT(e);return p=J("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Jp(v))}}async listInternal(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=fT(e);return p=J("tuningJobs",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=mT(v),S=new Sf;return Object.assign(S,E),S})}else{const h=dT(e);return p=J("tunedModels",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=pT(v),S=new Sf;return Object.assign(S,E),S})}}async cancel(e){var o,i,l,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const h=eT(e);return p=J("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=nT(v),S=new Ef;return Object.assign(S,E),S})}else{const h=j_(e);return p=J("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const E=tT(v),S=new Ef;return Object.assign(S,E),S})}}async tuneInternal(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=sT(e,e);return c=J("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>Xl(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,i;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=iT(e);return c=J("tunedModels",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>vT(g))}}}class ET{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _T=1024*1024*8,TT=3,CT=1e3,xT=2,Ii="x-goog-upload-status";async function wT(t,e,o){var i;const l=await bp(t,e,o),c=await l?.json();if(((i=l?.headers)===null||i===void 0?void 0:i[Ii])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function IT(t,e,o){var i;const l=await bp(t,e,o),c=await l?.json();if(((i=l?.headers)===null||i===void 0?void 0:i[Ii])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=ep(c),p=new ia;return Object.assign(p,f),p}async function bp(t,e,o){var i,l;let c=0,f=0,p=new ql(new Response),g="upload";for(c=t.size;f<c;){const h=Math.min(_T,c-f),v=t.slice(f,f+h);f+h>=c&&(g+=", finalize");let E=0,S=CT;for(;E<TT&&(p=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(f),"Content-Length":String(h)}}}),!(!((i=p?.headers)===null||i===void 0)&&i[Ii]));)E++,await NT(S),S=S*xT;if(f+=h,((l=p?.headers)===null||l===void 0?void 0:l[Ii])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function AT(t){return{size:t.size,type:t.type}}function NT(t){return new Promise(e=>setTimeout(e,t))}class RT{async upload(e,o,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wT(e,o,i)}async uploadToFileSearchStore(e,o,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await IT(e,o,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AT(e)}}class kT{create(e,o,i){return new PT(e,o,i)}}class PT{constructor(e,o,i){this.url=e,this.headers=o,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const Kf="x-goog-api-key";class MT{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(Kf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Kf,this.apiKey)}}}const DT="gl-node/";class gi{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new $e({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const i=Ng(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new MT(this.apiKey);this.apiClient=new AE({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:DT+"web",uploader:new RT,downloader:new ET}),this.models=new OE(this.apiClient),this.live=new qE(this.apiClient,l,new kT),this.batches=new ov(this.apiClient),this.chats=new Gv(this.models,this.apiClient),this.caches=new Uv(this.apiClient),this.files=new Kv(this.apiClient),this.operations=new WE(this.apiClient),this.authTokens=new u_(this.apiClient),this.tunings=new ST(this.apiClient),this.fileSearchStores=new y_(this.apiClient)}}const Yf=new Map,LT=1e3*60*60;async function Op(t,e){const o=Yf.get(t);if(o&&Date.now()-o.timestamp<LT)return o.data;const i=await e();return Yf.set(t,{data:i,timestamp:Date.now()}),i}const Vl={getAllSurahs:async()=>Op("surahs",async()=>(await(await fetch("https://api.alquran.cloud/v1/surah")).json()).data),getSurahDetails:async t=>({ayahs:(await(await fetch(`https://api.alquran.cloud/v1/surah/${t}/ar.alafasy`)).json()).data.ayahs}),getTafseer:async(t,e)=>(await(await fetch(`https://api.alquran.cloud/v1/ayah/${t}:${e}/ar.muyassar`)).json()).data.text},UT={getTimes:async(t,e)=>{const o=new Date,i=Math.floor(o.getTime()/1e3),l=`prayer-${t.toFixed(2)}-${e.toFixed(2)}-${o.getDate()}`;return Op(l,async()=>(await(await fetch(`https://api.aladhan.com/v1/timings/${i}?latitude=${t}&longitude=${e}&method=4`)).json()).data)}},Ai={searchQuran:async t=>{try{throw new Error("API Key missing")}catch(e){return console.error("AI Search failed",e),[]}},getSurahInsights:async t=>{try{return"AI Service not available"}catch{return"Service unavailable."}},generateDuaByEmotion:async t=>{try{return"Service unavailable"}catch{return"    "}},chatWithSheikh:async(t,e)=>{try{return"    ."}catch(o){return console.error(o),"      ."}}};function Zl(t,e,o=!0){const[i,l]=te.useState(null),[c,f]=te.useState(o),[p,g]=te.useState(null),h=te.useCallback(async()=>{if(o){f(!0),g(null);try{const v=await e();l(v)}catch(v){g(v.message||"   ")}finally{f(!1)}}},[JSON.stringify(t),o]);return te.useEffect(()=>{h()},[h]),{data:i,isLoading:c,error:p,refetch:h}}const FT=[{id:1,category:"morning",text:"                      ",count:1,reference:" "},{id:2,category:"morning",text:"  ",count:100,benefit:"      "},{id:3,category:"evening",text:"             ",count:1},{id:4,category:"absolute",text:"   ",count:100},{id:5,category:"prayer",text:"  (33)   (33)   (33)",count:33}],Ni=t=>t.toString().replace(/\d/g,e=>""[parseInt(e)]),hn=te.createContext(null),yi=()=>T.jsx("div",{className:"flex justify-center items-center p-8",children:T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),VT=()=>{const{view:t,setView:e,darkMode:o,toggleDarkMode:i}=te.useContext(hn),l=({v:c,icon:f,label:p})=>T.jsxs("button",{onClick:()=>e(c),className:`flex flex-col items-center justify-center space-y-1 p-2 rounded-lg transition-all ${t===c?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[T.jsx(f,{size:24}),T.jsx("span",{className:"text-[10px] md:text-xs font-medium",children:p})]});return T.jsxs(T.Fragment,{children:[T.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-white/80 dark:bg-gray-950/80 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:T.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse cursor-pointer",onClick:()=>e("home"),children:[T.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center text-white font-bold font-serif",children:""}),T.jsx("h1",{className:"text-xl font-bold font-serif text-gray-900 dark:text-white hidden md:block",children:" "})]}),T.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:o?T.jsx(Tg,{size:20,className:"text-yellow-500"}):T.jsx(hg,{size:20,className:"text-gray-600"})})]})}),T.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-950 border-t border-gray-200 dark:border-gray-800 pb-safe z-50",children:T.jsxs("div",{className:"container mx-auto px-2 h-16 flex items-center justify-around",children:[T.jsx(l,{v:"home",icon:cg,label:""}),T.jsx(l,{v:"quran",icon:ea,label:""}),T.jsx(l,{v:"assistant",icon:na,label:""}),T.jsx(l,{v:"adhkar",icon:ta,label:""}),T.jsx(l,{v:"khatma",icon:jf,label:""})]})})]})},GT=()=>{const{location:t}=te.useContext(hn),[e,o]=te.useState(""),[i,l]=te.useState("..."),{data:c,isLoading:f,error:p}=Zl(["prayer",t?.lat,t?.lng],()=>t?UT.getTimes(t.lat,t.lng):Promise.reject("No location"),!!t);if(te.useEffect(()=>{if(!c)return;const h=setInterval(()=>{const v=new Date,E=["Fajr","Dhuhr","Asr","Maghrib","Isha"];let S=null,x=null;for(const k of E){const D=c.timings[k],[R,L]=D.split(":").map(Number),$=new Date;if($.setHours(R,L,0),$>v){S=k,x=$;break}}if(!S){S="Fajr";const k=c.timings.Fajr,[D,R]=k.split(":").map(Number),L=new Date;L.setDate(L.getDate()+1),L.setHours(D,R,0),x=L}if(o(S==="Fajr"?"":S==="Dhuhr"?"":S==="Asr"?"":S==="Maghrib"?"":""),x){const k=x.getTime()-v.getTime(),D=Math.floor(k/(1e3*60*60)),R=Math.floor(k%(1e3*60*60)/(1e3*60)),L=Math.floor(k%(1e3*60)/1e3);l(`${D.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(h)},[c]),!t)return T.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-xl border border-orange-200 dark:border-orange-800 mb-6",children:T.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-orange-700 dark:text-orange-400",children:[T.jsx(dg,{size:20}),T.jsx("p",{children:"     "})]})});if(f)return T.jsx("div",{className:"h-40 bg-gray-200 dark:bg-gray-800 animate-pulse rounded-2xl mb-6"});if(p)return T.jsx("div",{className:"text-red-500",children:"    "});const g=[{name:"",time:c?.timings.Fajr},{name:"",time:c?.timings.Dhuhr},{name:"",time:c?.timings.Asr},{name:"",time:c?.timings.Maghrib},{name:"",time:c?.timings.Isha}];return T.jsxs("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 rounded-2xl p-6 text-white shadow-lg mb-6 relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-8 -mt-8 blur-2xl"}),T.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-black/10 rounded-full -ml-4 -mb-4 blur-xl"}),T.jsxs("div",{className:"relative z-10",children:[T.jsxs("div",{className:"flex justify-between items-start mb-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-lg font-medium opacity-90",children:c?.date.hijri.weekday.ar}),T.jsxs("p",{className:"text-sm opacity-75",children:[c?.date.hijri.date," ",c?.date.hijri.month.ar]})]}),T.jsxs("div",{className:"text-left",children:[T.jsxs("p",{className:"text-xs opacity-75 mb-1",children:[" : ",e]}),T.jsx("p",{className:"text-2xl font-bold font-mono",children:Ni(i)})]})]}),T.jsx("div",{className:"grid grid-cols-5 gap-2 text-center",children:g.map(h=>T.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg ${e===h.name?"bg-white/20 ring-1 ring-white/50":""}`,children:[T.jsx("span",{className:"text-xs opacity-80 mb-1",children:h.name}),T.jsx("span",{className:"text-sm font-bold font-mono",children:Ni(h.time?.split(" ")[0]||"")})]},h.name))})]})]})},HT=({text:t,source:e,onClose:o})=>{const i=te.useRef(null);te.useEffect(()=>{const c=i.current;if(!c)return;const f=c.getContext("2d");if(!f)return;const p=f.createLinearGradient(0,0,0,600);p.addColorStop(0,"#064e3b"),p.addColorStop(1,"#10b981"),f.fillStyle=p,f.fillRect(0,0,600,600),f.strokeStyle="rgba(255,255,255,0.1)",f.lineWidth=10,f.strokeRect(20,20,560,560),f.fillStyle="#ffffff",f.textAlign="center",f.font="normal 32px Amiri";const g=t.split(" ");let h="",v=200;const E=500,S=50;for(let x=0;x<g.length;x++){const k=h+g[x]+" ";f.measureText(k).width>E&&x>0?(f.fillText(h,300,v),h=g[x]+" ",v+=S):h=k}f.fillText(h,300,v),f.font="20px Cairo",f.fillText(e,300,500),f.font="bold 16px Cairo",f.fillStyle="rgba(255,255,255,0.7)",f.fillText("  ",300,550)},[t,e]);const l=()=>{const c=i.current;if(c){const f=document.createElement("a");f.download="noor-alhuda-quote.png",f.href=c.toDataURL(),f.click()}};return T.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:T.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-4 max-w-lg w-full flex flex-col items-center",children:[T.jsxs("div",{className:"flex justify-between w-full mb-4",children:[T.jsx("h3",{className:"font-bold",children:" "}),T.jsx("button",{onClick:o,children:T.jsx(Ei,{size:20})})]}),T.jsx("canvas",{ref:i,width:600,height:600,className:"w-full h-auto rounded-lg shadow-lg mb-4 max-h-[50vh] object-contain"}),T.jsxs("button",{onClick:l,className:"flex items-center space-x-2 space-x-reverse bg-primary-600 text-white px-6 py-2 rounded-full hover:bg-primary-700",children:[T.jsx(ag,{size:18}),T.jsx("span",{children:" "})]})]})})},qT=()=>{const{playSurah:t,bookmarks:e,toggleBookmark:o}=te.useContext(hn),[i,l]=te.useState(""),{data:c,isLoading:f}=Zl("surahs",Vl.getAllSurahs),[p,g]=te.useState(null),[h,v]=te.useState(!1),[E,S]=te.useState(null),[x,k]=te.useState(""),[D,R]=te.useState(!1),[L,$]=te.useState([]),[B,H]=te.useState(!1),[Y,W]=te.useState(!1),[ne,pe]=te.useState(""),[ee,ae]=te.useState(!1),{data:_e,isLoading:Le}=Zl(["surah",p],()=>p?Vl.getSurahDetails(p):Promise.reject("No surah"),!!p),ce=async()=>{if(!i.trim())return;H(!0),$([]);const O=await Ai.searchQuran(i);$(O),H(!1)},Ne=async O=>{if(S(O),k("  ..."),p)try{const z=await Vl.getTafseer(p,O.numberInSurah);k(z)}catch{k("  ")}},Xe=async()=>{if(!p)return;W(!0),ae(!0);const O=c?.find(oe=>oe.number===p)?.name||"",z=await Ai.getSurahInsights(O);pe(z),ae(!1)};if(p)return T.jsxs("div",{className:`pb-24 animate-in fade-in slide-in-from-bottom-4 duration-300 ${h?"fixed inset-0 z-50 bg-white dark:bg-gray-950 overflow-y-auto p-4":""}`,children:[T.jsxs("div",{className:"sticky top-0 bg-white/95 dark:bg-gray-950/95 backdrop-blur z-20 pb-4 border-b border-gray-100 dark:border-gray-800 mb-6",children:[T.jsxs("div",{className:"flex items-center justify-between py-2",children:[T.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[T.jsx("button",{onClick:()=>h?v(!1):g(null),className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-full hover:bg-gray-200",children:h?T.jsx(mg,{size:20}):T.jsx(lg,{size:20})}),T.jsx("h2",{className:"text-xl font-bold font-serif",children:c?.find(O=>O.number===p)?.name})]}),T.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[T.jsx("button",{onClick:()=>v(!h),className:`p-2 rounded-full ${h?"bg-primary-100 text-primary-600":"bg-gray-100 dark:bg-gray-800"}`,title:" ",children:T.jsx(fg,{size:20})}),T.jsx("button",{onClick:Xe,className:"p-2 bg-purple-50 text-purple-600 dark:bg-purple-900/20 dark:text-purple-300 rounded-full",title:"  (AI)",children:T.jsx(Ll,{size:20})})]})]}),!h&&T.jsx("div",{className:"flex justify-center mt-2",children:T.jsxs("button",{onClick:()=>{const O=c?.find(z=>z.number===p);O&&t(O)},className:"flex items-center space-x-2 space-x-reverse bg-primary-600 hover:bg-primary-700 text-white px-4 py-1.5 rounded-full text-sm",children:[T.jsx(Zf,{size:14,className:"fill-current"}),T.jsx("span",{children:""})]})})]}),Y&&T.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",onClick:()=>W(!1),children:T.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-2xl max-w-lg w-full max-h-[70vh] overflow-y-auto",onClick:O=>O.stopPropagation(),children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[T.jsx(Ll,{size:18,className:"text-purple-500"}),"  "]}),T.jsx("button",{onClick:()=>W(!1),children:T.jsx(Ei,{size:20})})]}),ee?T.jsx(yi,{}):T.jsx("div",{className:"prose dark:prose-invert text-sm leading-relaxed whitespace-pre-wrap font-sans",children:ne})]})}),E&&T.jsx("div",{className:"fixed inset-0 z-[60] flex items-end md:items-center justify-center bg-black/50 p-4",onClick:()=>S(null),children:T.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-lg rounded-2xl p-6 animate-in slide-in-from-bottom-10",onClick:O=>O.stopPropagation(),children:[T.jsx("div",{className:"mb-4 pb-4 border-b border-gray-100 dark:border-gray-800",children:T.jsx("p",{className:"font-serif text-xl leading-loose mb-2 text-center",children:E.text})}),T.jsx("h4",{className:"font-bold text-sm text-primary-600 mb-2",children:" :"}),T.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed mb-6 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:x}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("button",{onClick:()=>{R(!0),S(null)},className:"flex items-center justify-center space-x-2 space-x-reverse p-3 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 rounded-xl font-medium",children:[T.jsx(Eg,{size:18}),T.jsx("span",{children:" "})]}),T.jsxs("button",{onClick:()=>S(null),className:"flex items-center justify-center p-3 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl font-medium",children:[T.jsx(Ei,{size:18}),T.jsx("span",{children:""})]})]})]})}),D&&T.jsx(HT,{text:E?.text||x,source:` ${c?.find(O=>O.number===p)?.name} -  ${E?.numberInSurah||""}`,onClose:()=>R(!1)}),Le?T.jsx(yi,{}):T.jsxs("div",{className:"space-y-6",children:[p!==1&&p!==9&&T.jsx("div",{className:"text-center font-serif text-2xl mb-8 mt-4 text-gray-800 dark:text-gray-200",children:"   "}),T.jsx("div",{className:`space-y-6 ${h?"max-w-3xl mx-auto":""}`,children:_e?.ayahs.map(O=>T.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>Ne(O),children:[T.jsxs("div",{className:`bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 font-serif text-right text-gray-800 dark:text-gray-100 transition-colors hover:border-primary-300 ${h?"text-3xl leading-[2.8]":"text-2xl leading-[2.5]"}`,children:[O.text,T.jsx("span",{className:"mr-2 inline-flex items-center justify-center w-8 h-8 text-sm border border-primary-500 rounded-full text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-transparent",children:Ni(O.numberInSurah)})]}),!h&&T.jsx("div",{className:"hidden group-hover:flex absolute top-2 left-2 space-x-2 space-x-reverse bg-white dark:bg-gray-800 p-1 rounded-lg shadow-md",children:T.jsx(Xf,{size:16,className:"text-gray-500"})})]},O.number))})]})]});const Ce=c?.filter(O=>O.name.includes(i)||O.englishName.toLowerCase().includes(i.toLowerCase()))||[];return T.jsxs("div",{className:"pb-24",children:[T.jsx("div",{className:"flex items-center justify-between mb-4",children:T.jsx("h2",{className:"text-2xl font-bold font-serif",children:" "})}),T.jsxs("div",{className:"space-y-3 mb-6",children:[T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"text",placeholder:"    ...",value:i,onChange:O=>l(O.target.value),className:"w-full pl-4 pr-10 py-3 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 focus:ring-2 focus:ring-primary-500 outline-none transition-all"}),T.jsx(vg,{className:"absolute right-3 top-3.5 text-gray-400",size:20})]}),i.length>2&&T.jsx("button",{onClick:ce,disabled:B,className:"w-full py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg flex items-center justify-center space-x-2 space-x-reverse text-sm font-bold shadow-lg shadow-purple-500/20",children:B?T.jsx(yi,{}):T.jsxs(T.Fragment,{children:[T.jsx(Ll,{size:16})," ",T.jsx("span",{children:"  ( )"})]})})]}),L.length>0&&T.jsxs("div",{className:"mb-8 animate-in slide-in-from-top-4",children:[T.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-3",children:"  :"}),T.jsx("div",{className:"space-y-3",children:L.map((O,z)=>T.jsxs("div",{onClick:()=>g(O.surah),className:"bg-purple-50 dark:bg-purple-900/10 p-4 rounded-xl border border-purple-100 dark:border-purple-800 cursor-pointer hover:bg-purple-100 transition-colors",children:[T.jsx("div",{className:"flex justify-between items-start",children:T.jsxs("h4",{className:"font-bold text-purple-800 dark:text-purple-300",children:[" ",c?.find(oe=>oe.number===O.surah)?.name," -  ",O.ayah]})}),T.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:O.reason})]},z))})]}),f?T.jsx(yi,{}):T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Ce.map(O=>T.jsxs("div",{onClick:()=>g(O.number),className:"group bg-white dark:bg-gray-900 p-4 rounded-xl border border-gray-100 dark:border-gray-800 hover:border-primary-500 dark:hover:border-primary-500 transition-all cursor-pointer flex items-center justify-between shadow-sm hover:shadow-md",children:[T.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[T.jsx("div",{className:"w-10 h-10 bg-gray-50 dark:bg-gray-800 rounded-lg flex items-center justify-center text-sm font-bold text-gray-500 group-hover:text-primary-600 group-hover:bg-primary-50 transition-colors",children:O.number}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold font-serif text-lg group-hover:text-primary-600 transition-colors",children:O.name}),T.jsxs("p",{className:"text-xs text-gray-500",children:[O.englishName,"  ",O.numberOfAyahs," "]})]})]}),T.jsx("div",{className:"flex items-center space-x-2 space-x-reverse",children:T.jsx("button",{onClick:z=>{z.stopPropagation(),o(O.number)},className:`p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 ${e.includes(O.number)?"text-primary-500 fill-primary-500":"text-gray-300"}`,children:T.jsx(ig,{size:18,className:e.includes(O.number)?"fill-current":""})})})]},O.number))})]})},BT=()=>{const[t,e]=te.useState(0),[o,i]=te.useState(0),[l,c]=te.useState(!1),[f,p]=te.useState(null),g=[{id:1,question:"       ",options:["","","",""],correctIndex:1,explanation:"      ."},{id:2,question:"    ",options:["110","112","114","116"],correctIndex:2,explanation:"    114 ."},{id:3,question:"     ",options:["620 ","622 ","624 ","630 "],correctIndex:1,explanation:"     622 ."},{id:4,question:"     ",options:["  ","   ","  ","  "],correctIndex:2,explanation:"          ."}],h=S=>{p(S),S===g[o].correctIndex&&e(t+10),setTimeout(()=>{o<g.length-1?(i(o+1),p(null)):c(!0)},1500)},v=()=>{e(0),i(0),c(!1),p(null)};if(l)return T.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-6",children:[T.jsx(jf,{size:64,className:"text-primary-500 mb-6"}),T.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),T.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["   ",t,"  ",g.length*10," "]}),T.jsx("button",{onClick:v,className:"bg-primary-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-primary-700 transition-colors",children:" "})]});const E=g[o];return T.jsxs("div",{className:"pb-24 max-w-2xl mx-auto",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold font-serif",children:" "}),T.jsxs("span",{className:"bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm font-bold",children:[o+1," / ",g.length]})]}),T.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 mb-6",children:[T.jsx("h3",{className:"text-xl font-bold mb-8 leading-relaxed",children:E.question}),T.jsx("div",{className:"space-y-3",children:E.options.map((S,x)=>{let k="bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700";return f!==null&&(x===E.correctIndex?k="bg-green-100 border-green-500 text-green-800":x===f&&(k="bg-red-100 border-red-500 text-red-800")),T.jsx("button",{disabled:f!==null,onClick:()=>h(x),className:`w-full p-4 rounded-xl border text-right font-medium transition-all ${k} hover:shadow-md`,children:S},x)})}),f!==null&&T.jsxs("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 text-sm rounded-lg",children:[T.jsx(Xf,{size:16,className:"inline ml-2"}),E.explanation]})]})]})},zT=()=>{const{khatma:t,updateKhatma:e}=te.useContext(hn),[o,i]=te.useState(30),l=()=>{const p=Math.ceil(604/o);e({days:o,currentPage:1,totalPages:604,dailyTarget:p,startDate:new Date().toISOString()})};if(!t)return T.jsxs("div",{className:"pb-24 flex flex-col items-center text-center p-6",children:[T.jsx(ea,{size:64,className:"text-primary-500 mb-6"}),T.jsx("h2",{className:"text-2xl font-bold font-serif mb-2",children:"  "}),T.jsx("p",{className:"text-gray-500 mb-8 max-w-md",children:"  .             ."}),T.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800",children:[T.jsx("label",{className:"block text-sm font-bold mb-2",children:"  ()"}),T.jsx("input",{type:"number",value:o,onChange:f=>i(parseInt(f.target.value)),className:"w-full p-3 bg-gray-50 dark:bg-gray-800 rounded-xl mb-4 text-center text-xl font-bold border border-gray-200 dark:border-gray-700"}),T.jsx("button",{onClick:l,className:"w-full bg-primary-600 text-white py-3 rounded-xl font-bold hover:bg-primary-700 transition-colors",children:" "})]})]});const c=t.currentPage/t.totalPages*100;return T.jsxs("div",{className:"pb-24",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold font-serif",children:" "}),T.jsx("button",{onClick:()=>e(null),className:"text-red-500 text-sm",children:""})]}),T.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white p-6 rounded-2xl shadow-lg mb-6 relative overflow-hidden",children:T.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[T.jsx("div",{className:"text-4xl font-bold font-mono mb-2",children:t.dailyTarget}),T.jsx("div",{className:"text-sm opacity-90 mb-6",children:" "}),T.jsx("div",{className:"w-full bg-black/20 rounded-full h-3 mb-2",children:T.jsx("div",{className:"bg-white h-3 rounded-full transition-all duration-500",style:{width:`${c}%`}})}),T.jsxs("div",{className:"flex justify-between w-full text-xs opacity-75",children:[T.jsxs("span",{children:[" ",t.currentPage]}),T.jsxs("span",{children:[Math.round(c),"%"]}),T.jsx("span",{children:t.totalPages})]})]})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{onClick:()=>e({...t,currentPage:Math.min(t.totalPages,t.currentPage+1)}),className:"flex-1 bg-white dark:bg-gray-900 p-4 rounded-xl border border-gray-200 dark:border-gray-800 font-bold hover:border-primary-500 transition-colors",children:" "}),T.jsx("button",{onClick:()=>e({...t,currentPage:Math.min(t.totalPages,t.currentPage+t.dailyTarget)}),className:"flex-1 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 p-4 rounded-xl border border-primary-100 dark:border-primary-800 font-bold",children:"  "})]})]})},$T=()=>{const[t,e]=te.useState("morning"),[o,i]=te.useState({}),l=(f,p)=>{navigator.vibrate&&navigator.vibrate(10),i(g=>{const h=g[f]||0;return h>=p?g:{...g,[f]:h+1}})},c=FT.filter(f=>f.category===t);return T.jsxs("div",{className:"pb-24",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6 font-serif",children:""}),T.jsx("div",{className:"flex p-1 bg-gray-200 dark:bg-gray-800 rounded-xl mb-6",children:[{id:"morning",label:""},{id:"evening",label:""},{id:"prayer",label:""}].map(f=>T.jsx("button",{onClick:()=>e(f.id),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${t===f.id?"bg-white dark:bg-gray-700 text-primary-700 dark:text-primary-300 shadow-sm":"text-gray-500 hover:text-gray-800"}`,children:f.label},f.id))}),T.jsx("div",{className:"space-y-4",children:c.map(f=>{const p=o[f.id]||0,g=p/f.count*100,h=p>=f.count;return T.jsxs("div",{onClick:()=>l(f.id,f.count),className:`relative overflow-hidden bg-white dark:bg-gray-900 rounded-xl border transition-all cursor-pointer select-none active:scale-[0.98] ${h?"border-primary-500/50 bg-primary-50/50 dark:bg-primary-900/20":"border-gray-100 dark:border-gray-800 shadow-sm"}`,children:[T.jsx("div",{className:"absolute bottom-0 right-0 top-0 bg-primary-100 dark:bg-primary-900/30 transition-all duration-300",style:{width:`${g}%`,zIndex:0}}),T.jsxs("div",{className:"relative z-10 p-5",children:[T.jsx("p",{className:"text-lg font-serif leading-loose mb-3 text-gray-800 dark:text-gray-100",children:f.text}),T.jsxs("div",{className:"flex justify-between items-end",children:[T.jsxs("div",{className:"text-xs text-gray-500",children:[f.reference&&T.jsx("span",{className:"block mb-1",children:f.reference}),f.benefit&&T.jsx("span",{className:"text-primary-600",children:f.benefit})]}),T.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[T.jsx("span",{className:"text-xs text-gray-400",children:" "}),T.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg border-2 transition-colors ${h?"bg-primary-500 border-primary-500 text-white":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:Ni(f.count-p)})]})]})]})]},f.id)})})]})},JT=()=>{const{chatHistory:t,addChatMessage:e}=te.useContext(hn),[o,i]=te.useState(""),[l,c]=te.useState(!1),f=te.useRef(null);te.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[t,l]);const p=async()=>{if(!o.trim()||l)return;const g=o;i(""),e("user",g),c(!0);const h=await Ai.chatWithSheikh(g,t);e("model",h),c(!1)};return T.jsxs("div",{className:"flex flex-col h-[calc(100vh-8rem)]",children:[T.jsx("div",{className:"flex items-center justify-between mb-4",children:T.jsxs("h2",{className:"text-2xl font-bold font-serif flex items-center gap-2",children:[T.jsx(na,{className:"text-primary-600"}),"  "]})}),T.jsxs("div",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900/50 rounded-2xl p-4 border border-gray-100 dark:border-gray-800 space-y-4",ref:f,children:[t.length===0&&T.jsxs("div",{className:"text-center py-10 text-gray-400",children:[T.jsx(sg,{size:48,className:"mx-auto mb-4 opacity-50"}),T.jsx("p",{children:"   ."}),T.jsx("p",{className:"text-sm",children:"         ."}),T.jsx("p",{className:"text-xs mt-2 text-red-400",children:":       ."})]}),t.map(g=>T.jsx("div",{className:`flex ${g.role==="user"?"justify-end":"justify-start"}`,children:T.jsx("div",{className:`max-w-[85%] p-4 rounded-2xl ${g.role==="user"?"bg-primary-600 text-white rounded-tl-none":"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-tr-none shadow-sm"}`,children:T.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:g.text})})},g.id)),l&&T.jsx("div",{className:"flex justify-start",children:T.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl rounded-tr-none border border-gray-200 dark:border-gray-700 shadow-sm",children:T.jsxs("div",{className:"flex space-x-1 space-x-reverse",children:[T.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),T.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"}),T.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"})]})})})]}),T.jsxs("div",{className:"mt-4 relative",children:[T.jsx("input",{type:"text",value:o,onChange:g=>i(g.target.value),onKeyDown:g=>g.key==="Enter"&&p(),placeholder:"  ...",className:"w-full pl-12 pr-4 py-4 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 focus:ring-2 focus:ring-primary-500 outline-none shadow-sm"}),T.jsx("button",{onClick:p,disabled:!o.trim()||l,className:"absolute left-2 top-2 p-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors",children:T.jsx(Sg,{size:20,className:l?"opacity-0":""})})]})]})},bT=()=>{const[t,e]=te.useState(""),[o,i]=te.useState(""),[l,c]=te.useState(!1),f=[{label:"",icon:ug,value:"sadness"},{label:"",icon:rg,value:"anxiety"},{label:"",icon:_g,value:"gratitude"},{label:"",icon:pg,value:"anger"}],p=async g=>{e(g),c(!0);const h=await Ai.generateDuaByEmotion(g);i(h),c(!1)};return T.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-2xl border border-gray-100 dark:border-gray-800 shadow-sm mb-6",children:[T.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[T.jsx(ta,{className:"text-pink-500 fill-current",size:20})," -   "]}),T.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:f.map(g=>T.jsxs("button",{onClick:()=>p(g.label),className:`flex flex-col items-center p-3 rounded-xl min-w-[4.5rem] transition-all border ${t===g.label?"bg-primary-50 border-primary-500 text-primary-700":"bg-gray-50 dark:bg-gray-800 border-transparent hover:bg-gray-100"}`,children:[T.jsx(g.icon,{size:24,className:"mb-2"}),T.jsx("span",{className:"text-xs font-medium",children:g.label})]},g.value))}),(l||o)&&T.jsx("div",{className:"mt-4 p-4 bg-primary-50/50 dark:bg-primary-900/10 rounded-xl border border-primary-100 dark:border-primary-800 animate-in fade-in slide-in-from-top-2",children:l?T.jsxs("div",{className:"flex items-center gap-2 text-primary-600 text-sm",children:[T.jsx(yg,{size:16,className:"animate-spin"}),"     ..."]}):T.jsx("p",{className:"text-lg font-serif leading-loose text-center text-gray-800 dark:text-gray-100",children:o})})]})},OT=()=>{const{audioState:t,togglePlay:e}=te.useContext(hn),o=te.useRef(null),[i,l]=te.useState(0);te.useEffect(()=>{t.audioUrl&&o.current&&(o.current.src!==t.audioUrl&&(o.current.src=t.audioUrl),t.isPlaying?o.current.play().catch(f=>console.error("Play error",f)):o.current.pause())},[t.audioUrl,t.isPlaying]);const c=()=>{if(o.current){const f=o.current.currentTime/o.current.duration*100;l(f||0)}};return t.currentSurah?T.jsxs("div",{className:"fixed bottom-16 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur border-t border-gray-200 dark:border-gray-800 p-3 z-40 transition-transform duration-300 transform translate-y-0 shadow-[0_-5px_20px_rgba(0,0,0,0.1)]",children:[T.jsx("audio",{ref:o,onTimeUpdate:c,onEnded:()=>e()}),T.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gray-200 dark:bg-gray-700",children:T.jsx("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:`${i}%`}})}),T.jsxs("div",{className:"container mx-auto flex items-center justify-between px-2",children:[T.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse truncate",children:[T.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900/50 rounded-lg flex items-center justify-center text-primary-600 dark:text-primary-400",children:T.jsx(Cg,{size:20})}),T.jsxs("div",{className:"truncate",children:[T.jsxs("p",{className:"text-sm font-bold truncate",children:[" ",t.currentSurah.name]}),T.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]}),T.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[T.jsx("button",{onClick:e,className:"w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center hover:bg-primary-700 shadow-lg shadow-primary-500/30",children:t.isPlaying?T.jsx(gg,{size:20,className:"fill-current"}):T.jsx(Zf,{size:20,className:"fill-current ml-0.5"})}),T.jsx("button",{onClick:()=>e(),className:"text-gray-400 hover:text-gray-900 dark:hover:text-white",children:T.jsx(Ei,{size:20})})]})]})]}):null},WT=()=>{const{view:t,setView:e}=te.useContext(hn);return T.jsxs("main",{className:"container mx-auto px-4 pt-6 min-h-screen",children:[t==="home"&&T.jsxs("div",{className:"pb-24 animate-in fade-in duration-500",children:[T.jsxs("div",{className:"mb-8",children:[T.jsx("h1",{className:"text-3xl font-bold font-serif mb-2 text-gray-900 dark:text-white",children:" "}),T.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:" "})]}),T.jsx(GT,{}),T.jsx(bT,{}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[T.jsxs("button",{onClick:()=>e("quran"),className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl border border-emerald-100 dark:border-emerald-800 flex flex-col items-center justify-center gap-3 hover:scale-[1.02] transition-transform",children:[T.jsx(ea,{size:32,className:"text-emerald-600 dark:text-emerald-400"}),T.jsx("span",{className:"font-bold text-emerald-800 dark:text-emerald-200",children:" "})]}),T.jsxs("button",{onClick:()=>e("adhkar"),className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800 flex flex-col items-center justify-center gap-3 hover:scale-[1.02] transition-transform",children:[T.jsx(ta,{size:32,className:"text-blue-600 dark:text-blue-400"}),T.jsx("span",{className:"font-bold text-blue-800 dark:text-blue-200",children:""})]}),T.jsxs("button",{onClick:()=>e("assistant"),className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl border border-indigo-100 dark:border-indigo-800 flex flex-col items-center justify-center gap-3 hover:scale-[1.02] transition-transform col-span-2",children:[T.jsx(na,{size:32,className:"text-indigo-600 dark:text-indigo-400"}),T.jsx("span",{className:"font-bold text-indigo-800 dark:text-indigo-200",children:"  ()"})]})]}),T.jsxs("div",{className:"mt-8",children:[T.jsx("div",{className:"flex justify-between items-center mb-4",children:T.jsx("h3",{className:"font-bold text-lg",children:" "})}),T.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 text-white p-6 rounded-2xl shadow-xl relative overflow-hidden",children:T.jsxs("div",{className:"relative z-10",children:[T.jsx("p",{className:"text-xl font-serif leading-loose text-center mb-4",children:'"          "'}),T.jsx("p",{className:"text-center text-sm opacity-70",children:"  -  201"})]})})]})]}),t==="quran"&&T.jsx(qT,{}),t==="adhkar"&&T.jsx($T,{}),t==="quiz"&&T.jsx(BT,{}),t==="khatma"&&T.jsx(zT,{}),t==="assistant"&&T.jsx(JT,{})]})};function KT(){const[t,e]=te.useState("home"),[o,i]=te.useState(!1),[l,c]=te.useState(null),[f,p]=te.useState({isPlaying:!1,currentSurah:null,currentAyahIndex:0,audioUrl:null}),[g,h]=te.useState([]),[v,E]=te.useState(null),[S,x]=te.useState([]);te.useEffect(()=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&i(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(W=>c({lat:W.coords.latitude,lng:W.coords.longitude}),W=>console.log("Geo error",W)):c({lat:21.3891,lng:39.8579});const H=localStorage.getItem("bookmarks");H&&h(JSON.parse(H));const Y=localStorage.getItem("khatma");Y&&E(JSON.parse(Y))},[]),te.useEffect(()=>{o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[o]);const k=()=>i(!o),D=H=>{const Y=g.includes(H)?g.filter(W=>W!==H):[...g,H];h(Y),localStorage.setItem("bookmarks",JSON.stringify(Y))},R=H=>{E(H),H?localStorage.setItem("khatma",JSON.stringify(H)):localStorage.removeItem("khatma")},L=H=>{const W=`https://server8.mp3quran.net/afs/${H.number.toString().padStart(3,"0")}.mp3`;p({isPlaying:!0,currentSurah:H,currentAyahIndex:0,audioUrl:W})},$=()=>{p(H=>({...H,isPlaying:!H.isPlaying}))},B=(H,Y)=>{x(W=>[...W,{id:Date.now().toString(),role:H,text:Y,timestamp:new Date}])};return T.jsx(hn.Provider,{value:{view:t,setView:e,darkMode:o,toggleDarkMode:k,location:l,audioState:f,playSurah:L,togglePlay:$,bookmarks:g,toggleBookmark:D,khatma:v,updateKhatma:R,chatHistory:S,addChatMessage:B},children:T.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 text-gray-900 dark:text-gray-100 font-sans transition-colors duration-300",children:[T.jsx(VT,{}),T.jsx(WT,{}),T.jsx(OT,{})]})})}const Wp=document.getElementById("root");if(!Wp)throw new Error("Could not find root element to mount to");const YT=eg.createRoot(Wp);YT.render(T.jsx(Wh.StrictMode,{children:T.jsx(KT,{})}));
